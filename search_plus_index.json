{"./":{"url":"./","title":"ç®€ä»‹","keywords":"","body":" gaohueric å¤©ç©ºæ²¡æœ‰ç—•è¿¹ é£é›¨å·²åœ¨å¿ƒä¸­ æŠ¥å‘Š bug Â· è¯·æ±‚å¢åŠ åŠŸèƒ½ å–œæ¬¢è¿™ä¸ªé¡¹ç›®ï¼Ÿè¯·è€ƒè™‘æèµ æ¥å¸®åŠ©å®ƒå®Œå–„ï¼ ç®€ä»‹ è¯¥GitBookå¯¹åšå®¢ä¸­çš„å„ä¸ªçŸ¥è¯†ç‚¹è¿›è¡Œæ€»ç»“å½’çº³çš„ã€‚ LeetCodeæ¿å— æœ¬æ–‡å°†å¯¹åŠ›æ‰£çš„ 1-700 é¢˜ä¸­ä¸éœ€è¦ä¼šå‘˜çš„æ•°æ®ç»“æ„ä¸ç®—æ³•é¢˜ç›®è¿›è¡Œåˆ†ç±»ï¼Œå¹¶æ¨èä¸€ä¸ªåˆ·é¢˜çš„é¡ºåºã€‚ å¯¹å„ä¸ªTagçš„æ•°æ®ç»“æ„ä¸ç®—æ³•è¿›è¡Œæ€»ç»“ã€æ€è€ƒã€å»¶æ—¶ï¼Œæ€»ç»“æ¨¡æ¿ï¼Œæ€»ç»“å¸¸è§åˆ·é¢˜å¥—è·¯ï¼Œè®°å½•code. leetcode é¢˜ç›®åœ°å€ https://leetcode-cn.com/problemset/all/ æ•°æ®åº“æ¿å— Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:24:26 "},"ç®€ä»‹/æ•°æ®ç»“æ„ä¸ç®—æ³•.html":{"url":"ç®€ä»‹/æ•°æ®ç»“æ„ä¸ç®—æ³•.html","title":"æ•°æ®ç»“æ„ä¸ç®—æ³•","keywords":"","body":"LeetCode é¢˜ç›®åˆ†ç±»åŠåˆ·é¢˜é¡ºåºæ¨è ä¸€. æ•°ç»„ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°ç»„çš„éå† 485âœ”ã€495âœ”ã€414âœ”ã€628âœ” ç»Ÿè®¡æ•°ç»„ä¸­çš„å…ƒç´  645âœ”ã€697âœ”ã€448âœ”ã€442âœ”ã€41âœ”ã€274âœ” æ•°ç»„çš„æ”¹å˜ã€ç§»åŠ¨ 453âœ”ã€665âœ”ã€283âœ” äºŒç»´æ•°ç»„åŠæ»šåŠ¨æ•°ç»„ 118âœ”ã€119âœ”ã€661ã€598ã€419 æ•°ç»„çš„æ—‹è½¬ 189âœ”ã€396 ç‰¹å®šé¡ºåºéå†äºŒç»´æ•°ç»„ 54ã€59ã€498 äºŒç»´æ•°ç»„å˜æ¢ 566ã€48ã€73ã€289 å‰ç¼€å’Œæ•°ç»„ 303ã€304ã€238 é¢˜è§£ æ•°ç»„ç¯‡ äºŒ. å­—ç¬¦ä¸² é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· å­—ç¬¦ 520âœ” å›æ–‡ä¸²çš„å®šä¹‰ 125âœ” å…¬å…±å‰ç¼€ 14âœ” å•è¯ 434âœ”ã€58âœ” å­—ç¬¦ä¸²çš„åè½¬ 344âœ”ã€541âœ”ã€557âœ”ã€151âœ” å­—ç¬¦çš„ç»Ÿè®¡ 387âœ”ã€389âœ”ã€383âœ”ã€242.âœ”ã€49âœ”ã€451âœ”ã€423ã€657âœ”ã€551âœ”ã€696ã€467ã€535âœ” æ•°å­—ä¸å­—ç¬¦ä¸²é—´è½¬æ¢ 299âœ”ã€412âœ”ã€506âœ”ã€539âœ”ã€553âœ”ã€537âœ”ã€592âœ”ã€640ã€38ã€443ã€8ã€13ã€12ã€273ã€165ã€481 å­åºåˆ— 392âœ”ã€524âœ”ã€521ã€522 é«˜ç²¾åº¦è¿ç®— 66ã€67ã€415ã€43ã€306 å­—ç¬¦ä¸²å˜æ¢ 482ã€6ã€68 å­—ç¬¦ä¸²åŒ¹é… 28ã€686ã€459ã€214 ä¸­å¿ƒæ‹“å±•æ³• 5ã€647 ä¸‰. æ•°ä¸ä½ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°å­—çš„ä½æ“ä½œ 7. æ•´æ•°åè½¬âœ”ã€9. å›æ–‡æ•°âœ”ã€479ã€564ã€231ã€342ã€326ã€504ã€263ã€190ã€191ã€476ã€461ã€477ã€693ã€393ã€172ã€458ã€258ã€319ã€405ã€171ã€168ã€670ã€233ã€357ã€400 ç®€å•æ•°å­¦é¢˜ 492ã€29ã€507 å¿«é€Ÿå¹‚ 50ã€372 å››. æ ˆä¸é€’å½’ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´  682ã€71ã€388 æ ˆä¸è®¡ç®—å™¨ 150ã€227ã€224 æ ˆä¸æ‹¬å·åŒ¹é… 20ã€636ã€591ã€32 é€’å½’ 385ã€341ã€394 äº”. é“¾è¡¨ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· é“¾è¡¨çš„åˆ é™¤ 203ã€237ã€19 é“¾è¡¨çš„éå† 430 é“¾è¡¨çš„æ—‹è½¬ä¸åè½¬ 61ã€24ã€206ã€92ã€25 é“¾è¡¨é«˜ç²¾åº¦åŠ æ³• 2ã€445 é“¾è¡¨çš„åˆå¹¶ 21ã€23 å…­. å“ˆå¸Œè¡¨ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· å“ˆå¸Œè¡¨çš„æŸ¥æ‰¾ã€æ’å…¥åŠåˆ é™¤ 217ã€633ã€349ã€128ã€202ã€500ã€290ã€532ã€205ã€166ã€466ã€138 å“ˆå¸Œè¡¨ä¸ç´¢å¼• 1ã€167ã€599ã€219ã€220 å“ˆå¸Œè¡¨ä¸ç»Ÿè®¡ 594ã€350ã€554ã€609ã€454ã€18 å“ˆå¸Œè¡¨ä¸å‰ç¼€å’Œ 560ã€523ã€525 ä¸ƒ. è´ªå¿ƒç®—æ³• é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°ç»„ä¸è´ªå¿ƒç®—æ³• 605ã€121ã€122ã€561ã€455ã€575ã€135ã€409ã€621ã€179ã€56ã€57ã€228ã€452ã€435ã€646ã€406ã€48ã€169ã€215ã€75ã€324ã€517ã€649ã€678ã€420 å­æ•°ç»„ä¸è´ªå¿ƒç®—æ³• 53ã€134ã€581ã€152 å­åºåˆ—ä¸è´ªå¿ƒç®—æ³• 334ã€376ã€659 æ•°å­—ä¸è´ªå¿ƒ 343 å•è°ƒæ ˆæ³• 496ã€503ã€456ã€316ã€402ã€321ã€84ã€85 å…«. åŒæŒ‡é’ˆæ³• é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· å¤´å°¾æŒ‡é’ˆ 345ã€680ã€167ã€15ã€16ã€18ã€11ã€42 åŒå‘åŒæŒ‡é’ˆã€æ»‘åŠ¨çª—å£ 27ã€26ã€80ã€83ã€82ã€611ã€187ã€643ã€674ã€209ã€3ã€438ã€567ã€424ã€76ã€30 åˆ†æ®µåŒæŒ‡é’ˆ 86ã€328ã€160ã€88ã€475 å¿«æ…¢æŒ‡é’ˆ 141ã€142ã€143ã€234ã€457ã€287 ä¹. æ ‘ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ ‘ä¸é€’å½’ 100ã€222ã€101ã€226ã€437ã€563ã€617ã€508ã€572ã€543ã€654ã€687ã€87 æ ‘çš„å±‚æ¬¡éå† 102ã€429ã€690ã€559ã€662ã€671ã€513ã€515ã€637ã€103ã€107ã€257ã€623ã€653ã€104ã€111ã€112ã€113ã€129ã€404ã€199ã€655ã€116ã€117 æ ‘çš„å‰åºéå† 144ã€589 æ ‘çš„å‰åºåºåˆ—åŒ– 606ã€331ã€652ã€297ã€449 æ ‘çš„ååºéå† 145ã€590 æ ‘çš„ä¸­åºéå†ä¸äºŒå‰æœç´¢æ ‘ 94ã€700ã€530ã€538ã€230ã€98ã€173ã€669ã€450ã€110ã€95ã€108ã€109 é‡æ„äºŒå‰æ ‘ 105ã€106 äºŒå‰æ ‘çš„å±•å¼€ 114 æœ€è¿‘å…¬å…±ç¥–å…ˆ 235ã€236 Morrisä¸­åºéå† 501ã€99 å››å‰æ ‘ 558ã€427 å. å›¾ä¸æœç´¢ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· å›¾çš„å»ºç«‹ä¸åº”ç”¨ 565 æ·±åº¦ä¼˜å…ˆæœç´¢ 17ã€397 å›æº¯æ³• 526ã€401ã€36ã€37ã€51ã€52ã€77ã€39ã€216ã€40ã€46ã€47ã€31ã€556ã€60ã€491ã€78ã€90ã€79ã€93ã€332 å›æº¯æ³•ä¸è¡¨è¾¾å¼ 241ã€282ã€679 å›æº¯æ³•ä¸æ‹¬å· 22ã€301 å›æº¯æ³•ä¸è´ªå¿ƒ 488 å¹¿åº¦ä¼˜å…ˆæœç´¢ 133ã€200ã€695ã€463ã€542ã€130ã€417ã€529ã€127ã€126ã€433ã€675 å¹¶æŸ¥é›† 547ã€684ã€685 æ‹“æ‰‘æ’åº 399ã€207ã€210 æœ‰é™çŠ¶æ€è‡ªåŠ¨æœº 65ã€468 åä¸€. äºŒåˆ†æŸ¥æ‰¾ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· äºŒåˆ†æŸ¥æ‰¾åº”ç”¨(ç®€å•) 374ã€35ã€278ã€367ã€69ã€441 äºŒåˆ†æŸ¥æ‰¾åº”ç”¨(ä¸­ç­‰) 34ã€540ã€275ã€436ã€300ã€354ã€658ã€162ã€4 äºŒåˆ†æŸ¥æ‰¾ä¸æ—‹è½¬æ•°ç»„ 153ã€154ã€33ã€81 äºŒåˆ†æŸ¥æ‰¾ä¸çŸ©é˜µ 74ã€240 äºŒåˆ†ç­”æ¡ˆæ³• 378ã€668ã€410ã€483 åäºŒ. äºŒè¿›åˆ¶è¿ç®—çš„åº”ç”¨ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· å¼‚æˆ–çš„åº”ç”¨ 89ã€136ã€137ã€260ã€268 ä¸æˆ–éçš„åº”ç”¨ 371ã€318ã€201 åä¸‰. åŠ¨æ€è§„åˆ’ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°ç»„ä¸­çš„åŠ¨æ€è§„åˆ’ 509ã€70ã€338ã€45ã€55ã€198ã€213ã€650ã€91ã€639ã€552ã€123ã€188ã€309ã€32ã€264ã€313ã€403 å­æ•°ç»„ã€å­åºåˆ—ä¸­çš„åŠ¨æ€è§„åˆ’ 689ã€413ã€446ã€368ã€416ã€279 èƒŒåŒ…é—®é¢˜ 322ã€518ã€474ã€494ã€377 çŸ©é˜µä¸­çš„åŠ¨æ€è§„åˆ’ 62ã€63ã€64ã€120ã€576ã€688ã€221ã€629ã€174ã€96ã€329 åŠ¨æ€è§„åˆ’ä¸å­—ç¬¦ä¸²åŒ¹é… 583ã€72ã€97ã€115ã€516ã€132ã€131ã€139ã€140ã€514ã€10ã€44 çŠ¶æ€å‹ç¼©åŠ¨æ€è§„åˆ’ 464ã€691ã€698ã€638ã€473 åŒºé—´ä¸­çš„åŠ¨æ€è§„åˆ’ 486ã€664ã€375ã€312ã€546 æ ‘å½¢dp 337ã€124 æ•°ä½dp 233ã€600 åå››. æ•°æ®ç»“æ„ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°æ®ç»“æ„è®¾è®¡â€”â€”æ ˆä¸é˜Ÿåˆ— 225ã€232ã€284ã€622ã€641ã€155 æ•°æ®ç»“æ„è®¾è®¡â€”â€”å“ˆå¸Œè¡¨ 676ã€355ã€380ã€381 æ•°æ®ç»“æ„è®¾è®¡â€”â€”å“ˆå¸Œä¸åŒå‘é“¾è¡¨ 432ã€146ã€460 å‰ç¼€æ ‘ 208ã€211ã€648ã€386ã€677ã€472ã€421ã€212ã€336ã€440 å † 23ã€373ã€378ã€632ã€347ã€692ã€502ã€630ã€407ã€295ã€480 æ ‘çŠ¶æ•°ç»„ 307ã€315ã€493ã€327ã€673 çº¿æ®µæ ‘ 699 å¹³è¡¡æ ‘(set/map) 352ã€218ã€363 åäº”. é‡‡æ · é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æŒ‰æƒå€¼é‡‡æ · 528ã€497 è“„æ°´æ± æŠ½æ · 382ã€398 æ‹’ç»é‡‡æ · 470ã€478ã€519 åå…­. è®¡ç®—å‡ ä½• é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· è®¡ç®—å‡ ä½•åŸºç¡€ 593ã€447ã€223ã€149 åˆ†ç±»è®¨è®ºæ³• 335 å‡¸åŒ… 587 è¦†ç›–é—®é¢˜ 391 åä¸ƒ. å¸¸ç”¨æŠ€å·§ä¸ç®—æ³• é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· åšå¼ˆè®º 292 åˆ†å— 239ã€164 å€å¢æ³• 330 æ‹“å±•æ¬§å‡ é‡Œå¾—ç®—æ³• 365 æ´—ç‰Œç®—æ³• 384 æ‰¾è§„å¾‹ 390ã€672 åˆ†æ²»æ³• 395ã€667 æ’åºç®—æ³• 147ã€148 çº¿æ€§ç­› 204 æ‘©å°”æŠ•ç¥¨æ³• 229 Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/æ•°ç»„.html":{"url":"ç®€ä»‹/æ•°ç»„.html","title":"æ•°ç»„","keywords":"","body":"æ•°ç»„ é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ•°ç»„çš„éå† 485âœ”ã€495âœ”ã€414âœ”ã€628âœ” ç»Ÿè®¡æ•°ç»„ä¸­çš„å…ƒç´  645âœ”ã€697âœ”ã€448âœ”ã€442âœ”ã€41âœ”ã€274âœ” æ•°ç»„çš„æ”¹å˜ã€ç§»åŠ¨ 453âœ”ã€665âœ”ã€283âœ” äºŒç»´æ•°ç»„åŠæ»šåŠ¨æ•°ç»„ 118âœ”ã€119âœ”ã€661ã€598ã€419 æ•°ç»„çš„æ—‹è½¬ 189âœ”ã€396 ç‰¹å®šé¡ºåºéå†äºŒç»´æ•°ç»„ 54ã€59ã€498 äºŒç»´æ•°ç»„å˜æ¢ 566ã€48ã€73ã€289 å‰ç¼€å’Œæ•°ç»„ 303ã€304ã€238 é¢˜è§£ æ•°ç»„ç¯‡ æ•°ç»„ç¯‡æ€»ç»“ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/485. æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°.html":{"url":"æ•°ç»„/485. æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°.html","title":"485. æœ€å¤§è¿ç»­ 1 çš„ä¸ªæ•°","keywords":"","body":"485. æœ€å¤§è¿ç»­1çš„ä¸ªæ•° //ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œ è®¡ç®—å…¶ä¸­æœ€å¤§è¿ç»­1çš„ä¸ªæ•°ã€‚ //ç¤ºä¾‹ 1: //è¾“å…¥: [1,1,0,1,1,1] //è¾“å‡º: 3 //è§£é‡Š: å¼€å¤´çš„ä¸¤ä½å’Œæœ€åçš„ä¸‰ä½éƒ½æ˜¯è¿ç»­1ï¼Œæ‰€ä»¥æœ€å¤§è¿ç»­1çš„ä¸ªæ•°æ˜¯ 3. // // æ³¨æ„ï¼š // è¾“å…¥çš„æ•°ç»„åªåŒ…å« 0 å’Œ1ã€‚ // è¾“å…¥æ•°ç»„çš„é•¿åº¦æ˜¯æ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000ã€‚ // // Related Topics æ•°ç»„ // ğŸ‘ 165 ğŸ‘ 0 class Solution { public int findMaxConsecutiveOnes(int[] nums) { int count = 0; int maxCount = 0; for(int i=0;imaxCount){ maxCount = count; } count = 0; } } return count>maxCount?count:maxCount; } } æ€è·¯ï¼šéå†æ•°ç»„ï¼Œç”¨ä¸€ä¸ªè®¡æ•°å™¨(count)è®°å½•1çš„æ•°é‡ï¼Œç”¨å¦ä¸€ä¸ªè®¡æ•°å™¨è®°å½•å½“å‰1çš„æœ€å¤§å‡ºè¡Œæ¬¡æ•°ï¼Œå¦‚æœé‡åˆ°0 ï¼Œæ¯”è¾ƒcountä¸maxCount ,maxCount è®°å½•è¾ƒå¤§å€¼ï¼ŒåŒæ—¶å°†countç½®ä¸º0ï¼› Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/495. æè«æ”»å‡».html":{"url":"æ•°ç»„/495. æè«æ”»å‡».html","title":"495. æè«æ”»å‡»","keywords":"","body":"495. æè«æ”»å‡» Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/414. ç¬¬ä¸‰å¤§çš„æ•°.html":{"url":"æ•°ç»„/414. ç¬¬ä¸‰å¤§çš„æ•°.html","title":"414. ç¬¬ä¸‰å¤§çš„æ•°","keywords":"","body":"414. ç¬¬ä¸‰å¤§çš„æ•° Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/628. ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯.html":{"url":"æ•°ç»„/628. ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯.html","title":"628. ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯","keywords":"","body":"628. ä¸‰ä¸ªæ•°çš„æœ€å¤§ä¹˜ç§¯ **[terminal] //ç»™å®šä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ï¼Œ è®¡ç®—å…¶ä¸­æœ€å¤§è¿ç»­1çš„ä¸ªæ•°ã€‚ //ç¤ºä¾‹ 1: //è¾“å…¥: [1,1,0,1,1,1] //è¾“å‡º: 3 //è§£é‡Š: å¼€å¤´çš„ä¸¤ä½å’Œæœ€åçš„ä¸‰ä½éƒ½æ˜¯è¿ç»­1ï¼Œæ‰€ä»¥æœ€å¤§è¿ç»­1çš„ä¸ªæ•°æ˜¯ 3. // // æ³¨æ„ï¼š // è¾“å…¥çš„æ•°ç»„åªåŒ…å« 0 å’Œ1ã€‚ // è¾“å…¥æ•°ç»„çš„é•¿åº¦æ˜¯æ­£æ•´æ•°ï¼Œä¸”ä¸è¶…è¿‡ 10,000ã€‚ // // Related Topics æ•°ç»„ // ğŸ‘ 165 ğŸ‘ 0 class Solution { public int findMaxConsecutiveOnes(int[] nums) { int count = 0; int maxCount = 0; for(int i=0;imaxCount){ maxCount = count; } count = 0; } } return count>maxCount?count:maxCount; } } Info styling [info] For info Use this for infomation messages. Warning styling [warning] For warning Use this for warning messages. Danger styling [danger] For danger Use this for danger messages. Success styling [success] For info Use this for success messages. Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/645. é”™è¯¯çš„é›†åˆ.html":{"url":"æ•°ç»„/645. é”™è¯¯çš„é›†åˆ.html","title":"645. é”™è¯¯çš„é›†åˆ","keywords":"","body":"645. é”™è¯¯çš„é›†åˆ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/54. èºæ—‹çŸ©é˜µ.html":{"url":"æ•°ç»„/54. èºæ—‹çŸ©é˜µ.html","title":"54. èºæ—‹çŸ©é˜µ","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 54. èºæ—‹çŸ©é˜µ è§£æ³•ä¸€ï¼šæŒ‰å±‚æ¨¡æ‹Ÿ å¯ä»¥å°†çŸ©é˜µçœ‹æˆè‹¥å¹²å±‚ï¼Œé¦–å…ˆè¾“å‡ºæœ€å¤–å±‚çš„å…ƒç´ ï¼Œå…¶æ¬¡è¾“å‡ºæ¬¡å¤–å±‚çš„å…ƒç´ ï¼Œç›´åˆ°è¾“å‡ºæœ€å†…å±‚çš„å…ƒç´ ã€‚ å®šä¹‰çŸ©é˜µçš„ç¬¬ kk å±‚æ˜¯åˆ°æœ€è¿‘è¾¹ç•Œè·ç¦»ä¸º k çš„æ‰€æœ‰é¡¶ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸‹å›¾çŸ©é˜µæœ€å¤–å±‚å…ƒç´ éƒ½æ˜¯ç¬¬ 1 å±‚ï¼Œæ¬¡å¤–å±‚å…ƒç´ éƒ½æ˜¯ç¬¬ 2 å±‚ï¼Œå‰©ä¸‹çš„å…ƒç´ éƒ½æ˜¯ç¬¬ 3 å±‚ã€‚ class Solution { public List spiralOrder(int[][] matrix) { List resp = new ArrayList<>(); if(matrix.length == 0 || null == matrix){ return resp; } int left = 0; int right = matrix[0].length-1; int top = 0; int bottom = matrix.length-1; int numEle = matrix[0].length * matrix.length; while(numEle >=1){ for(int i = left ;i=1;i++){ resp.add(matrix[top][i]); numEle--; } top++; for(int i =top;i=1;i++){ resp.add(matrix[i][right]); numEle--; } right--; for(int i= right;i>=left && numEle>=1;i--){ resp.add(matrix[bottom][i]); numEle--; } bottom--; for(int i = bottom;i>=top&& numEle>=1;i--){ resp.add(matrix[i][left]); numEle--; } left++; } return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/56. åˆå¹¶åŒºé—´.html":{"url":"æ•°ç»„/56. åˆå¹¶åŒºé—´.html","title":"56. åˆå¹¶åŒºé—´","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 56. åˆå¹¶åŒºé—´ è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ•°ç»„/88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„.html":{"url":"æ•°ç»„/88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„.html","title":"88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ è§£æ³•ä¸€ï¼šåˆå¹¶åæ’åº class Solution { public void merge(int[] nums1, int m, int[] nums2, int n) { int index = 0; for(int i=m;i è§£æ³•äºŒï¼šåŒæŒ‡é’ˆ class Solution { public void merge(int[] nums1, int m, int[] nums2, int n) { int i = 0; int j = 0; int index = 0; int[] temp = new int[m+n]; while(i è§£æ³•ä¸‰ï¼š åŸåœ°æ’åºåŒæŒ‡é’ˆ class Solution { public void merge(int[] nums1, int m, int[] nums2, int n) { int i= m-1; int j = n-1; int index = m+n-1; while(i>=0 && j>=0){ if(nums1[i] > nums2[j]){ nums1[index] = nums1[i]; i--; index--; } else{ nums1[index] = nums2[j]; j--; index--; } } while(i>=0){ nums1[index] = nums1[i]; i--; index--; } while(j>=0){ nums1[index] = nums2[j]; j--; index--; } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/å­—ç¬¦ä¸².html":{"url":"ç®€ä»‹/å­—ç¬¦ä¸².html","title":"å­—ç¬¦ä¸²","keywords":"","body":"å­—ç¬¦ä¸² Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å­—ç¬¦ä¸²/1910. åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å‡ºç°çš„ç»™å®šå­å­—ç¬¦ä¸².html":{"url":"å­—ç¬¦ä¸²/1910. åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å‡ºç°çš„ç»™å®šå­å­—ç¬¦ä¸².html","title":"1910. åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å‡ºç°çš„ç»™å®šå­å­—ç¬¦ä¸²","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 1910. åˆ é™¤ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å‡ºç°çš„ç»™å®šå­å­—ç¬¦ä¸² è§£æ³•ä¸€ï¼š é€’å½’ ä½¿ç”¨indexOf è·å–ç»™å®šå­—ç¬¦ä¸²å¼€å§‹çš„ç´¢å¼•ï¼Œ é€šè¿‡substring æˆªæ–­partå­—ç¬¦ä¸² class Solution { public String removeOccurrences(String s, String part) { if(!s.contains(part)){ return s; } int i = s.indexOf(part); s = s.substring(0, i) + s.substring(i + part.length()); return removeOccurrences(s,part); } } ä¹Ÿå¯ä»¥ä½¿ç”¨replaceFirst å°†partéƒ¨åˆ†æ›¿æ¢ä¸º\"\" æ•ˆç‡ä¸å¦‚æ–¹æ³•ä¸€ class Solution { public String removeOccurrences(String s, String part) { if(!s.contains(part)){ return s; } s = s.replaceFirst(part,\"\"); return removeOccurrences(s,part); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/æ ˆä¸é€’å½’.html":{"url":"ç®€ä»‹/æ ˆä¸é€’å½’.html","title":"æ ˆä¸é€’å½’","keywords":"","body":"æ ˆä¸é€’å½’åˆ·é¢˜é¡ºåº é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· ç”¨æ ˆè®¿é—®æœ€åè‹¥å¹²å…ƒç´  682ã€71ã€388 æ ˆä¸è®¡ç®—å™¨ 150ã€227ã€224 æ ˆä¸æ‹¬å·åŒ¹é… 20ã€636ã€591ã€32 é€’å½’ 385ã€341ã€394 æ ˆä¸é˜Ÿåˆ—çŸ¥è¯†æ€»ç»“ æ ˆçš„åŸºæœ¬æ¦‚å¿µ å…³äºâ€œæ ˆâ€ï¼Œæœ‰ä¸€ä¸ªéå¸¸è´´åˆ‡çš„ä¾‹å­ï¼Œå°±æ˜¯ä¸€æ‘å åœ¨ä¸€èµ·çš„ç›˜å­ã€‚æˆ‘ä»¬å¹³æ—¶æ”¾ç›˜å­çš„æ—¶å€™ï¼Œéƒ½æ˜¯ä»ä¸‹å¾€ä¸Šä¸€ä¸ªä¸€ä¸ªæ”¾ï¼›å–çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯ä»ä¸Šå¾€ä¸‹ä¸€ä¸ªä¸€ä¸ªåœ°ä¾æ¬¡å–ï¼Œä¸èƒ½ä»ä¸­é—´ä»»æ„æŠ½å‡ºã€‚åè¿›è€…å…ˆå‡ºï¼Œå…ˆè¿›è€…åå‡ºï¼Œè¿™å°±æ˜¯å…¸å‹çš„â€œæ ˆâ€ç»“æ„ã€‚ ä»æ ˆçš„æ“ä½œç‰¹æ€§ä¸Šæ¥çœ‹ï¼Œæ ˆæ˜¯ä¸€ç§â€œæ“ä½œå—é™â€çš„çº¿æ€§è¡¨ï¼Œåªå…è®¸åœ¨ä¸€ç«¯æ’å…¥å’Œåˆ é™¤æ•°æ®ã€‚ å½“æŸä¸ªæ•°æ®é›†åˆåªæ¶‰åŠåœ¨ä¸€ç«¯æ’å…¥å’Œåˆ é™¤æ•°æ®ï¼Œå¹¶ä¸”æ»¡è¶³åè¿›å…ˆå‡ºã€å…ˆè¿›åå‡ºçš„ç‰¹æ€§ï¼Œæˆ‘ä»¬å°±åº”è¯¥é¦–é€‰â€œæ ˆâ€è¿™ç§æ•°æ®ç»“æ„ã€‚ æ ˆåœ¨å‡½æ•°ä¸­çš„åº”ç”¨ï¼šæ ˆåœ¨å‡½æ•°ä¸­çš„åº”ç”¨ã€æ ˆåœ¨è¡¨è¾¾å¼ä¸­åº”ç”¨(æ‹¬å·åŒ¹é…)ã€æ ˆå®ç°æµè§ˆå™¨çš„å‰è¿›ä¸åé€€åŠŸèƒ½ç­‰ æ ˆçš„å®ç° æ ˆçš„å®ç°ä¸»è¦æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯æ•°ç»„çš„å®ç°ï¼Œå«åšé¡ºåºæ ˆï¼Œå¦å¤–ä¸€ç§æ˜¯é“¾è¡¨çš„å®ç°ï¼Œå«åšé“¾å¼æ ˆ é¡ºåºæ ˆ ä½¿ç”¨æ•°ç»„å®ç°æ ˆ // åŠŸèƒ½:åŸºäºæ•°ç»„çš„é¡ºåºæ ˆ public class ArrayStack { private String[] items; // æ•°ç»„ private int count; // æ ˆä¸­å…ƒç´ ä¸ªæ•° private int n; // æ ˆçš„å¤§å° // åˆå§‹åŒ–æ•°ç»„ï¼Œç”³è¯·ä¸€ä¸ªå¤§å°ä¸º n çš„æ•°ç»„ç©ºé—´ public ArrayStack(int n) { this.items = new String[n]; this.n = n; this.count = 0; } //åŠŸèƒ½:å…¥æ ˆ public boolean push(String item) { // æ•°ç»„ç©ºé—´ä¸å¤Ÿäº†ï¼Œç›´æ¥è¿”å› falseï¼Œå…¥æ ˆå¤±è´¥ã€‚ if (count == n) return false; // å°† item æ”¾åˆ°ä¸‹æ ‡ä¸º count çš„ä½ç½® items[count] = item; //æ•°ç»„é•¿åº¦+1 ++count; //å…¥æ ˆæˆåŠŸ return true; } // åŠŸèƒ½:å‡ºæ ˆ public String pop() { // æ ˆä¸ºç©ºï¼Œåˆ™ç›´æ¥è¿”å› null if (count == 0) return null; // è¿”å›ä¸‹æ ‡ä¸º count-1 çš„æ•°ç»„å…ƒç´  String tmp = items[count - 1]; //æ•°ç»„é•¿åº¦-1 --count; //è¿”å›å‡ºæ ˆæ•°æ®å…ƒç´  return tmp; } } é“¾å¼æ ˆ //åŠŸèƒ½:åŸºæœ¬é“¾è¡¨å®ç°æ ˆï¼Œå…¥æ ˆã€å‡ºæ ˆã€è¾“å‡ºæ ˆ public class StackBasedLinkedList { //å®šä¹‰æ ˆé¡¶æŒ‡é’ˆ private Node top = null; //å®šä¹‰æ ˆç»“ç‚¹ private static class Node { //æ ˆç»“ç‚¹æ•°æ®åŸŸ private int data; //æ ˆç»“ç‚¹æŒ‡é’ˆåŸŸ private Node next; //æ„é€ å‡½æ•° public Node(int data, Node next) { this.data = data; this.next = next; } //get è·å–æ•°æ®åŸŸæ–¹æ³• public int getData() { return data; } } public void push(int value) { //åˆ›å»ºä¸€ä¸ªæ ˆç»“ç‚¹ Node newNode = new Node(value, null); // åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º if (top == null) { //å¦‚æœæ ˆä¸ºç©ºï¼Œå°±å°†å…¥æ ˆçš„å€¼ä½œä¸ºæ ˆçš„ç¬¬ä¸€ä¸ªå…ƒç´  top = newNode; } else { //å¦åˆ™æ’å…¥åˆ°topæ ˆç»“ç‚¹å‰ï¼ˆæ‰€è°“çš„å°±æ˜¯å•é“¾è¡¨çš„å¤´æ’æ³•ï¼‰ newNode.next = top; top = newNode; } } //åŠŸèƒ½ : å‡ºæ ˆ public int pop() { // å¦‚æœæ ˆçš„æœ€é¡¶å±‚æ ˆç»“ç‚¹ä¸ºnull,æ ˆä¸ºç©º if (top == null) return -1; //å¦åˆ™æ‰§è¡Œå‡ºæ ˆæ“ä½œï¼Œç°å°†æ ˆé¡¶ç»“ç‚¹çš„æ•°æ®å…ƒç´ èµ‹å€¼ç»™ Value int value = top.data; //å°† top æŒ‡é’ˆå‘ä¸‹ç§»åŠ¨ top = top.next; //è¿”å›å‡ºæ ˆçš„å€¼ return value; } //åŠŸèƒ½:è¾“å‡ºæ ˆä¸­æ‰€æœ‰å…ƒç´  public void printAll() { //å°†æ ˆé¡¶æŒ‡é’ˆèµ‹å€¼ç»™p Node p = top; //å¾ªç¯éå†æ ˆ(éå†å•é“¾è¡¨) while (p != null) { System.out.print(p.data + \" \"); //æŒ‡å‘ä¸‹ä¸€ä¸ªç»“ç‚¹ p = p.next; } } } é˜Ÿåˆ—(Queue) é˜Ÿåˆ—(Queue)æ˜¯ä¸€ç§å…ˆè¿›å…ˆå‡º(FIFO)çš„æ•°æ®ç»“æ„ï¼ŒJavaä¸­å®šä¹‰äº†java.util.Queueæ¥å£ç”¨æ¥è¡¨ç¤ºé˜Ÿåˆ—ã€‚Javaä¸­çš„Queueä¸Listã€Setå±äºåŒä¸€ä¸ªçº§åˆ«æ¥å£ï¼Œå®ƒä»¬éƒ½æ˜¯ç»§æ‰¿äºCollectionæ¥å£ã€‚ Javaä¸­è¿˜å®šä¹‰äº†ä¸€ç§åŒç«¯é˜Ÿåˆ—java.util.Dequeï¼Œæˆ‘ä»¬å¸¸ç”¨çš„LinkedListå°±æ˜¯å®ç°äº†Dequeæ¥å£ã€‚ é˜Ÿåˆ—çš„å®ç° Javaä¸­å¯¹äºé˜Ÿåˆ—çš„å®ç°åˆ†ä¸ºéé˜»å¡é˜Ÿåˆ—ä¸é˜»å¡é˜Ÿåˆ—ä¸¤ç§ é˜»å¡é˜Ÿåˆ—ä¸æ™®é€š(éé˜»å¡)é˜Ÿåˆ—çš„åŒºåˆ«åœ¨äºï¼Œå½“é˜Ÿåˆ—æ˜¯ç©ºçš„æ—¶ï¼Œä»é˜Ÿåˆ—ä¸­è·å–å…ƒç´ çš„æ“ä½œå°†ä¼šè¢«é˜»å¡ï¼Œæˆ–è€…å½“é˜Ÿåˆ—æ˜¯æ»¡æ—¶ï¼Œå¾€é˜Ÿåˆ—é‡Œæ·»åŠ å…ƒç´ çš„æ“ä½œä¼šè¢«é˜»å¡ã€‚è¯•å›¾ä»ç©ºçš„é˜»å¡é˜Ÿåˆ—ä¸­è·å–å…ƒç´ çš„çº¿ç¨‹å°†ä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä»–çš„çº¿ç¨‹å¾€ç©ºçš„é˜Ÿåˆ—æ’å…¥æ–°çš„å…ƒç´ ã€‚åŒæ ·ï¼Œè¯•å›¾å¾€å·²æ»¡çš„é˜»å¡é˜Ÿåˆ—ä¸­æ·»åŠ æ–°å…ƒç´ çš„çº¿ç¨‹åŒæ ·ä¹Ÿä¼šè¢«é˜»å¡ï¼Œç›´åˆ°å…¶ä»–çš„çº¿ç¨‹ä½¿é˜Ÿåˆ—é‡æ–°å˜å¾—ç©ºé—²èµ·æ¥ï¼Œå¦‚ä»é˜Ÿåˆ—ä¸­ç§»é™¤ä¸€ä¸ªæˆ–è€…å¤šä¸ªå…ƒç´ ï¼Œæˆ–è€…å®Œå…¨æ¸…ç©ºé˜Ÿåˆ—. éé˜»å¡é˜Ÿåˆ— 1ã€LinkedList LinkedListæ˜¯åŒç›¸é“¾è¡¨ç»“æ„ï¼Œåœ¨æ·»åŠ å’Œåˆ é™¤å…ƒç´ çš„æ—¶å…·æœ‰æ¯”ArrayListæ›´å¥½çš„æ€§èƒ½ã€‚ä½†åœ¨Getå’ŒSetæ–¹é¢å¼±äºArrayList.å½“ç„¶ï¼Œè¿™äº›å¯¹æ¯”éƒ½æ˜¯æŒ‡æ•°æ®é‡å¾ˆå¤§æˆ–è€…æ“ä½œå¾ˆé¢‘ç¹çš„æƒ…å†µä¸‹çš„å¯¹æ¯”ã€‚ å½“LinkedListä½œä¸ºé˜Ÿåˆ—ä½¿ç”¨æ—¶ï¼Œå°½é‡é¿å…Collectionçš„add()å’Œremove()æ–¹æ³•ï¼Œè€Œæ˜¯è¦ä½¿ç”¨offer()æ¥åŠ å…¥å…ƒç´ ï¼Œä½¿ç”¨poll()æ¥è·å–å¹¶ç§»å‡ºå…ƒç´ ã€‚å®ƒä»¬çš„ä¼˜ç‚¹æ˜¯é€šè¿‡è¿”å›å€¼å¯ä»¥åˆ¤æ–­æˆåŠŸä¸å¦ï¼Œadd()å’Œremove()æ–¹æ³•åœ¨å¤±è´¥çš„æ—¶å€™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚ 2ã€PriorityQueue PriorityQueueç»´æŠ¤ä¸€ä¸ªæœ‰åºåˆ—è¡¨ï¼Œå­˜å‚¨åˆ°é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¼šæŒ‰ç…§è‡ªç„¶é¡ºåºæ’åˆ—ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™å®ƒæŒ‡å®šä¸€ä¸ªå®ç°äº† java.util.Comparator æ¥å£çš„æ’åºç±»æ¥æŒ‡å®šå…ƒç´ æ’åˆ—çš„é¡ºåºã€‚ 3ã€ConcurrentLinkedQueue ConcurrentLinkedQueueçœ‹åæ€ä¹‰ï¼ŒConcurrentLinkedQueueæ˜¯ä¸€ä¸ªåŸºäºé“¾æ¥èŠ‚ç‚¹çš„æ— ç•Œçº¿ç¨‹å®‰å…¨é˜Ÿåˆ—ï¼Œå®ƒé‡‡ç”¨å…ˆè¿›å…ˆå‡ºçš„è§„åˆ™å¯¹èŠ‚ç‚¹è¿›è¡Œæ’åºï¼Œå½“æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œå®ƒä¼šæ·»åŠ åˆ°é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œå½“æˆ‘ä»¬è·å–ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå®ƒä¼šè¿”å›é˜Ÿåˆ—å¤´éƒ¨çš„å…ƒç´ å¹¶åˆ é™¤ã€‚ æ³¨:PriorityQueue å’Œ ConcurrentLinkedQueue ç±»åœ¨ Collection Frameworkä¸­åŠ å…¥ä¸¤ä¸ªå…·ä½“é›†åˆå®ç°ã€‚ é˜»å¡é˜Ÿåˆ— é˜»å¡é˜Ÿåˆ—å®šä¹‰åœ¨äº†java.util.concurrentåŒ…ä¸­ï¼Œjava.util.concurrent.BlockingQueue ç»§æ‰¿äº†Queueæ¥å£ï¼Œå®ƒæœ‰ 5 ä¸ªå®ç°ç±»ï¼Œåˆ†åˆ«æ˜¯ 1ã€ArrayBlockingQueue ArrayBlockingQueueä¸€ä¸ªå†…éƒ¨ç”±æ•°ç»„æ”¯æŒçš„æœ‰ç•Œé˜Ÿåˆ—ã€‚åˆå§‹åŒ–æ—¶å¿…é¡»æŒ‡å®šé˜Ÿåˆ—çš„å®¹é‡ï¼Œè¿˜å¯ä»¥è®¾ç½®å†…éƒ¨çš„ReentrantLockæ˜¯å¦ä½¿ç”¨å…¬å¹³é”ã€‚ä½†æ˜¯å…¬å¹³æ€§ä¼šä½¿ä½ åœ¨æ€§èƒ½ä¸Šä»˜å‡ºä»£ä»·ï¼Œåªæœ‰åœ¨çš„ç¡®éå¸¸éœ€è¦çš„æ—¶å€™å†ä½¿ç”¨å®ƒã€‚å®ƒæ˜¯åŸºäºæ•°ç»„çš„é˜»å¡å¾ªç¯é˜Ÿåˆ—ï¼Œæ­¤é˜Ÿåˆ—æŒ‰FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰åŸåˆ™å¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚ å®ƒçš„æ€æƒ³å°±æ˜¯å¦‚æœBlockingQueueæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆä»BlockingQueueå–ä¸œè¥¿çš„æ“ä½œå°†ä¼šè¢«é˜»æ–­è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°BlockingQueueè¿›äº†ä¸œè¥¿æ‰ä¼šè¢«å”¤é†’ã€‚åŒæ ·,å¦‚æœBlockingQueueæ˜¯æ»¡çš„ï¼Œä»»ä½•è¯•å›¾å¾€é‡Œå­˜ä¸œè¥¿çš„æ“ä½œä¹Ÿä¼šè¢«é˜»æ–­è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œç›´åˆ°BlockingQueueé‡Œæœ‰ç©ºé—´æ‰ä¼šè¢«å”¤é†’ç»§ç»­æ“ä½œã€‚ 2ã€LinkedBlockingQueue LinkedBlockingQueueä¸€ä¸ªå†…éƒ¨ç”±é“¾æ¥èŠ‚ç‚¹æ”¯æŒçš„å¯é€‰æœ‰ç•Œé˜Ÿåˆ—ã€‚åˆå§‹åŒ–æ—¶ä¸éœ€è¦æŒ‡å®šé˜Ÿåˆ—çš„å®¹é‡ï¼Œé»˜è®¤æ˜¯Integer.MAX_VALUEï¼Œä¹Ÿå¯ä»¥çœ‹æˆå®¹é‡æ— é™å¤§ã€‚æ­¤é˜Ÿåˆ—æŒ‰ FIFOï¼ˆå…ˆè¿›å…ˆå‡ºï¼‰æ’åºå…ƒç´  ã€‚ 3ã€PriorityBlockingQueue PriorityBlockingQueueä¸€ä¸ªå†…éƒ¨ç”±ä¼˜å…ˆçº§å †æ”¯æŒçš„æ— ç•Œä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚é˜Ÿåˆ—ä¸­çš„å…ƒç´ æŒ‰ä¼˜å…ˆçº§é¡ºåºè¢«ç§»é™¤ã€‚PriorityBlockingQueueå°±æ˜¯PriorityQueueçš„åŠ é”çº¿ç¨‹å®‰å…¨ç‰ˆã€‚ 4ã€DelayQueue DelayQueueä¸€ä¸ªå†…éƒ¨ç”±ä¼˜å…ˆçº§å †æ”¯æŒçš„ã€åŸºäºæ—¶é—´çš„è°ƒåº¦é˜Ÿåˆ—ã€‚é˜Ÿåˆ—ä¸­å­˜æ”¾Delayedå…ƒç´ ï¼Œåªæœ‰åœ¨å»¶è¿ŸæœŸæ»¡åæ‰èƒ½ä»é˜Ÿåˆ—ä¸­æå–å…ƒç´ ã€‚å½“ä¸€ä¸ªå…ƒç´ çš„getDelay()æ–¹æ³•è¿”å›å€¼å°äºç­‰äº0æ—¶æ‰èƒ½ä»é˜Ÿåˆ—ä¸­pollå‡ºå…ƒç´ ï¼Œå¦åˆ™poll()æ–¹æ³•ä¼šè¿”å›nullã€‚ DelayQueueæ˜¯ä¸€ä¸ªæ— ç•Œé˜»å¡é˜Ÿåˆ—ï¼Œåªæœ‰åœ¨å»¶è¿ŸæœŸæ»¡æ—¶æ‰èƒ½ä»ä¸­æå–å…ƒç´ ã€‚è¯¥é˜Ÿåˆ—çš„å¤´éƒ¨æ˜¯å»¶è¿ŸæœŸæ»¡åä¿å­˜æ—¶é—´æœ€é•¿çš„Delayed å…ƒç´ ã€‚ ç¼“å­˜ç³»ç»Ÿçš„è®¾è®¡ï¼Œç¼“å­˜ä¸­çš„å¯¹è±¡ï¼Œè¶…è¿‡äº†ç©ºé—²æ—¶é—´ï¼Œéœ€è¦ä»ç¼“å­˜ä¸­ç§»å‡ºï¼›ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼Œèƒ½å¤Ÿå‡†ç¡®çš„æŠŠæ¡ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€‚æˆ‘ä»¬å¯èƒ½éœ€è¦é€šè¿‡çº¿ç¨‹å¤„ç†å¾ˆå¤šæ—¶é—´ä¸Šè¦æ±‚å¾ˆä¸¥æ ¼çš„æ•°æ®ã€‚å¯ä»¥è€ƒè™‘DelayQueueã€‚ 5ã€SynchronousQueue SynchronousQueueå®ƒæ¨¡æ‹Ÿçš„åŠŸèƒ½ç±»ä¼¼äºç”Ÿæ´»ä¸­ä¸€æ‰‹äº¤é’±ä¸€æ‰‹äº¤è´§è¿™ç§æƒ…å½¢ï¼Œåƒé‚£ç§è´§åˆ°ä»˜æ¬¾æˆ–è€…å…ˆä»˜æ¬¾åå‘è´§æ¨¡å‹ä¸é€‚åˆä½¿ç”¨SynchronousQueueã€‚ SynchronousQueue ä¹Ÿæ˜¯ä¸€ä¸ªé˜Ÿåˆ—æ¥çš„ï¼Œä½†å®ƒçš„ç‰¹åˆ«ä¹‹å¤„åœ¨äºå®ƒå†…éƒ¨æ²¡æœ‰å®¹å™¨ï¼Œä¸€ä¸ªç”Ÿäº§çº¿ç¨‹ï¼Œå½“å®ƒç”Ÿäº§äº§å“ï¼ˆå³putçš„æ—¶å€™ï¼‰ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äººæƒ³è¦æ¶ˆè´¹äº§å“(å³å½“å‰æ²¡æœ‰çº¿ç¨‹æ‰§è¡Œtake)ï¼Œæ­¤ç”Ÿäº§çº¿ç¨‹å¿…é¡»é˜»å¡ï¼Œç­‰å¾…ä¸€ä¸ªæ¶ˆè´¹çº¿ç¨‹è°ƒç”¨takeæ“ä½œï¼Œtakeæ“ä½œå°†ä¼šå”¤é†’è¯¥ç”Ÿäº§çº¿ç¨‹ï¼ŒåŒæ—¶æ¶ˆè´¹çº¿ç¨‹ä¼šè·å–ç”Ÿäº§çº¿ç¨‹çš„äº§å“ï¼ˆå³æ•°æ®ä¼ é€’ï¼‰ï¼Œè¿™æ ·çš„ä¸€ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸€æ¬¡é…å¯¹è¿‡ç¨‹(å½“ç„¶ä¹Ÿå¯ä»¥å…ˆtakeåput,åŸç†æ˜¯ä¸€æ ·çš„)ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ˆä¸é€’å½’/682. æ£’çƒæ¯”èµ›.html":{"url":"æ ˆä¸é€’å½’/682. æ£’çƒæ¯”èµ›.html","title":"682. æ£’çƒæ¯”èµ›(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 682. æ£’çƒæ¯”èµ› è§£æ³•ä¸€:Deque åŒç«¯é˜Ÿåˆ—å®ç° å› ä¸ºæ¯æ¬¡é‡åˆ° ++ï¼ŒDDï¼ŒCC æ—¶ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ä¹‹å‰çš„æ•°å­—è¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ ˆï¼Œç”¨æ¥å­˜æ”¾æ•°å­—ã€‚ å½“æˆ‘ä»¬é‡åˆ°æ•°å­—ï¼Œå°±å‹å…¥æ ˆï¼Œé‡åˆ°ç¬¦å·ï¼Œå°±å¯¹åº”ä»æ ˆä¸­è·å–æ•°å­—ï¼Œåšå‡ºå¯¹åº”æ“ä½œå³å¯ã€‚ class Solution { public int calPoints(String[] ops) { int res = 0; Deque deque = new ArrayDeque<>(); for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ˆä¸é€’å½’/71. ç®€åŒ–è·¯å¾„.html":{"url":"æ ˆä¸é€’å½’/71. ç®€åŒ–è·¯å¾„.html","title":"71. ç®€åŒ–è·¯å¾„(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 71. ç®€åŒ–è·¯å¾„ è§£æ³•ä¸€: æ ˆ è§£é¢˜æ€è·¯ åˆ†å‰²å­—ç¬¦ä¸²ä¹‹åæ ¹æ®æ¯ç§æƒ…å†µè¿›è¡Œåˆ¤å®šï¼Œ.å’Œ``å°±ä¸ç”¨ç®¡ï¼Œç›´æ¥è·³è¿‡ï¼Œ..å°±ä»£è¡¨ç€è¿”å›ä¸Šä¸€çº§ï¼Œå³å¼¹å‡ºé˜Ÿå°¾å…ƒç´ ï¼ˆè¦æ³¨æ„åˆ¤ç©ºï¼‰ å…¶ä»–æƒ…å†µç›´æ¥å‹å…¥é˜Ÿåˆ—å°±è¡Œã€‚ ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªæ•°ç»„æ¥ç»´æŠ¤ã€‚ class Solution { public String simplifyPath(String path) { String[] pathStr = path.split(\"/\"); Deque deque = new ArrayDeque<>(); for(String s: pathStr){ if(s.equals(\"\") || s.equals(\".\")){ continue; } else if(s.equals(\"..\")){ if(!deque.isEmpty()){ deque.pollLast(); } } else{ deque.offerLast(s); } } StringBuilder sb = new StringBuilder(); for(String ans : deque){ sb.append(\"/\"); sb.append(ans); } if(sb.toString().equals(\"\")){ return \"/\"; } return sb.toString(); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ˆä¸é€’å½’/150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼.html":{"url":"æ ˆä¸é€’å½’/150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼.html","title":"150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 150. é€†æ³¢å…°è¡¨è¾¾å¼æ±‚å€¼ æ ¹æ® é€†æ³¢å…°è¡¨ç¤ºæ³•ï¼Œæ±‚è¡¨è¾¾å¼çš„å€¼ã€‚ æœ‰æ•ˆçš„ç®—ç¬¦åŒ…æ‹¬ +ã€-ã€*ã€/ ã€‚æ¯ä¸ªè¿ç®—å¯¹è±¡å¯ä»¥æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¦ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ã€‚ è¯´æ˜ï¼š æ•´æ•°é™¤æ³•åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚ ç»™å®šé€†æ³¢å…°è¡¨è¾¾å¼æ€»æ˜¯æœ‰æ•ˆçš„ã€‚æ¢å¥è¯è¯´ï¼Œè¡¨è¾¾å¼æ€»ä¼šå¾—å‡ºæœ‰æ•ˆæ•°å€¼ä¸”ä¸å­˜åœ¨é™¤æ•°ä¸º 0 çš„æƒ…å†µã€‚ è§£æ³•ä¸€ï¼š æ ˆ æ€è·¯ï¼š è§£å†³è¿™é“é¢˜ï¼Œä¸»è¦æ˜¯çŸ¥é“ä»€ä¹ˆæ˜¯é€†æ³¢å…°è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯ä¸­ç¼€è¡¨è¾¾å¼ã€‚ æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸ªä¾‹å­...åç¼€è¡¨è¾¾å¼3 4 + 5 Ã— 6 -çš„è®¡ç®— 1.ä»å·¦è‡³å³æ‰«æï¼Œå°†3å’Œ4å‹å…¥å †æ ˆï¼› 2.é‡åˆ°+è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º4å’Œ3ï¼ˆ4ä¸ºæ ˆé¡¶å…ƒç´ ï¼Œ3ä¸ºæ¬¡é¡¶å…ƒç´ ï¼Œæ³¨æ„ä¸å‰ç¼€è¡¨è¾¾å¼åšæ¯”è¾ƒï¼‰ï¼Œè®¡ç®—å‡º3+4çš„å€¼ï¼Œå¾—7ï¼Œå†å°†7å…¥æ ˆï¼› 3.å°†5å…¥æ ˆï¼› 4.æ¥ä¸‹æ¥æ˜¯Ã—è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º5å’Œ7ï¼Œè®¡ç®—å‡º7Ã—5=35ï¼Œå°†35å…¥æ ˆï¼› 5.å°†6å…¥æ ˆï¼› 6.æœ€åæ˜¯-è¿ç®—ç¬¦ï¼Œè®¡ç®—å‡º35-6çš„å€¼ï¼Œå³29ï¼Œç”±æ­¤å¾—å‡ºæœ€ç»ˆç»“æœã€‚ æ³¨æ„ï¼š åŠ æ³•å’Œå‡æ³•å¯ä»¥ä¸è€ƒè™‘é¡ºåºé—®é¢˜è¿›è¡Œæ“ä½œï¼Œé™¤æ³•å’Œå‡æ³•ï¼Œæ˜¯ä½¿ç”¨æ¬¡é¡¶å…ƒç´ è¿›è¡Œé™¤æˆ–è€…å‡æ“ä½œ class Solution { public int evalRPN(String[] tokens) { Deque deque = new ArrayDeque<>(); for(String s : tokens){ if(s.equals(\"+\")){ deque.offerLast(deque.pollLast()+deque.pollLast()); } else if(s.equals(\"*\")){ deque.offerLast(deque.pollLast()*deque.pollLast()); } else if(s.equals(\"/\")){ int n1 = deque.pollLast(); int n2 = deque.pollLast(); deque.offerLast(n2/n1); } else if(s.equals(\"-\")){ deque.offerLast(-deque.pollLast()+deque.pollLast()); } else{ deque.offerLast(Integer.valueOf(s)); } } return deque.pollLast(); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ˆä¸é€’å½’/232. ç”¨æ ˆå®ç°é˜Ÿåˆ—.html":{"url":"æ ˆä¸é€’å½’/232. ç”¨æ ˆå®ç°é˜Ÿåˆ—.html","title":"232. ç”¨æ ˆå®ç°é˜Ÿåˆ—(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 232. ç”¨æ ˆå®ç°é˜Ÿåˆ— è§£æ³•ä¸€ï¼šç”¨åŒæ ˆå®ç°é˜Ÿåˆ— æ€è·¯ å°†ä¸€ä¸ªæ ˆå½“ä½œè¾“å…¥æ ˆï¼Œç”¨äºå‹å…¥push ä¼ å…¥çš„æ•°æ®ï¼›å¦ä¸€ä¸ªæ ˆå½“ä½œè¾“å‡ºæ ˆï¼Œç”¨äº pop å’Œ peek æ“ä½œã€‚ æ¯æ¬¡ pop æˆ– peek æ—¶ï¼Œè‹¥è¾“å‡ºæ ˆä¸ºç©ºåˆ™å°†è¾“å…¥æ ˆçš„å…¨éƒ¨æ•°æ®ä¾æ¬¡å¼¹å‡ºå¹¶å‹å…¥è¾“å‡ºæ ˆï¼Œè¿™æ ·è¾“å‡ºæ ˆä»æ ˆé¡¶å¾€æ ˆåº•çš„é¡ºåºå°±æ˜¯é˜Ÿåˆ—ä»é˜Ÿé¦–å¾€é˜Ÿå°¾çš„é¡ºåºã€‚ class MyQueue { Deque inDeque; Deque outDeque; /** Initialize your data structure here. */ public MyQueue() { inDeque = new LinkedList<>(); outDeque = new LinkedList<>(); } /** Push element x to the back of queue. */ public void push(int x) { inDeque.offer(x); } /** Removes the element from in front of queue and returns that element. */ public int pop() { if(outDeque.isEmpty()){ while(!inDeque.isEmpty()){ outDeque.offer(inDeque.poll()); } } return outDeque.poll(); } /** Get the front element. */ public int peek() { if(outDeque.isEmpty()){ while(!inDeque.isEmpty()){ outDeque.offer(inDeque.poll()); } } return outDeque.peek(); } /** Returns whether the queue is empty. */ public boolean empty() { return inDeque.isEmpty() && outDeque.isEmpty(); } } /** * Your MyQueue object will be instantiated and called as such: * MyQueue obj = new MyQueue(); * obj.push(x); * int param_2 = obj.pop(); * int param_3 = obj.peek(); * boolean param_4 = obj.empty(); */ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/é“¾è¡¨.html":{"url":"ç®€ä»‹/é“¾è¡¨.html","title":"é“¾è¡¨","keywords":"","body":"é“¾è¡¨ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é“¾è¡¨/92. åè½¬é“¾è¡¨ II.html":{"url":"é“¾è¡¨/92. åè½¬é“¾è¡¨ II.html","title":"92. åè½¬é“¾è¡¨ II(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 92. åè½¬é“¾è¡¨ II è§£æ³•ä¸€ï¼š ç©¿é’ˆå¼•çº¿ class Solution { public ListNode reverseBetween(ListNode head, int left, int right) { // å› ä¸ºå¤´èŠ‚ç‚¹æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹å¯ä»¥é¿å…å¤æ‚çš„åˆ†ç±»è®¨è®º ListNode dummyNode = new ListNode(-1); dummyNode.next = head; ListNode pre = dummyNode; // ç¬¬ 1 æ­¥ï¼šä»è™šæ‹Ÿå¤´èŠ‚ç‚¹èµ° left - 1 æ­¥ï¼Œæ¥åˆ° left èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹ // å»ºè®®å†™åœ¨ for å¾ªç¯é‡Œï¼Œè¯­ä¹‰æ¸…æ™° for (int i = 0; i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é“¾è¡¨/19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹.html":{"url":"é“¾è¡¨/19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹.html","title":"19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹(ä¸­ç­‰)","keywords":"","body":"19.åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹(ä¸­ç­‰) Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é“¾è¡¨/148. æ’åºé“¾è¡¨.html":{"url":"é“¾è¡¨/148. æ’åºé“¾è¡¨.html","title":"148. æ’åºé“¾è¡¨","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 148. æ’åºé“¾è¡¨ è§£æ³•ä¸€ï¼š æš´åŠ›ï¼Œä¸ç¬¦åˆç©ºé—´å¤æ‚åº¦ class Solution { List ans = new ArrayList<>(); public ListNode sortList(ListNode head) { if(head == null){ return head; } ListNode curr = head; while(curr != null){ ans.add(curr.val); curr = curr.next; } Collections.sort(ans); ListNode resp = new ListNode(-1); for(int i=0;i è§£æ³•äºŒï¼š å½’å¹¶æ’åº class Solution { public ListNode sortList(ListNode head) { if(head == null || head.next == null){ return head; } ListNode midNode = middleNode(head); ListNode rightHead = midNode.next; midNode.next = null; ListNode left = sortList(head); ListNode right = sortList(rightHead); //åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨ return mergeListNode(left,right); } public ListNode mergeListNode(ListNode left,ListNode right){ ListNode resp = new ListNode(-1); ListNode curr = resp; while(left != null && right != null){ if(left.val Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é“¾è¡¨/82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II.html":{"url":"é“¾è¡¨/82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II.html","title":"82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II è§£æ³•ä¸€ï¼šæš´åŠ›é‡ç»„ class Solution { public ListNode deleteDuplicates(ListNode head) { if(head == null){ return head; } ListNode curr = head; Map map = new HashMap<>(); while(curr != null){ map.put(curr.val,map.getOrDefault(curr.val,0)+1); curr = curr.next; } ListNode resp = new ListNode(-1); ListNode temp = head; while(temp != null){ if(map.get(temp.val) == 1){ addNode(resp,temp.val); } temp = temp.next; } return resp.next; } public void addNode(ListNode head,Integer val){ if(head == null){ return; } ListNode curr = head; while(curr.next != null){ curr = curr.next; } ListNode node = new ListNode(val); curr.next = node; } } ä¼˜åŒ–ä¸Šé¢ä»£ç  /** * Definition for singly-linked list. * public class ListNode { * int val; * ListNode next; * ListNode() {} * ListNode(int val) { this.val = val; } * ListNode(int val, ListNode next) { this.val = val; this.next = next; } * } */ class Solution { public ListNode deleteDuplicates(ListNode head) { if(head == null){ return head; } ListNode curr = head; Map map = new HashMap<>(); while(curr != null){ map.put(curr.val,map.getOrDefault(curr.val,0)+1); curr = curr.next; } ListNode dummy = new ListNode(-1); ListNode resp = dummy; ListNode temp = head; while(temp != null){ if(map.get(temp.val) == 1){ ListNode ans = new ListNode(temp.val); dummy.next = ans; dummy = dummy.next; } temp = temp.next; } return resp.next; } } è§£æ³•äºŒï¼šä¸€æ¬¡éå† class Solution { public ListNode deleteDuplicates(ListNode head) { if(head == null){ return head; } ListNode dummy = new ListNode(-1); dummy.next = head; ListNode curr = dummy; while(curr.next != null && curr.next.next != null){ if(curr.next.val == curr.next.next.val){ int x = curr.next.val; while(curr.next != null && curr.next.val == x){ curr.next = curr.next.next; } } else{ curr = curr.next; } } return dummy.next; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é“¾è¡¨/25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨.html":{"url":"é“¾è¡¨/25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨.html","title":"25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ è§£æ³•ä¸€ï¼šç¿»è½¬é“¾è¡¨ class Solution { public ListNode reverseKGroup(ListNode head, int k) { if(head == null || head.next == null){ return head; } ListNode dummy = new ListNode(-1); dummy.next = head; //åˆå§‹åŒ–preå’Œendéƒ½æŒ‡å‘dummyã€‚preæŒ‡æ¯æ¬¡è¦ç¿»è½¬çš„é“¾è¡¨çš„å¤´ç»“ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚endæŒ‡æ¯æ¬¡è¦ç¿»è½¬çš„é“¾è¡¨çš„å°¾èŠ‚ç‚¹ ListNode pre = dummy; ListNode end = dummy; while(end != null){ //å¾ªç¯kæ¬¡ï¼Œæ‰¾åˆ°éœ€è¦ç¿»è½¬çš„é“¾è¡¨çš„ç»“å°¾,è¿™é‡Œæ¯æ¬¡å¾ªç¯è¦åˆ¤æ–­endæ˜¯å¦ç­‰äºç©º,å› ä¸ºå¦‚æœä¸ºç©ºï¼Œend.nextä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚ //dummy->1->2->3->4->5 è‹¥kä¸º2ï¼Œå¾ªç¯2æ¬¡ï¼ŒendæŒ‡å‘2 for(int i=0;i2 å˜æˆ2->1ã€‚ dummy->2->1 pre.next = reverse(start); //ç¿»è½¬åå¤´èŠ‚ç‚¹å˜åˆ°æœ€åã€‚é€šè¿‡.nextæŠŠæ–­å¼€çš„é“¾è¡¨é‡æ–°é“¾æ¥ã€‚ start.next = next; //å°†preæ¢æˆä¸‹æ¬¡è¦ç¿»è½¬çš„é“¾è¡¨çš„å¤´ç»“ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å³start pre = start; //ç¿»è½¬ç»“æŸï¼Œå°†endç½®ä¸ºä¸‹æ¬¡è¦ç¿»è½¬çš„é“¾è¡¨çš„å¤´ç»“ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚å³start end = pre; } return dummy.next; } public ListNode reverse(ListNode head){ if(head == null || head.next == null){ return head; } ListNode curr = head; ListNode temp = null; ListNode prev = null; while(curr != null){ temp = curr.next; curr.next = prev; prev = curr; curr = temp; } return prev; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/æ ‘.html":{"url":"ç®€ä»‹/æ ‘.html","title":"æ ‘","keywords":"","body":"æ ‘çš„åˆ·é¢˜é¡ºåº é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· æ ‘ä¸é€’å½’ 100ã€222ã€101ã€226ã€437ã€563ã€617ã€508ã€572ã€543ã€654ã€687ã€87 æ ‘çš„å±‚æ¬¡éå† 102ã€429ã€690ã€559ã€662ã€671ã€513ã€515ã€637ã€103ã€107ã€257ã€623ã€653ã€104ã€111ã€112ã€113ã€129ã€404ã€199ã€655ã€116ã€117 æ ‘çš„å‰åºéå† 144ã€589 æ ‘çš„å‰åºåºåˆ—åŒ– 606ã€331ã€652ã€297ã€449 æ ‘çš„ååºéå† 145ã€590 æ ‘çš„ä¸­åºéå†ä¸äºŒå‰æœç´¢æ ‘ 94ã€700ã€530ã€538ã€230ã€98ã€173ã€669ã€450ã€110ã€95ã€108ã€109 é‡æ„äºŒå‰æ ‘ 105ã€106 äºŒå‰æ ‘çš„å±•å¼€ 114 æœ€è¿‘å…¬å…±ç¥–å…ˆ 235ã€236 Morrisä¸­åºéå† 501ã€99 å››å‰æ ‘ 558ã€427 æ ‘æ¿å—çŸ¥è¯†ç‚¹å½’çº³æ€»ç»“ æ ‘çš„åŸºæœ¬æ¦‚å¿µ æ ‘æ˜¯ç”±ç»“ç‚¹æˆ–é¡¶ç‚¹å’Œè¾¹ç»„æˆçš„(å¯èƒ½æ˜¯éçº¿æ€§çš„)ä¸”ä¸å­˜åœ¨ç€ä»»ä½•ç¯çš„ä¸€ç§æ•°æ®ç»“æ„ã€‚æ²¡æœ‰ç»“ç‚¹çš„æ ‘ç§°ä¸ºç©º(nullæˆ–empty)æ ‘ã€‚ä¸€æ£µéç©ºçš„æ ‘åŒ…æ‹¬ä¸€ä¸ªæ ¹ç»“ç‚¹ï¼Œè¿˜(å¾ˆå¯èƒ½)æœ‰å¤šä¸ªé™„åŠ ç»“ç‚¹ï¼Œæ‰€æœ‰ç»“ç‚¹æ„æˆä¸€ä¸ªå¤šçº§åˆ†å±‚ç»“æ„ å…³äºâ€œæ ‘â€ï¼Œè¿˜æœ‰ä¸‰ä¸ªæ¯”è¾ƒç›¸ä¼¼çš„æ¦‚å¿µï¼šé«˜åº¦ï¼ˆHeightï¼‰ã€æ·±åº¦ï¼ˆDepthï¼‰ã€å±‚ï¼ˆLevelï¼‰ã€‚å®ƒä»¬çš„å®šä¹‰æ˜¯è¿™æ ·çš„ èŠ‚ç‚¹çš„é«˜åº¦ï¼šèŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹çš„æœ€é•¿è·¯å¾„(è¾¹æ•°) èŠ‚ç‚¹çš„æ·±åº¦ï¼šæ ¹èŠ‚ç‚¹åˆ°è¿™ä¸ªèŠ‚ç‚¹æ‰€ç»å†çš„è¾¹çš„ä¸ªæ•° èŠ‚ç‚¹çš„å±‚æ•°ï¼šèŠ‚ç‚¹çš„æ·±åº¦+1 æ ‘çš„é«˜åº¦: æ ¹èŠ‚ç‚¹çš„é«˜åº¦ äºŒå‰æ ‘ï¼ˆBinary Treeï¼‰ æ¯ä¸ªç»“ç‚¹è‡³å¤šæ‹¥æœ‰ä¸¤æ£µå­æ ‘(å³äºŒå‰æ ‘ä¸­ä¸å­˜åœ¨åº¦å¤§äº2çš„ç»“ç‚¹)ï¼Œå¹¶ä¸”ï¼ŒäºŒå‰æ ‘çš„å­æ ‘æœ‰å·¦å³ä¹‹åˆ†ï¼Œå…¶æ¬¡åºä¸èƒ½ä»»æ„é¢ å€’ æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªâ€œå‰â€ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œåˆ†åˆ«æ˜¯å·¦å­èŠ‚ç‚¹å’Œå³å­èŠ‚ç‚¹ äºŒå‰æ ‘çš„æ€§è´¨ 1.è‹¥äºŒå‰æ ‘çš„å±‚æ¬¡ä»0å¼€å§‹ï¼Œåˆ™åœ¨äºŒå‰æ ‘çš„ç¬¬iå±‚è‡³å¤šæœ‰2^iä¸ªç»“ç‚¹(i>=0) 2.é«˜åº¦ä¸ºkçš„äºŒå‰æ ‘æœ€å¤šæœ‰2^(k+1) - 1ä¸ªç»“ç‚¹(k>=-1)(ç©ºæ ‘çš„é«˜åº¦ä¸º-1) 3.å¯¹ä»»ä½•ä¸€æ£µäºŒå‰æ ‘ï¼Œå¦‚æœå…¶å¶å­ç»“ç‚¹(åº¦ä¸º0)æ•°ä¸ºm, åº¦ä¸º2çš„ç»“ç‚¹æ•°ä¸ºn, åˆ™m = n + 1 äºŒå‰æ ‘åˆåˆ†ä¸ºå®Œç¾äºŒå‰æ ‘ã€å®Œå…¨äºŒå‰æ ‘ã€å®Œæ»¡äºŒå‰æ ‘ã€‚ å®Œç¾äºŒå‰æ ‘ï¼šæ¢å¥è¯è¯´ã€åªè¦ä½ æœ‰å­©å­ï¼Œä½ å°±å¿…ç„¶æ˜¯æœ‰ä¸¤ä¸ªå­©å­ã€‚ äºŒå‰æ ‘çš„éå† å‰åºéå†ï¼š(æ ¹->å·¦->å³) å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´ï¼Œå…ˆæ‰“å°è¿™ä¸ªèŠ‚ç‚¹ï¼Œç„¶åå†æ‰“å°å®ƒçš„å·¦å­æ ‘ï¼Œæœ€åæ‰“å°å®ƒçš„å³å­æ ‘ã€‚ ä¸­åºéå† ï¼š(å·¦->æ ¹->å³) å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´ï¼Œå…ˆæ‰“å°å®ƒçš„å·¦å­æ ‘ï¼Œç„¶åå†æ‰“å°å®ƒæœ¬èº«ï¼Œæœ€åæ‰“å°å®ƒçš„å³å­æ ‘ã€‚ ååºéå†ï¼š(å·¦->å³->æ ¹) å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´ï¼Œå…ˆæ‰“å°å®ƒçš„å·¦å­æ ‘ï¼Œç„¶åå†æ‰“å°å®ƒçš„å³å­æ ‘ï¼Œæœ€åæ‰“å°è¿™ä¸ªèŠ‚ç‚¹æœ¬èº«ã€‚ å®é™…ä¸Šï¼ŒäºŒå‰æ ‘çš„å‰ã€ä¸­ã€ååºéå†å°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚æ¯”å¦‚ï¼Œå‰åºéå†ï¼Œå…¶å®å°±æ˜¯å…ˆæ‰“å°æ ¹èŠ‚ç‚¹ï¼Œç„¶åå†é€’å½’åœ°æ‰“å°å·¦å­æ ‘ï¼Œæœ€åé€’å½’åœ°æ‰“å°å³å­æ ‘ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š äºŒå‰æ ‘éå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n) é€’å½’å®ç°äºŒå‰æ ‘çš„å‰åºã€ä¸­åºã€ååºéå† å‰åºéå†ï¼š public void preOrderRecur(Node root) { if (root == null) { return; } System.out.print(root.data + \" -> \"); preOrderRecur(root.left); preOrderRecur(root.right); } ä¸­åºéå†ï¼š public void midOrderRecur(Node root) { if (root == null) { return; } midOrderRecur(root.left); System.out.print(root.data + \" -> \"); midOrderRecur(root.right); } ååºéå†ï¼š public void posOrderRecur(Node root) { if (root == null) { return; } posOrderRecur(root.left); posOrderRecur(root.right); System.out.print(root.data + \" -> \"); } éé€’å½’(è¿­ä»£)å®ç° å‰åºã€ä¸­åºã€ååºéå† æ ˆå®ç°å‰åºéå† /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public List preorderTraversal(TreeNode root) { List res = new ArrayList<>(); Deque deque = new ArrayDeque<>(); while(!deque.isEmpty() || root !=null){ while(root !=null){ res.add(root.val); deque.offerLast(root); root = root.left; } root = deque.pollLast(); root = root.right; } return res; } } å¦‚ä½•è®¡ç®—äºŒå‰æ ‘çš„å±‚æ•° private int countLevel(TreeNode root) { if (root == null) { return 0; } return Math.max(countLevel(root.left), countLevel(root.right)) + 1; } äºŒå‰æ ‘çš„å±‚åºéå† ä½¿ç”¨é˜Ÿåˆ—å®ç°å±‚åºéå† class Solution { public static List levelOrder(TreeNode root) { Deque deque = new LinkedList<>(); deque.offer(root); List res = new ArrayList<>(); while (!deque.isEmpty()) { TreeNode levelRoot = deque.poll(); res.add(levelRoot.val); if (levelRoot.left != null) { deque.offer(levelRoot.left); } if (levelRoot.right != null) { deque.offer(levelRoot.right); } } return res; } } æ„å»ºä¸€é¢—äºŒå‰æ ‘ï¼ŒDEBUGï¼Œçœ‹é€’å½’ä¸è¿­ä»£è¿‡ç¨‹ package com.hellobike.rent.flink.etl; import java.util.ArrayDeque; import java.util.ArrayList; import java.util.Deque; import java.util.List; /** * * 3 * / \\ * 9 20 * / \\ * 15 7 * @author gaohu08299 * @create $ ID: TestTreeNode, 2021-05-08 15:55 gaohu08299 Exp $ * @since 1.0.0 */ public class TestTreeNode { public static void main(String[] args) { TreeNode t1 = new TreeNode(3); TreeNode t2 = new TreeNode(9); TreeNode t3 = new TreeNode(20); TreeNode t4 = new TreeNode(15); TreeNode t5 = new TreeNode(7); t1.left = t2; t1.right = t3; t2.left = t4; t2.right = t5; List integers = new TestTreeNode().preorderTraversal(t1); System.out.println(integers); } public List preorderTraversal(TreeNode root) { List res = new ArrayList<>(); Deque deque = new ArrayDeque<>(); while(!deque.isEmpty() || root !=null){ while(root !=null){ res.add(root.val); deque.offerLast(root); root = root.left; } root = deque.pollLast(); root = root.right; } return res; } } Nå‰æ ‘çš„å±‚åºéå† åˆ©ç”¨é˜Ÿåˆ—è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ å…³é”®ä»£ç  List values = new ArrayList<>(); Deque queue = new LinkedList<>(); queue.offer(root); while (!queue.isEmpty()) { Node nextNode = queue.poll(); values.add(nextNode.val); for (Node child : nextNode.children) { queue.add(child); } } ä½¿ç”¨BFSå®ç°çš„Nå‰æ ‘å±‚æ¬¡éå† class Solution { public List> levelOrder(Node root) { if (null == root) { return new ArrayList<>(); } List> resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while (!deque.isEmpty()) { List ans = new ArrayList<>(); int size = deque.size(); for (int i = 0; i children = poll.children; for (Node node : children) { deque.offer(node); } //deque.addAll(poll.children); } resp.add(ans); } return resp; } } äºŒå‰æ ‘çš„åºåˆ—åŒ– class Solution { List resp = new ArrayList<>(); public List preorderTraversal(TreeNode root) { if (null == root) { return new ArrayList<>(); } preOrder(root, new StringBuilder()); return resp; } public String preOrder(TreeNode root, StringBuilder sb) { if (root == null) { return \"#\"; } sb.append(root.val).append(\",\").append(preOrder(root.left, new StringBuilder())).append(\",\").append(preOrder(root.right, new StringBuilder())); resp.add(sb.toString()); return sb.toString(); } } äºŒå‰æ ‘åºåˆ—åŒ–å¤„ç†å­æ ‘ class Solution { Map map = new HashMap<>(); List resp = new ArrayList<>(); public List findDuplicateSubtrees(TreeNode root) { if(root == null){ return new ArrayList<>(); } preOrderSerial(root,new StringBuilder()); return resp; } public String preOrderSerial(TreeNode root,StringBuilder sb){ if(root == null){ return \"#\"; } sb.append(root.val).append(\",\").append(preOrderSerial(root.left,new StringBuilder())).append(\",\").append(preOrderSerial(root.right,new StringBuilder())); map.put(sb.toString(),map.getOrDefault(sb.toString(),0)+1); if(map.get(sb.toString()) == 2){ resp.add(root); } return sb.toString(); } } äºŒå‰æŸ¥æ‰¾æ ‘ äºŒå‰æŸ¥æ‰¾æ ‘æ€§è´¨ ä»»æ„èŠ‚ç‚¹å·¦å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™å·¦å­æ ‘çš„å€¼å‡å°äºæ ¹èŠ‚ç‚¹çš„å€¼ ä»»æ„èŠ‚ç‚¹å³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™å³å­æ ‘çš„å€¼å‡å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼ ä»»æ„èŠ‚ç‚¹çš„å·¦å³å­æ ‘ä¹Ÿåˆ†åˆ«æ˜¯äºŒå‰æŸ¥æ‰¾æ ‘ æ²¡æœ‰é”®å€¼ç›¸ç­‰çš„èŠ‚ç‚¹ å±€é™æ€§åŠåº”ç”¨ ä¸€ä¸ªäºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ç”±nä¸ªèŠ‚ç‚¹éšæœºæ„æˆ,æ‰€ä»¥ï¼Œå¯¹äºæŸäº›æƒ…å†µ,äºŒå‰æŸ¥æ‰¾æ ‘ä¼šé€€åŒ–æˆä¸€ä¸ªæœ‰nä¸ªèŠ‚ç‚¹çš„çº¿æ€§é“¾. å†™æ ‘ç®—æ³•çš„æ¨¡æ¿æ¡†æ¶ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/100. ç›¸åŒçš„æ ‘.html":{"url":"æ ‘/100. ç›¸åŒçš„æ ‘.html","title":"100. ç›¸åŒçš„æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 100. ç›¸åŒçš„æ ‘ è§£æ³•ä¸€ï¼šéå†æ ‘ ä½¿ç”¨æ ‘çš„å…ˆåºéå†ï¼Œå°†éå†ç»“æœæ‹¼æ¥ï¼Œæ¯”è¾ƒç»“æœæ˜¯å¦ç›¸åŒ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public boolean isSameTree(TreeNode p, TreeNode q) { StringBuilder sb = new StringBuilder(); StringBuilder sb1 = new StringBuilder(); preOrderRecur(p,sb); preOrderRecur(q,sb1); if(sb.toString().equals(sb1.toString())){ return true; } return false; } public void preOrderRecur(TreeNode root,StringBuilder sb){ if(root == null){ sb.append(\"-1\"); return; } sb.append(root.val); preOrderRecur(root.left,sb); preOrderRecur(root.right,sb); } } è§£æ³•äºŒï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘éƒ½ä¸ºç©ºï¼Œåˆ™ä¸¤ä¸ªäºŒå‰æ ‘ç›¸åŒã€‚å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ™ä¸¤ä¸ªäºŒå‰æ ‘ä¸€å®šä¸ç›¸åŒã€‚ å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘éƒ½ä¸ä¸ºç©ºï¼Œé‚£ä¹ˆé¦–å…ˆåˆ¤æ–­å®ƒä»¬çš„æ ¹èŠ‚ç‚¹çš„å€¼æ˜¯å¦ç›¸åŒï¼Œè‹¥ä¸ç›¸åŒåˆ™ä¸¤ä¸ªäºŒå‰æ ‘ä¸€å®šä¸åŒï¼Œè‹¥ç›¸åŒï¼Œå†åˆ†åˆ«åˆ¤æ–­ä¸¤ä¸ªäºŒå‰æ ‘çš„å·¦å­æ ‘æ˜¯å¦ç›¸åŒä»¥åŠå³å­æ ‘æ˜¯å¦ç›¸åŒã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ï¼Œé€’å½’åœ°åˆ¤æ–­ä¸¤ä¸ªäºŒå‰æ ‘æ˜¯å¦ç›¸åŒã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public boolean isSameTree(TreeNode p, TreeNode q) { if(p == null && q == null){ return true; } else if(p == null || q==null){ return false; } else if(p.val != q.val){ return false; } else{ return isSameTree(p.left,q.left) && isSameTree(p.right,q.right); } } } è§£æ³•ä¸‰ï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢ æ€»ç»“ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°.html":{"url":"æ ‘/222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°.html","title":"222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 222. å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•° è§£æ³•ä¸€:é€’å½’ é€’å½’éå†äºŒå‰æ ‘ï¼Œç»Ÿè®¡èŠ‚ç‚¹ä¸ªæ•° /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public int countNodes(TreeNode root) { List list = new ArrayList<>(); preOrder(root,list); return list.size(); } public void preOrder(TreeNode root,List list){ if(root == null){ return; } list.add(root.val); preOrder(root.left,list); preOrder(root.right,list); } } ç®€å•é€’å½’å®ç° public int countNodes(TreeNode root) { if (root == null){ return 0; } return countNodes(root.left) + countNodes(root.right) + 1; } è§£æ³•äºŒï¼šè¿­ä»£ ä½¿ç”¨æ ˆè¿›è¡Œè¿­ä»£ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public int countNodes(TreeNode root) { List res = new ArrayList<>(); Deque deque = new ArrayDeque<>(); while(!deque.isEmpty() || root != null){ while(root != null){ res.add(root.val); deque.offerLast(root); root = root.left; } root = deque.pollLast(); root = root.right; } return res.size(); } } è§£æ³•ä¸‰ï¼šè¿­ä»£+ä½è¿ç®— é€’å½’ä¸è¿­ä»£æ—¶é—´å¤æ‚åº¦ä¸å¤ªç†æƒ³ï¼Œè¿›é˜¶é‡‡ç”¨æ›´å¿«çš„æ—¶é—´å¤æ‚åº¦è§£å†³ï¼Œæ ¹æ®å®ŒæˆäºŒå‰æ ‘çš„æ€§è´¨è§£å†³é—®é¢˜ã€‚ å®Œå…¨äºŒå‰æ ‘å®šä¹‰ï¼šå®ƒæ˜¯ä¸€æ£µç©ºæ ‘æˆ–è€…å®ƒçš„å¶å­èŠ‚ç‚¹åªå‡ºåœ¨æœ€åä¸¤å±‚ï¼Œè‹¥æœ€åä¸€å±‚ä¸æ»¡åˆ™å¶å­èŠ‚ç‚¹åªåœ¨æœ€å·¦ä¾§ã€‚ æ»¡äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°è®¡ç®—æ–¹å¼ï¼šå±‚æ•°h, åˆ™èŠ‚ç‚¹ä¸ªæ•°ä¸º 2^h - 1 å¯¹ root èŠ‚ç‚¹çš„å·¦å³å­æ ‘è¿›è¡Œé«˜åº¦ç»Ÿè®¡ï¼Œåˆ†åˆ«è®°ä¸º left å’Œ rightï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§ç»“æœ left == rightã€‚è¿™è¯´æ˜ï¼Œå·¦å­æ ‘ä¸€å®šæ˜¯æ»¡äºŒå‰æ ‘ï¼Œå› ä¸ºèŠ‚ç‚¹å·²ç»å¡«å……åˆ°å³å­æ ‘äº†ï¼Œå·¦å­æ ‘å¿…å®šå·²ç»å¡«æ»¡äº†ã€‚æ‰€ä»¥å·¦å­æ ‘çš„èŠ‚ç‚¹æ€»æ•°æˆ‘ä»¬å¯ä»¥ç›´æ¥å¾—åˆ°ï¼Œæ˜¯ 2^left - 1ï¼ŒåŠ ä¸Šå½“å‰è¿™ä¸ª root èŠ‚ç‚¹ï¼Œåˆ™æ­£å¥½æ˜¯ 2^leftã€‚å†å¯¹å³å­æ ‘è¿›è¡Œé€’å½’ç»Ÿè®¡ã€‚ left != rightã€‚è¯´æ˜æ­¤æ—¶æœ€åä¸€å±‚ä¸æ»¡ï¼Œä½†å€’æ•°ç¬¬äºŒå±‚å·²ç»æ»¡äº†ï¼Œå¯ä»¥ç›´æ¥å¾—åˆ°å³å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚åŒç†ï¼Œå³å­æ ‘èŠ‚ç‚¹ +root èŠ‚ç‚¹ï¼Œæ€»æ•°ä¸º 2^rightã€‚å†å¯¹å·¦å­æ ‘è¿›è¡Œé€’å½’æŸ¥æ‰¾ã€‚ äºŒå‰æ ‘çš„å±‚æ•°è®¡ç®—æ–¹å¼ private int countLevel(TreeNode root) { if (root == null) { return 0; } return Math.max(countLevel(root.left), countLevel(root.right)) + 1; } äºŒå‰æ ‘å·¦å­æ ‘æˆ–å³å­æ ‘å±‚æ•°è®¡ç®— public int countLevel(TreeNode root){ int level = 0; while(root != null){ level++; root = root.left; } return level; } æ³¨æ„ï¼š 1 /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public int countNodes(TreeNode root) { if(root == null){ return 0; } int leftLevel = level(root.left); int rightLevel = level(root.right); if(leftLevel == rightLevel){ return (int)Math.pow(2,leftLevel) + countNodes(root.right); } else{ return (int)Math.pow(2,rightLevel) + countNodes(root.left); } } public int level(TreeNode root){ int count = 0; while(root != null){ count++; root = root.left; } return count; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/101. å¯¹ç§°äºŒå‰æ ‘.html":{"url":"æ ‘/101. å¯¹ç§°äºŒå‰æ ‘.html","title":"101. å¯¹ç§°äºŒå‰æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 101. å¯¹ç§°äºŒå‰æ ‘ è§£æ³•ä¸€ï¼šä½¿ç”¨é˜Ÿåˆ—è¿­ä»£æ–¹æ³• é¦–å…ˆæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè¿™æ˜¯æŠŠé€’å½’ç¨‹åºæ”¹å†™æˆè¿­ä»£ç¨‹åºçš„å¸¸ç”¨æ–¹æ³•ã€‚åˆå§‹åŒ–æ—¶æˆ‘ä»¬æŠŠæ ¹èŠ‚ç‚¹å…¥é˜Ÿä¸¤æ¬¡ã€‚æ¯æ¬¡æå–ä¸¤ä¸ªç»“ç‚¹å¹¶æ¯”è¾ƒå®ƒä»¬çš„å€¼ï¼ˆé˜Ÿåˆ—ä¸­æ¯ä¸¤ä¸ªè¿ç»­çš„ç»“ç‚¹åº”è¯¥æ˜¯ç›¸ç­‰çš„ï¼Œè€Œä¸”å®ƒä»¬çš„å­æ ‘äº’ä¸ºé•œåƒï¼‰ï¼Œç„¶åå°†ä¸¤ä¸ªç»“ç‚¹çš„å·¦å³å­ç»“ç‚¹æŒ‰ç›¸åçš„é¡ºåºæ’å…¥é˜Ÿåˆ—ä¸­ã€‚å½“é˜Ÿåˆ—ä¸ºç©ºæ—¶ï¼Œæˆ–è€…æˆ‘ä»¬æ£€æµ‹åˆ°æ ‘ä¸å¯¹ç§°ï¼ˆå³ä»é˜Ÿåˆ—ä¸­å–å‡ºä¸¤ä¸ªä¸ç›¸ç­‰çš„è¿ç»­ç»“ç‚¹ï¼‰æ—¶ï¼Œè¯¥ç®—æ³•ç»“æŸã€‚ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode() {} * TreeNode(int val) { this.val = val; } * TreeNode(int val, TreeNode left, TreeNode right) { * this.val = val; * this.left = left; * this.right = right; * } * } */ class Solution { public boolean isSymmetric(TreeNode root) { if(root == null){ return true; } return check(root,root); } public boolean check(TreeNode u,TreeNode v){ Deque deque = new LinkedList<>(); deque.offerLast(u); deque.offerLast(v); while(!deque.isEmpty()){ u = deque.pollFirst(); v = deque.pollFirst(); if(null == u && null == v){ continue; } if(null == u || null == v){ return false; } if(u.val != v.val){ return false; } deque.offerLast(u.left); deque.offerLast(v.right); deque.offerLast(u.right); deque.offerLast(v.left); } return true; } } è§£æ³•äºŒï¼šä½¿ç”¨é€’å½’ é€’å½’ç»“æŸæ¡ä»¶ï¼š éƒ½ä¸ºç©ºæŒ‡é’ˆåˆ™è¿”å› true åªæœ‰ä¸€ä¸ªä¸ºç©ºåˆ™è¿”å› false é€’å½’è¿‡ç¨‹ï¼š åˆ¤æ–­ä¸¤ä¸ªæŒ‡é’ˆå½“å‰èŠ‚ç‚¹å€¼æ˜¯å¦ç›¸ç­‰ åˆ¤æ–­ A çš„å³å­æ ‘ä¸ B çš„å·¦å­æ ‘æ˜¯å¦å¯¹ç§° åˆ¤æ–­ A çš„å·¦å­æ ‘ä¸ B çš„å³å­æ ‘æ˜¯å¦å¯¹ç§° çŸ­è·¯ï¼š åœ¨é€’å½’åˆ¤æ–­è¿‡ç¨‹ä¸­å­˜åœ¨çŸ­è·¯ç°è±¡ï¼Œä¹Ÿå°±æ˜¯åš ä¸ æ“ä½œæ—¶ï¼Œå¦‚æœå‰é¢çš„å€¼è¿”å› false åˆ™åé¢çš„ä¸å†è¿›è¡Œè®¡ç®— æ—¶é—´å¤æ‚åº¦ï¼šO(n)O(n) class Solution { public boolean isSymmetric(TreeNode root) { return check(root,root); } public boolean check(TreeNode u,TreeNode v){ if(u == null && v == null){ return true; } if(u == null || v == null){ return false; } if(u.val != v.val){ return false; } return check(u.left,v.right) && check(u.right,v.left); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/226. ç¿»è½¬äºŒå‰æ ‘.html":{"url":"æ ‘/226. ç¿»è½¬äºŒå‰æ ‘.html","title":"226. ç¿»è½¬äºŒå‰æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 226. ç¿»è½¬äºŒå‰æ ‘ è§£æ³•ä¸€ï¼š ä½¿ç”¨é€’å½’ æˆ‘ä»¬ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œé€’å½’åœ°å¯¹æ ‘è¿›è¡Œéå†ï¼Œå¹¶ä»å¶å­ç»“ç‚¹å…ˆå¼€å§‹ç¿»è½¬ã€‚å¦‚æœå½“å‰éå†åˆ°çš„èŠ‚ç‚¹ root çš„å·¦å³ä¸¤æ£µå­æ ‘éƒ½å·²ç»ç¿»è½¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦äº¤æ¢ä¸¤æ£µå­æ ‘çš„ä½ç½®ï¼Œå³å¯å®Œæˆä»¥root ä¸ºæ ¹èŠ‚ç‚¹çš„æ•´æ£µå­æ ‘çš„ç¿»è½¬ã€‚ class Solution { public TreeNode invertTree(TreeNode root) { if(root == null){ return null; } TreeNode temp = root.left; root.left = root.right; root.right = temp; invertTree(root.left); invertTree(root.right); return root; } } è§£æ³•äºŒï¼š ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œ BFS é€’å½’å®ç°ä¹Ÿå°±æ˜¯æ·±åº¦ä¼˜å…ˆéå†çš„æ–¹å¼ï¼Œé‚£ä¹ˆå¯¹åº”çš„å°±æ˜¯å¹¿åº¦ä¼˜å…ˆéå†ã€‚ å¹¿åº¦ä¼˜å…ˆéå†éœ€è¦é¢å¤–çš„æ•°æ®ç»“æ„--é˜Ÿåˆ—ï¼Œæ¥å­˜æ”¾ä¸´æ—¶éå†åˆ°çš„å…ƒç´ ã€‚ æ·±åº¦ä¼˜å…ˆéå†çš„ç‰¹ç‚¹æ˜¯ä¸€ç«¿å­æ’åˆ°åº•ï¼Œä¸è¡Œäº†å†é€€å›æ¥ç»§ç»­ï¼›è€Œå¹¿åº¦ä¼˜å…ˆéå†çš„ç‰¹ç‚¹æ˜¯å±‚å±‚æ‰«è¡ã€‚ æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå°†æ ¹èŠ‚ç‚¹æ”¾å…¥åˆ°é˜Ÿåˆ—ä¸­ï¼Œç„¶åä¸æ–­çš„è¿­ä»£é˜Ÿåˆ—ä¸­çš„å…ƒç´ ã€‚ å¯¹å½“å‰å…ƒç´ è°ƒæ¢å…¶å·¦å³å­æ ‘çš„ä½ç½®ï¼Œç„¶åï¼š åˆ¤æ–­å…¶å·¦å­æ ‘æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºå°±æ”¾å…¥é˜Ÿåˆ—ä¸­ åˆ¤æ–­å…¶å³å­æ ‘æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºå°±æ”¾å…¥é˜Ÿåˆ—ä¸­ class Solution { public TreeNode invertTree(TreeNode root) { Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ TreeNode curr = deque.poll(); if(curr == null){ continue; } TreeNode temp = curr.left; curr.left = curr.right; curr.right = temp; deque.offer(curr.left); deque.offer(curr.right); } return root; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/563. äºŒå‰æ ‘çš„å¡åº¦.html":{"url":"æ ‘/563. äºŒå‰æ ‘çš„å¡åº¦.html","title":"563. äºŒå‰æ ‘çš„å¡åº¦(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 563. äºŒå‰æ ‘çš„å¡åº¦ è§£æ³•ä¸€ï¼š æ ˆ è§£é¢˜æ€è·¯ï¼š ä»é—®é¢˜çš„æè¿°ä¸­ï¼Œå¯ä»¥æ¸…æ¥šåœ°äº†è§£åˆ°ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç»™å®šæ ‘çš„æ¯ä¸ªç»“ç‚¹å¤„æ‰¾åˆ°å…¶å¡åº¦ï¼Œå¹¶å°†æ‰€æœ‰çš„å¡åº¦ç›¸åŠ ä»¥è·å¾—æœ€ç»ˆç»“æœã€‚è¦æ‰¾å‡ºä»»æ„ç»“ç‚¹çš„å¡åº¦ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºè¯¥ç»“ç‚¹çš„å·¦å­æ ‘ä¸Šæ‰€æœ‰ç»“ç‚¹å’Œä»¥åŠå…¶å³å­æ ‘ä¸Šå…¨éƒ¨ç»“ç‚¹å’Œçš„å·®å€¼ã€‚ å› æ­¤ï¼Œä¸ºäº†æ‰¾å‡ºè§£å†³æ–¹æ¡ˆï¼Œæˆ‘ä»¬ä½¿ç”¨é€’å½’å‡½æ•° traverseï¼Œåœ¨ä»»ä½•ç»“ç‚¹è°ƒç”¨è¯¥å‡½æ•°ï¼Œéƒ½ä¼šè¿”å›å½“å‰ç»“ç‚¹ä¸‹é¢ï¼ˆåŒ…æ‹¬å…¶è‡ªèº«ï¼‰çš„ç»“ç‚¹å’Œã€‚å€ŸåŠ©äºä»»ä½•ç»“ç‚¹çš„å·¦å³å­ç»“ç‚¹çš„è¿™ä¸€å’Œå€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è·å¾—è¯¥ç»“ç‚¹æ‰€å¯¹åº”çš„å¡åº¦ã€‚ class Solution { int res = 0; public int findTilt(TreeNode root) { preOrder(root); return res; } public int preOrder(TreeNode root) { if (root == null) { return 0; } int left = preOrder(root.left); int right = preOrder(root.right); res = res + Math.abs(left-right); return left + right + root.val; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/617. åˆå¹¶äºŒå‰æ ‘.html":{"url":"æ ‘/617. åˆå¹¶äºŒå‰æ ‘.html","title":"617. åˆå¹¶äºŒå‰æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 617. åˆå¹¶äºŒå‰æ ‘ è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ è§£é¢˜æ€è·¯ï¼š å¯ä»¥ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢åˆå¹¶ä¸¤ä¸ªäºŒå‰æ ‘ã€‚ä»æ ¹èŠ‚ç‚¹å¼€å§‹åŒæ—¶éå†ä¸¤ä¸ªäºŒå‰æ ‘ï¼Œå¹¶å°†å¯¹åº”çš„èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ã€‚ ä¸¤ä¸ªäºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹å¯èƒ½å­˜åœ¨ä»¥ä¸‹ä¸‰ç§æƒ…å†µï¼Œå¯¹äºæ¯ç§æƒ…å†µä½¿ç”¨ä¸åŒçš„åˆå¹¶æ–¹å¼ã€‚ å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹éƒ½ä¸ºç©ºï¼Œåˆ™åˆå¹¶åçš„äºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹ä¹Ÿä¸ºç©ºï¼› å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªä¸ºç©ºï¼Œåˆ™åˆå¹¶åçš„äºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹ä¸ºå…¶ä¸­çš„éç©ºèŠ‚ç‚¹ï¼› å¦‚æœä¸¤ä¸ªäºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹éƒ½ä¸ä¸ºç©ºï¼Œåˆ™åˆå¹¶åçš„äºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹çš„å€¼ä¸ºä¸¤ä¸ªäºŒå‰æ ‘çš„å¯¹åº”èŠ‚ç‚¹çš„å€¼ä¹‹å’Œï¼Œæ­¤æ—¶éœ€è¦æ˜¾æ€§åˆå¹¶ä¸¤ä¸ªèŠ‚ç‚¹ã€‚ å¯¹ä¸€ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶ä¹‹åï¼Œè¿˜è¦å¯¹è¯¥èŠ‚ç‚¹çš„å·¦å³å­æ ‘åˆ†åˆ«è¿›è¡Œåˆå¹¶ã€‚è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ã€‚ class Solution { public TreeNode mergeTrees(TreeNode root1, TreeNode root2) { if (root1 == null && root2 == null) { return null; } if (root1 == null || root2 == null) { return root1 == null ? root2 : root1; } root1.val = root1.val + roo2.val; root1.left = mergeTrees(root1.left,root2.left); root1.right = mergeTrees(root1.right,root2.right); return root1; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ.html":{"url":"æ ‘/508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ.html","title":"508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ è§£æ³•ä¸€ï¼šä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢+HashMap æ·±åº¦ä¼˜å…ˆæœç´¢è®¡ç®—å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„å’Œï¼Œå­˜åœ¨HashMapä¸­ï¼ŒHashMapç»Ÿè®¡,å½“å‰èŠ‚ç‚¹çš„å€¼+å…¶å·¦å­æ ‘çš„å’Œ+å…¶å³å­æ ‘çš„å’Œ class Solution { int max = 0; public int[] findFrequentTreeSum(TreeNode root) { Map map = new HashMap<>(); List list = new ArrayList<>(); getNodeVal(root,map); for (Map.Entry maps : map.entrySet()) { if(maps.getValue() == max){ list.add(maps.getKey()); } } int[] res = new int[list.size()]; for(int i=0;i map) { if (root == null) { return 0; } int left = getNodeVal(root.left, map); int right = getNodeVal(root.right, map); int ans = left + right + root.val; map.put(ans, map.getOrDefault(ans, 0) + 1); max = Math.max(max,map.get(ans)); return ans; } } è®¡ç®—æ ‘èŠ‚ç‚¹å’Œæ–¹æ³• int sum = root.val + getNodeVal(root.left) +getNodeVal(root.right); Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘.html":{"url":"æ ‘/572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘.html","title":"572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 572. å¦ä¸€ä¸ªæ ‘çš„å­æ ‘ è§£æ³•ä¸€ï¼š æ·±åº¦ä¼˜å…ˆæš´åŠ›åŒ¹é… class Solution { public boolean isSubtree(TreeNode root, TreeNode subRoot) { //séå†å®Œæˆï¼Œè¿˜æ²¡åŒ¹é…åˆ° if(root == null){ return false; } //çŸ­è·¯ï¼Œå·¦å­æ ‘æˆ–è€…å³å­æ ‘æœ‰åŒ¹é…åˆ°çš„å°±è¿”å› return isSameTree(root,subRoot) || isSubtree(root.left,subRoot) || isSubtree(root.right,subRoot); } //100é¢˜åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€é¢—æ ‘ public boolean isSameTree(TreeNode root,TreeNode subRoot){ if(root == null && subRoot == null){ return true; } if(root == null || subRoot == null){ return false; } if(root.val != subRoot.val){ return false; } return isSameTree(root.left,subRoot.left) && isSameTree(root.right,subRoot.right); } } è§£æ³•äºŒï¼šè¿­ä»£ Listä¿å­˜æ¯ä¸ªæ ‘èŠ‚ç‚¹ï¼Œå–æ¯ä¸ªæ ‘èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­æ˜¯å¦ä¸å­æ ‘ç›¸ç­‰ class Solution { public boolean isSubtree(TreeNode root, TreeNode subRoot) { List list = new ArrayList<>(); preOrderQueue(root,list); StringBuilder sb = new StringBuilder(); preOrder(subRoot,sb); for(int i=0;i list){ if(root == null){ return; } list.add(root); preOrderQueue(root.left,list); preOrderQueue(root.right,list); } } ä½¿ç”¨é€’å½’åˆ¤æ–­å­æ ‘æ˜¯å¦ç›¸åŒ class Solution { public boolean isSubtree(TreeNode root, TreeNode subRoot) { List list = new ArrayList<>(); preOrderQueue(root,list); for(int i=0;i list){ if(root == null){ return; } list.add(root); preOrderQueue(root.left,list); preOrderQueue(root.right,list); } public boolean isSameTree(TreeNode root,TreeNode subRoot){ if(root == null && subRoot == null){ return true; } if(root == null || subRoot == null){ return false; } if(root.val != subRoot.val){ return false; } return isSameTree(root.left,subRoot.left) && isSameTree(root.right,subRoot.right); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/543. äºŒå‰æ ‘çš„ç›´å¾„.html":{"url":"æ ‘/543. äºŒå‰æ ‘çš„ç›´å¾„.html","title":"543. äºŒå‰æ ‘çš„ç›´å¾„(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 543. äºŒå‰æ ‘çš„ç›´å¾„ è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/654. æœ€å¤§äºŒå‰æ ‘.html":{"url":"æ ‘/654. æœ€å¤§äºŒå‰æ ‘.html","title":"654. æœ€å¤§äºŒå‰æ ‘(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 654. æœ€å¤§äºŒå‰æ ‘ è§£æ³•ä¸€ï¼šæ·±åº¦ä¼˜å…ˆæœç´¢ è·å–æ•°ç»„çš„æœ€å¤§å€¼ç´¢å¼•ï¼Œé€’å½’çš„ä¿å­˜æœ€å¤§å€¼ç´¢å¼•çš„å€¼ class Solution { public TreeNode constructMaximumBinaryTree(int[] nums) { return maxTree(nums,0,nums.length-1); } //é€’å½’æ„é€ æœ€å¤§äºŒå‰æ ‘ public TreeNode maxTree(int[] nums,int l,int r){ if(l>r){ return null; } int maxIndex = maxNumIndex(nums,l,r); TreeNode root = new TreeNode(nums[maxIndex]); root.left = maxTree(nums,l,maxIndex-1); root.right = maxTree(nums,maxIndex+1,r); return root; } //è·å–æœ€å¤§å€¼ç´¢å¼• public int maxNumIndex(int[] nums,int l,int r){ Integer max = Integer.MIN_VALUE; int index = 0; for(int i=l;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/687. æœ€é•¿åŒå€¼è·¯å¾„.html":{"url":"æ ‘/687. æœ€é•¿åŒå€¼è·¯å¾„.html","title":"687. æœ€é•¿åŒå€¼è·¯å¾„(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 687. æœ€é•¿åŒå€¼è·¯å¾„ è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/102. äºŒå‰æ ‘çš„å±‚åºéå†.html":{"url":"æ ‘/102. äºŒå‰æ ‘çš„å±‚åºéå†.html","title":"102. äºŒå‰æ ‘çš„å±‚åºéå†(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 102. äºŒå‰æ ‘çš„å±‚åºéå† è§£æ³•ä¸€ï¼šä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå† å…ˆå·©å›ºä¸€ä¸‹å±‚åºéå†è¾“å‡º class Solution { public static void main(String[] args) { TreeNode t1 = new TreeNode(3); TreeNode t2 = new TreeNode(9); TreeNode t3 = new TreeNode(20); TreeNode t4 = new TreeNode(15); TreeNode t5 = new TreeNode(7); t1.left = t2; t1.right = t3; t2.left = t4; t2.right = t5; List resp = levelOrder(t1); resp.forEach(System.out::println); } public static List levelOrder(TreeNode root) { Deque deque = new LinkedList<>(); deque.offer(root); List res = new ArrayList<>(); while (!deque.isEmpty()) { TreeNode levelRoot = deque.poll(); res.add(levelRoot.val); if (levelRoot.left != null) { deque.offer(levelRoot.left); } if (levelRoot.right != null) { deque.offer(levelRoot.right); } } return res; } } æœ¬é¢˜è§£é¢˜æ€è·¯ï¼š BFS class Solution { public List> levelOrder(TreeNode root) { if (null == root) { return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); List> resp = new ArrayList<>(); while (!deque.isEmpty()) { List ans = new ArrayList<>(); int level = deque.size(); for (int i = 0; i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/429. Nå‰æ ‘çš„å±‚åºéå†.html":{"url":"æ ‘/429. Nå‰æ ‘çš„å±‚åºéå†.html","title":"429. Nå‰æ ‘çš„å±‚åºéå†(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] 429. N å‰æ ‘çš„å±‚åºéå† è§£æ³•ä¸€ï¼š å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS) ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ class Solution { public List> levelOrder(Node root) { if(null == root){ return new ArrayList<>(); } List> resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ List ans = new ArrayList<>(); int size = deque.size(); for(int i=0;i children = poll.children; for(Node node : children){ deque.offer(node); } } resp.add(ans); } return resp; } } å¾ªç¯å¯ä»¥ä½¿ç”¨addAllè¿›è¡Œä¼˜åŒ– class Solution { public List> levelOrder(Node root) { if(null == root){ return new ArrayList<>(); } List> resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ List ans = new ArrayList<>(); int size = deque.size(); for(int i=0;i è§£æ³•äºŒï¼š æ·±åº¦ä¼˜å…ˆæœç´¢(DFS) class Solution { List> resp = new ArrayList<>(); public List> levelOrder(Node root) { if(root == null){ return new ArrayList<>(); } traverseNode(root,0); return resp; } public void traverseNode(Node root,int level){ if(resp.size() ()); } resp.get(level).add(root.val); for(Node node : root.children){ traverseNode(node,level+1); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦.html":{"url":"æ ‘/559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦.html","title":"559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 559. N å‰æ ‘çš„æœ€å¤§æ·±åº¦ è§£æ³•ä¸€ï¼šä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå±‚åºéå†ï¼Œéå†è¿‡ç¨‹ä¸­è®°å½•æ·±åº¦ import java.util.LinkedList; class Solution { public int maxDepth(Node root) { if(root == null){ return 0; } int res = 0; Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ int size = deque.size(); for(int i=0;i è§£æ³•äºŒï¼šDFS import java.util.LinkedList; class Solution { public int maxDepth(Node root) { if (root == null) { return 0; } if (root.children == null) { return 1; } int max = 0; for(Node node : root.children){ max = Math.max(max,maxDepth(node)); } return max+1; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹.html":{"url":"æ ‘/671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹.html","title":"671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 671. äºŒå‰æ ‘ä¸­ç¬¬äºŒå°çš„èŠ‚ç‚¹ è§£æ³•ä¸€ï¼š DFS ä½¿ç”¨TreeSetæ’åºå»é‡ ä¿å­˜å…ˆåºéå†çš„å€¼ï¼Œè¾“å‡ºç¬¬äºŒå°çš„æ•° class Solution { TreeSet treeSet = new TreeSet<>(); public int findSecondMinimumValue(TreeNode root) { if(root == null){ return -1; } preOrder(root); List list = new ArrayList<>(treeSet); if(list.size() >=2){ return list.get(1); } return -1; } public void preOrder(TreeNode root) { if (root == null) { return; } treeSet.add(root.val); preOrder(root.left); preOrder(root.right); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼.html":{"url":"æ ‘/513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼.html","title":"513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼ è§£æ³•ä¸€ï¼šBFS ä½¿ç”¨é˜Ÿåˆ—è¿›è¡Œå¹¿åº¦ä¼˜å…ˆæœç´¢ï¼Œä½¿ç”¨æ•°ç»„ä¿å­˜æ¯è¾“å‡ºçš„äºŒå‰æ ‘çš„å±‚åºéå†ï¼Œè®¿é—®æœ€åä¸€å±‚ï¼Œè¿”å›æœ€åä¸€å±‚çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ class Solution { List> ans = new ArrayList<>(); public int findBottomLeftValue(TreeNode root) { if (root == null) { return -1; } levelOrder(root); if (ans.size() == 0) { return -1; } List resp = ans.get(ans.size()-1); return resp.get(0); } public void levelOrder(TreeNode root){ Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ int size = deque.size(); List list = new ArrayList<>(); for(int i=0;i è§£æ³•äºŒï¼šä¼˜åŒ–åçš„BFS æ ¹æ®ä»å³åˆ°åšè¾“å‡ºå±‚æ¬¡éå†ï¼Œå‡ºé˜Ÿåˆ—çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æœ€å·¦è¾¹çš„èŠ‚ç‚¹ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼Œé€€å‡ºå¾ªç¯ï¼Œè¾“å‡ºç»“æœ class Solution { public int findBottomLeftValue(TreeNode root) { if (root == null) { return -1; } Deque deque = new LinkedList<>(); deque.offer(root); TreeNode poll = new TreeNode(); while(!deque.isEmpty()){ poll = deque.poll(); if(null != poll.right){ deque.offer(poll.right); } if(null != poll.left){ deque.offer(poll.left); } } return poll.val; } } è§£æ³•äºŒï¼šDFS å‰åºéå† æ¯”è¾ƒæ·±åº¦ æ‰¾åˆ°æœ€å¤§æ·±åº¦çš„ç¬¬ä¸€ä¸ªå¶å­èŠ‚ç‚¹ class Solution { int res = 0; int maxDepth = -1; public int findBottomLeftValue(TreeNode root) { if (root == null) { return -1; } dfs(root,0); return res; } public void dfs(TreeNode root,int depth){ if(null == root){ return; } if(depth > maxDepth){ maxDepth = depth; res = root.val; } dfs(root.left,depth+1); dfs(root.right,depth+1); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼.html":{"url":"æ ‘/515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼.html","title":"515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼ è§£æ³•ä¸€ï¼šBFS å±‚åºéå† å±‚æ¬¡éå†ä¿å­˜æ¯è¡Œæ•°æ®ï¼Œå¯¹æ•°æ®æ’åºè¾“å‡ºæœ€å¤§å€¼ class Solution { public List largestValues(TreeNode root) { if (null == root) { return new ArrayList<>(); } List resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while (!deque.isEmpty()) { int size = deque.size(); List list = new ArrayList<>(); for (int i = 0; i ä¸Šé¢ä»£ç ä¼˜åŒ– class Solution { public List largestValues(TreeNode root) { if (null == root) { return new ArrayList<>(); } List resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while (!deque.isEmpty()) { int size = deque.size(); int max = Integer.MIN_VALUE; for (int i = 0; i è§£æ³•äºŒï¼š DFS class Solution { public List largestValues(TreeNode root) { List result = new ArrayList<>(); dfs(root, 0, result);//å±‚çº§ä»0å¼€å§‹ï¼Œresultä¸éœ€è¦è€ƒè™‘åŠ 1ã€å‡1çš„æƒ…å†µ return result; } public void dfs(TreeNode root, int level, List result) { //é€’å½’DFSæ€»ç»“æ¡ä»¶ if (root == null) { return; } if (result.size() == level) { result.add(level, root.val); } int max = Math.max(result.get(level), root.val); result.set(level, max); dfs(root.left, level + 1, result); dfs(root.right, level + 1, result); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼.html":{"url":"æ ‘/637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼.html","title":"637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 637. äºŒå‰æ ‘çš„å±‚å¹³å‡å€¼ è§£æ³•ä¸€ï¼š BFS å±‚åºéå†ï¼Œå¯¹æ¯å±‚æ•°æ®è¿›è¡Œæ±‚å’Œï¼Œé™¤ä»¥æ¯å±‚æ•°çš„ä¸ªæ•°å¾—å‡ºç»“æœä¿å­˜ class Solution { public List averageOfLevels(TreeNode root) { if(null == root){ return new ArrayList<>(); } List resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ int size = deque.size(); Double sum = new Double(0); for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†.html":{"url":"æ ‘/103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†.html","title":"103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå†(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 103. äºŒå‰æ ‘çš„é”¯é½¿å½¢å±‚åºéå† è§£æ³•ä¸€ï¼šBFS ä½¿ç”¨å±‚åºéå†è¾“å‡ºï¼Œå†åˆ¤æ–­ï¼Œå¦‚æœæ˜¯å¥‡æ•°å±‚çš„æ•°å°±ä¸å˜ï¼Œå¶æ•°å±‚çš„æ•°å€’åºè¾“å‡º class Solution { public List> zigzagLevelOrder(TreeNode root) { if(null == root){ return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); int level = 0; List> resp = new ArrayList<>(); while(!deque.isEmpty()){ level++; int size = deque.size(); List list = new ArrayList<>(); for (int i = 0; i > lists = new ArrayList<>(); for(int i=0;i reverse(List list){ List resp = new ArrayList<>(); for(int i=list.size()-1;i>=0;i--){ resp.add(list.get(i)); } return resp; } } BFSä¼˜åŒ–ï¼Œä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œå¶æ•°çš„æ—¶å€™å°±æ•°æ®åŠ åœ¨å¤´éƒ¨ï¼Œå¥‡æ•°çš„æ—¶å€™åŠ åœ¨å°¾éƒ¨ class Solution { public List> zigzagLevelOrder(TreeNode root) { if (null == root) { return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); int level = 0; List> resp = new ArrayList<>(); while (!deque.isEmpty()) { level++; int size = deque.size(); Deque list = new LinkedList<>(); for (int i = 0; i (list)); } return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/107. äºŒå‰æ ‘çš„å±‚åºéå† II.html":{"url":"æ ‘/107. äºŒå‰æ ‘çš„å±‚åºéå† II.html","title":"107. äºŒå‰æ ‘çš„å±‚åºéå† II(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 107. äºŒå‰æ ‘çš„å±‚åºéå† II è§£æ³•ä¸€ï¼šBFS ä½¿ç”¨åŒç«¯é˜Ÿåˆ—ï¼Œæ¯æ¬¡å±‚æ¬¡éå†æ·»åŠ å†é˜Ÿåˆ—å¤´éƒ¨ï¼Œæœ€åå†ä»å¤´éƒ¨å‡ºé˜Ÿåˆ— class Solution { public List> levelOrderBottom(TreeNode root) { if(null == root){ return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); Deque> ans = new LinkedList<>(); while(!deque.isEmpty()){ int size = deque.size(); List list = new ArrayList<>(); for(int i=0;i> resp = new ArrayList<>(); while(!ans.isEmpty()){ resp.add(ans.poll()); } return resp; } } ä¼˜åŒ–ä¸Šé¢ä»£ç ï¼Œä½¿ç”¨LinkedList ,æ¯æ¬¡åœ¨å¤´éƒ¨æ·»åŠ å…ƒç´  class Solution { public List> levelOrderBottom(TreeNode root) { if(null == root){ return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); LinkedList> ans = new LinkedList<>(); while(!deque.isEmpty()){ int size = deque.size(); List list = new ArrayList<>(); for(int i=0;i è§£æ³•äºŒï¼šDFS é€šè¿‡æ·±åº¦ä¼˜å…ˆæœç´¢è¿›è¡Œå¤„ç†ï¼Œé¦–å…ˆè¿›å…¥çš„æ˜¯ä¸Šå±‚ï¼Œå…¶æ¬¡æ‰æ˜¯ä¸‹å±‚ï¼Œå¹¶æ„é€ å½“å‰å±‚å­˜å‚¨å®¹å™¨ã€‚ ä¸ºäº†æ»¡è¶³è‡ªåº•å‘ä¸Šçš„å±‚åºéå†ï¼Œåœ¨æ¯è¿›å…¥æ–°ä¸€å±‚æ„å»ºå½“å‰å±‚å­˜å‚¨å®¹å™¨æ—¶ï¼Œéœ€è¦å°†å­˜å‚¨å®¹å™¨æ’å…¥åˆ°ç»“æœé›†çš„å¤´éƒ¨ã€‚ class Solution { List> res = new ArrayList<>(); public List> levelOrderBottom(TreeNode root) { levelOrderBottom(root, 0); return res; } public void levelOrderBottom(TreeNode root, int level) { if (root == null) return; if (res.size() ()); res.get(res.size() - level - 1).add(root.val); levelOrderBottom(root.left, level + 1); levelOrderBottom(root.right, level + 1); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„.html":{"url":"æ ‘/257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„.html","title":"257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 257. äºŒå‰æ ‘çš„æ‰€æœ‰è·¯å¾„ è§£æ³•ä¸€ï¼š DFS è¿›è¡Œdfsçš„æ—¶å€™ï¼Œéœ€è¦æ³¨æ„ä¸è¦èµ‹ç›¸åŒçš„å¼•ç”¨ã€‚å·¦å³å­æ ‘éœ€è¦åˆ†åˆ«åˆ›å»ºä¸€ä¸ªæ–°çš„StringBuilder class Solution { List list = new ArrayList<>(); public List binaryTreePaths(TreeNode root) { if(null == root){ return new ArrayList<>(); } dfs(root,new StringBuilder()); return list; } public void dfs(TreeNode root,StringBuilder sb){ if(null == root){ return; } sb.append(root.val); if(null == root.left && null == root.right){ list.add(sb.toString()); } else{ sb.append(\"->\"); dfs(root.left,new StringBuilder(sb)); dfs(root.right,new StringBuilder(sb)); } } } ä½¿ç”¨æ•°ç»„ä¿å­˜è·¯å¾„ class Solution { public static List> binaryTreePaths(TreeNode root) { if (root == null) { return new ArrayList<>(); } List> resp = new ArrayList<>(); List list = new ArrayList<>(); dfs(root, resp, list); return resp; } public static void dfs(TreeNode root, List> resp, List list) { if (root == null) { return; } list.add(root.val); if (root.left == null && root.right == null) { resp.add(list); } else { dfs(root.left, resp, new ArrayList<>(list)); dfs(root.right, resp, new ArrayList<>(list)); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST.html":{"url":"æ ‘/653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST.html","title":"653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 653. ä¸¤æ•°ä¹‹å’Œ IV - è¾“å…¥ BST è§£æ³•ä¸€ï¼šDFSåæ±‚ä¸¤æ•°ä¹‹å’Œ class Solution { List list = new ArrayList<>(); public boolean findTarget(TreeNode root, int k) { if(root == null){ return false; } preOrder(root); Map map = new HashMap<>(); for(int i=0;i ä¼˜åŒ–ä¸Šé¢ä»£ç  class Solution { Map map = new HashMap<>(); public boolean findTarget(TreeNode root, int k) { if(root == null){ return false; } return preOrder(root,k); } public boolean preOrder(TreeNode root,int k){ if(null == root){ return false; } if(map.containsKey(k-root.val)){ return true; } map.put(root.val,root.val); return preOrder(root.left,k) || preOrder(root.right,k); } } è§£æ³•äºŒï¼š BFS class Solution { public boolean findTarget(TreeNode root, int k) { if(root == null){ return false; } Map map = new HashMap<>(); Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ TreeNode node = deque.poll(); if(map.containsKey(k-node.val)){ return true; } map.put(node.val,node.val); if(node.left != null){ deque.offer(node.left); } if(node.right != null){ deque.offer(node.right); } } return false; } } è§£æ³•ä¸‰ï¼šBST åˆ©ç”¨BSTçš„ç‰¹æ€§ï¼ŒäºŒå‰æœç´¢æ ‘è¿›è¡Œä¸­åºéå†ï¼Œæ˜¯ä¸€ä¸ªæœ‰åºçš„é€’å¢æ•°ç»„ã€‚ å¯¹é€’å¢æ•°ç»„è¿›è¡ŒåŒæŒ‡é’ˆæ±‚ä¸¤æ•°ä¹‹å’Œ class Solution { List list = new ArrayList<>(); public boolean findTarget(TreeNode root, int k) { if (root == null) { return false; } inOrder(root); int l = 0; int r = list.size() - 1; while (l k) { r--; } else { l++; } } return false; } public void inOrder(TreeNode root){ if(root == null){ return; } inOrder(root.left); list.add(root.val); inOrder(root.right); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦.html":{"url":"æ ‘/104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦.html","title":"104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 104. äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ è§£æ³•ä¸€ï¼šDFS æ¯”è¾ƒå·¦å­æ ‘ä¸å³å­æ ‘çš„æœ€å¤§æ·±åº¦ ï¼Œæ±‚äºŒå‰æ ‘æ·±åº¦çš„æ¨¡æ¿ class Solution { public int maxDepth(TreeNode root) { if(root == null){ return 0; } return preOrder(root); } public int preOrder(TreeNode root){ if(root == null){ return 0; } return Math.max(preOrder(root.left),preOrder(root.right))+1; } } è§£æ³•äºŒï¼šBFS æ±‚äºŒå‰æ ‘çš„å±‚æ¬¡æ·±åº¦å³å¯ class Solution { public int maxDepth(TreeNode root) { if (root == null) { return 0; } int depth = 0; Deque deque = new LinkedList<>(); deque.offer(root); while (!deque.isEmpty()) { int size = deque.size(); depth++; for (int i = 0; i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦.html":{"url":"æ ‘/111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦.html","title":"111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 111. äºŒå‰æ ‘çš„æœ€å°æ·±åº¦ è§£æ³•ä¸€ï¼š DFS æ±‚æœ€å°æ·±åº¦æ—¶å°†Math.maxæ¢æˆMath.minå³å¯ï¼Œä½†è¦æ³¨æ„å¦‚æœæ ¹èŠ‚ç‚¹çš„å·¦æˆ–å³å­æ ‘ä¸ºç©ºçš„è¯æ˜¯æ„ä¸æˆå­æ ‘çš„ã€‚è€Œæœ€å°æ·±åº¦æ˜¯è¦æ±‚ä»æ ¹èŠ‚ç‚¹åˆ°å­æ ‘çš„ã€‚å½“å·¦æˆ–å³å­æ ‘ä¸ºç©ºæ—¶ï¼Œä¸ç¬¦åˆè¦æ±‚ã€‚ class Solution { public int minDepth(TreeNode root) { if(root == null){ return 0; } if(root.left == null && root.right != null){ return minDepth(root.right)+1; } if(root.left != null && root.right == null){ return minDepth(root.left)+1; } return Math.min(minDepth(root.left),minDepth(root.right)) +1; } } è§£æ³•äºŒï¼šDFSæ±‚æ‰€æœ‰è·¯å¾„ï¼Œå†å¯¹è·¯å¾„æ±‚æœ€å° class Solution { List> ans = new ArrayList<>(); public int minDepth(TreeNode root) { if(root == null){ return 0; } Integer min = Integer.MAX_VALUE; dfs(root,new ArrayList<>()); for(int i=0;i list = ans.get(i); min = Math.min(min,list.size()); } return min; } public void dfs(TreeNode root,List list){ if(root == null){ return; } list.add(root.val); if(root.left == null && root.right == null){ ans.add(list); } else{ dfs(root.left,new ArrayList<>(list)); dfs(root.right,new ArrayList<>(list)); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/112. è·¯å¾„æ€»å’Œ.html":{"url":"æ ‘/112. è·¯å¾„æ€»å’Œ.html","title":"112. è·¯å¾„æ€»å’Œ(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 112. è·¯å¾„æ€»å’Œ è§£æ³•ä¸€ï¼šDFSæ±‚æ‰€æœ‰è·¯å¾„ã€å†å¯¹è·¯å¾„æ±‚å’Œå¤„ç† class Solution { List> resp = new ArrayList<>(); public boolean hasPathSum(TreeNode root, int targetSum) { if (root == null) { return false; } List list = new ArrayList<>(); dfs(root, list, targetSum); for (int i = 0; i ans = resp.get(i); int sum = 0; ans.stream().map for (int j = 0; j list, int targetSum) { if (null == root) { return; } list.add(root.val); if (null == root.left && null == root.right) { resp.add(list); } else { dfs(root.left, new ArrayList<>(list), targetSum); dfs(root.right, new ArrayList<>(list), targetSum); } } } è§£æ³•äºŒï¼š DSF æ¯æ¬¡é€’å½’ç”¨ç›®å‰å€¼å‡å»è·ŸèŠ‚ç‚¹å€¼ï¼Œèµ°åˆ°å¶å­èŠ‚ç‚¹åˆ¤æ–­æ˜¯å¦å·²ç»å‡åˆ°0äº† class Solution { public boolean hasPathSum(TreeNode root, int targetSum) { if(root == null){ return false; } if(null == root.left && null == root.right){ return targetSum - root.val == 0; } return hasPathSum(root.left,targetSum-root.val) || hasPathSum(root.right,targetSum-root.val); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/113. è·¯å¾„æ€»å’Œ II.html":{"url":"æ ‘/113. è·¯å¾„æ€»å’Œ II.html","title":"113. è·¯å¾„æ€»å’Œ II(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 113. è·¯å¾„æ€»å’Œ II è§£æ³•ä¸€ï¼šæš´åŠ›æ³• æ±‚å‡ºæ‰€æœ‰è·¯å¾„ï¼Œå†å¯¹è·¯å¾„åšåˆ¤æ–­ class Solution { List> resp = new ArrayList<>(); public List> pathSum(TreeNode root, int targetSum) { if(null == root){ return new ArrayList<>(); } dfs(root,new ArrayList<>()); List> ans = new ArrayList<>(); for(int i=0;io).sum(); if(sum == targetSum){ ans.add(resp.get(i)); } } return ans; } public void dfs(TreeNode root,List list){ if(null == root){ return; } list.add(root.val); if(null == root.left && null == root.right){ resp.add(list); } else{ dfs(root.left,new ArrayList<>(list)); dfs(root.right,new ArrayList<>(list)); } } } è§£æ³•äºŒï¼šDFSä¼˜åŒ– class Solution { List> resp = new ArrayList<>(); Deque deque = new LinkedList<>(); public List> pathSum(TreeNode root, int targetSum) { if(null == root){ return new ArrayList<>(); } dfs(root,targetSum); return resp; } public void dfs(TreeNode root,int targetSum){ if(null == root){ return; } deque.offerLast(root.val); if(null == root.left && null == root.right){ if(targetSum == root.val){ resp.add(new LinkedList<>(deque)); } } dfs(root.left,targetSum-root.val); dfs(root.right,targetSum-root.val); deque.pollLast(); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ.html":{"url":"æ ‘/129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ.html","title":"129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] 129. æ±‚æ ¹èŠ‚ç‚¹åˆ°å¶èŠ‚ç‚¹æ•°å­—ä¹‹å’Œ è§£æ³•ä¸€ï¼šDFSæš´åŠ›ç ´è§£ class Solution { List ans = new ArrayList<>(); public int sumNumbers(TreeNode root) { if(root == null){ return 0; } dfs(root,new StringBuilder()); int sum = 0; for(int i=0;i è§£æ³•äºŒï¼š åŒç™¾DFS class Solution { public int sumNumbers(TreeNode root) { if(null == root){ return 0; } return dfs(root,0); } public int dfs(TreeNode root,int i){ if(root == null){ return 0; } int temp = i*10+root.val; if(root.left == null && root.right == null){ return temp; } return dfs(root.left,temp) + dfs(root.right,temp); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/404. å·¦å¶å­ä¹‹å’Œ.html":{"url":"æ ‘/404. å·¦å¶å­ä¹‹å’Œ.html","title":"404. å·¦å¶å­ä¹‹å’Œ(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] 404. å·¦å¶å­ä¹‹å’Œ è§£æ³•ä¸€ï¼šDFS class Solution { public int sumOfLeftLeaves(TreeNode root) { if(root == null){ return 0; } int sum = 0; if(root.left != null && root.left.left == null && root.left.right == null){ sum = sum + root.left.val; } return sumOfLeftLeaves(root.left) + sumOfLeftLeaves(root.right) + sum; } } è§£æ³•äºŒï¼šBFS å±‚æ¬¡éå†æ—¶è¿›è¡Œåˆ¤æ–­ class Solution { public int sumOfLeftLeaves(TreeNode root) { if(root == null){ return 0; } Deque deque = new LinkedList<>(); deque.offer(root); int sum = 0; while(!deque.isEmpty()){ TreeNode poll = deque.poll(); if(poll.left != null){ if(poll.left.left == null && poll.left.right == null){ sum = sum + poll.left.val; } deque.offer(poll.left); } if(poll.right != null){ deque.offer(poll.right); } } return sum; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/199. äºŒå‰æ ‘çš„å³è§†å›¾.html":{"url":"æ ‘/199. äºŒå‰æ ‘çš„å³è§†å›¾.html","title":"199. äºŒå‰æ ‘çš„å³è§†å›¾(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 199. äºŒå‰æ ‘çš„å³è§†å›¾ è§£æ³•ä¸€ï¼š BFS å±‚æ¬¡éå† è½¬æ¢ä¸ºä¿å­˜å±‚æ¬¡éå†çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ class Solution { public List rightSideView(TreeNode root) { if (null == root) { return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offer(root); List resp = new ArrayList<>(); while (!deque.isEmpty()) { int size = deque.size(); List list = new ArrayList<>(); for (int i = 0; i ä¸Šé¢ä»£ç ä¼˜åŒ–ï¼Œåœ¨éå†åˆ°æœ€åä¸€ä¸ªçš„æ—¶å€™ç›´æ¥åŠ åˆ°ç»“æœé›†ä¸­ class Solution { public List rightSideView(TreeNode root) { if(null == root){ return new ArrayList<>(); } List resp = new ArrayList<>(); Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ int size = deque.size(); for(int i=0;i è§£æ³•äºŒï¼šDFS class Solution { List resp = new ArrayList<>(); public List rightSideView(TreeNode root) { if(null == root){ return new ArrayList<>(); } dfs(root,0); return resp; } public void dfs(TreeNode root,int depth){ if(root == null){ return; } if(depth == resp.size()){ resp.add(root.val); } depth++; dfs(root.right,depth); dfs(root.left,depth); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ.html":{"url":"æ ‘/116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ.html","title":"116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ è§£æ³•ä¸€ï¼šBFS å±‚æ¬¡éå†ï¼Œè¿æ¥æˆé“¾è¡¨ class Solution { public Node connect(Node root) { if(null == root){ return root; } Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ int size = deque.size(); for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/144. äºŒå‰æ ‘çš„å‰åºéå†.html":{"url":"æ ‘/144. äºŒå‰æ ‘çš„å‰åºéå†.html","title":"144. äºŒå‰æ ‘çš„å‰åºéå†(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] 144. äºŒå‰æ ‘çš„å‰åºéå† è§£æ³•ä¸€ï¼šDFS class Solution { List resp = new ArrayList<>(); public List preorderTraversal(TreeNode root) { if(null == root){ return new ArrayList<>(); } dfs(root); return resp; } public void dfs(TreeNode root){ if(root == null){ return; } resp.add(root.val); dfs(root.left); dfs(root.right); } } è§£æ³•äºŒï¼š BFS class Solution { List resp = new ArrayList<>(); public List preorderTraversal(TreeNode root) { if(null == root){ return new ArrayList<>(); } Deque deque = new LinkedList<>(); while(!deque.isEmpty() || root !=null){ while(root != null){ resp.add(root.val); deque.offerFirst(root); root = root.left; } root = deque.pollFirst(); root = root.right; } return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/589. N å‰æ ‘çš„å‰åºéå†.html":{"url":"æ ‘/589. N å‰æ ‘çš„å‰åºéå†.html","title":"589. N å‰æ ‘çš„å‰åºéå†(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 589. N å‰æ ‘çš„å‰åºéå† è§£æ³•ä¸€ï¼šDFS class Solution { List resp = new ArrayList<>(); public List preorder(Node root) { if(root == null){ return resp; } dfs(root); return resp; } public void dfs(Node root){ if(root == null){ return; } resp.add(root.val); for(Node node : root.children){ dfs(node); } } } è§£æ³•äºŒï¼šBFS class Solution { List resp = new ArrayList<>(); public List preorder(Node root) { if(root == null){ return resp; } Deque deque = new LinkedList<>(); deque.offer(root); while(!deque.isEmpty()){ Node poll = deque.pollLast(); resp.add(poll.val); Collections.reverse(poll.children); for(Node node : poll.children){ deque.offerLast(node); } } return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸².html":{"url":"æ ‘/606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸².html","title":"606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸²(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 606. æ ¹æ®äºŒå‰æ ‘åˆ›å»ºå­—ç¬¦ä¸² è§£æ³•ä¸€ï¼šDFS class Solution { public String tree2str(TreeNode root) { if(root == null){ return null; } StringBuilder sb = new StringBuilder(); preOrder(root,sb); return sb.toString(); } public void preOrder(TreeNode root,StringBuilder sb){ if(root == null){ return; } sb.append(root.val); if(root.left != null || root.right != null){ sb.append(\"(\"); preOrder(root.left,sb); sb.append(\")\"); if(root.right != null){ sb.append(\"(\"); preOrder(root.right,sb); sb.append(\")\"); } } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/652. å¯»æ‰¾é‡å¤çš„å­æ ‘.html":{"url":"æ ‘/652. å¯»æ‰¾é‡å¤çš„å­æ ‘.html","title":"652. å¯»æ‰¾é‡å¤çš„å­æ ‘(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 652. å¯»æ‰¾é‡å¤çš„å­æ ‘ è§£æ³•ä¸€ï¼šDFSäºŒå‰æ ‘åºåˆ—åŒ– class Solution { Map map = new HashMap<>(); List resp = new ArrayList<>(); public List findDuplicateSubtrees(TreeNode root) { if(root == null){ return new ArrayList<>(); } preOrderSerial(root,new StringBuilder()); return resp; } public String preOrderSerial(TreeNode root,StringBuilder sb){ if(root == null){ return \"#\"; } sb.append(root.val).append(\",\").append(preOrderSerial(root.left,new StringBuilder())).append(\",\").append(preOrderSerial(root.right,new StringBuilder())); map.put(sb.toString(),map.getOrDefault(sb.toString(),0)+1); if(map.get(sb.toString()) == 2){ resp.add(root); } return sb.toString(); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/145. äºŒå‰æ ‘çš„ååºéå†.html":{"url":"æ ‘/145. äºŒå‰æ ‘çš„ååºéå†.html","title":"145. äºŒå‰æ ‘çš„ååºéå†(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] 145. äºŒå‰æ ‘çš„ååºéå† è§£æ³•ä¸€ï¼šDFS class Solution { List resp = new ArrayList<>(); public List postorderTraversal(TreeNode root) { if(null == root){ return new ArrayList<>(); } dfs(root); return resp; } public void dfs(TreeNode root){ if(root == null){ return; } dfs(root.left); dfs(root.right); resp.add(root.val); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/590. N å‰æ ‘çš„ååºéå†.html":{"url":"æ ‘/590. N å‰æ ‘çš„ååºéå†.html","title":"590. N å‰æ ‘çš„ååºéå†(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 589. N å‰æ ‘çš„å‰åºéå† è§£æ³•ä¸€ï¼šDFS class Solution { List resp = new ArrayList<>(); public List postorder(Node root) { if(null == root){ return new ArrayList<>(); } dfs(root); return resp; } public void dfs(Node root){ if(root == null){ return; } for(Node node : root.children){ dfs(node); } resp.add(root.val); } } class Solution { List resp = new ArrayList<>(); public List postorder(Node root) { if(null == root){ return new ArrayList<>(); } Deque deque = new LinkedList<>(); deque.offerLast(root); while(!deque.isEmpty()){ Node node = deque.pollLast(); resp.add(node.val); for(Node child : node.children){ deque.offerLast(child); } } Collections.reverse(resp); return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/94. äºŒå‰æ ‘çš„ä¸­åºéå†.html":{"url":"æ ‘/94. äºŒå‰æ ‘çš„ä¸­åºéå†.html","title":"94. äºŒå‰æ ‘çš„ä¸­åºéå† (easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 94. äºŒå‰æ ‘çš„ä¸­åºéå† è§£æ³•ä¸€ï¼šDFS class Solution { List resp = new ArrayList<>(); public List inorderTraversal(TreeNode root) { if (null == root) { return new ArrayList<>(); } middleOrder(root); return resp; } public void middleOrder(TreeNode root){ if(root == null){ return; } middleOrder(root.left); resp.add(root.val); middleOrder(root.right); } } è§£æ³•äºŒï¼šBFS class Solution { List resp = new ArrayList<>(); public List inorderTraversal(TreeNode root) { if (null == root) { return new ArrayList<>(); } Deque deque = new LinkedList<>(); while (!deque.isEmpty() || root != null) { while (root != null) { deque.offerLast(root); root = root.left; } root = deque.pollLast(); resp.add(root.val); root = root.right; } return resp; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢.html":{"url":"æ ‘/700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢.html","title":"700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ (easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 700. äºŒå‰æœç´¢æ ‘ä¸­çš„æœç´¢ è§£æ³•ä¸€ï¼šDFSéå†äºŒå‰æ ‘åˆ¤æ–­ class Solution { TreeNode result = null; public TreeNode searchBST(TreeNode root, int val) { if (null == root) { return null; } preOrder(root, val); return result; } public void preOrder(TreeNode root, int val) { if (root == null) { return; } preOrder(root.left, val); if (root.val == val) { result = root; return; } preOrder(root.right, val); } } è§£æ³•ä¸€ï¼šBFSéå†å¤„ç† class Solution { TreeNode result = null; public TreeNode searchBST(TreeNode root, int val) { if (null == root) { return null; } Deque deque = new LinkedList<>(); while(!deque.isEmpty() || root !=null){ while(root != null){ if(root.val == val){ result = root; } deque.offerFirst(root); root = root.left; } root = deque.pollFirst(); root = root.right; } return result; } } è§£æ³•ä¸‰ï¼šDFSä¼˜åŒ– æ€è·¯ï¼šåˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§è§£å†³ï¼ŒäºŒå‰æ ‘ä¸­åºéå†æ—¶å‡åºçš„ï¼Œå·¦æ ¹å³ äºŒå‰æœç´¢æ ‘æ˜¯ä¸€æ£µäºŒå‰æ ‘ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š å¤§äºå·¦å­æ ‘ä¸Šä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œ å°äºå³å­æ ‘ä¸Šä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼ã€‚class Solution { public TreeNode searchBST(TreeNode root, int val) { if (root == null) { return null; } if (root.val == val) { return root; } if (root.val > val) { return searchBST(root.left, val); } else { return searchBST(root.right, val); } } } ç®€åŒ–ä»£ç  class Solution { public TreeNode searchBST(TreeNode root, int val) { if (root == null || val == root.val) return root; return val Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®.html":{"url":"æ ‘/530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·®.html","title":"530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·® (easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 530. äºŒå‰æœç´¢æ ‘çš„æœ€å°ç»å¯¹å·® è§£æ³•ä¸€ï¼šæš´åŠ›ç ´è§£ ï¼Œè¾“å‡ºäºŒå‰æœç´¢æ ‘ä¸­åºéå†ï¼Œå†æ‰¾å‡ºæœ€å°ç»å¯¹å·® class Solution { List ans = new ArrayList<>(); public int getMinimumDifference(TreeNode root) { if(null == root){ return 0; } dfs(root); Integer min = Integer.MAX_VALUE; for(int i=0;i ä¼˜åŒ–ä»£ç  äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ˜¯å‡åºçš„ï¼Œç›¸é‚»æ•°å­˜åœ¨æœ€å°ç»å¯¹å·®ï¼Œæ¯æ¬¡åˆ¤æ–­å½“å‰èŠ‚ç‚¹ä¸ä¸Šä¸€èŠ‚ç‚¹çš„æœ€å°ç»å¯¹å·®å€¼ class Solution { Integer min = Integer.MAX_VALUE; Integer prevNode = Integer.MAX_VALUE; public int getMinimumDifference(TreeNode root) { if(null == root){ return 0; } int prevNode = root.val; inOrder(root); return min; } public void inOrder(TreeNode root){ if(null == root){ return; } inOrder(root.left); int temp = Math.abs(root.val-prevNode); min = Math.min(min,temp); prevNode = root.val; inOrder(root.right); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘.html":{"url":"æ ‘/538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘.html","title":"538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘ (medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘ è§£æ³•ä¸€ï¼šDFS ååºä¸­åºéå† æ€è·¯ï¼š äºŒå‰æœç´¢æ ‘çš„ä¸­åºéå†æ—¶å‡åºçš„ï¼Œå·¦æ ¹å³éå†ï¼Œ ä½¿ç”¨å³æ ¹å·¦è¿›è¡Œéå†çš„è¯ï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªé™åºçš„é¡ºåºã€‚ è¿™é‡Œä½¿ç”¨å³æ ¹å·¦è¿›è¡Œé€’å½’ï¼Œé€’å½’è¿‡ç¨‹ä¸­å°†èŠ‚ç‚¹å€¼åŠ èµ·æ¥ã€‚ class Solution { int sum = 0; public TreeNode convertBST(TreeNode root) { if (null == root) { return null; } convertBST(root.right); sum = sum + root.val; root.val = sum; convertBST(root.left); return root; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ .html":{"url":"æ ‘/230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´ .html","title":"230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  (medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 230. äºŒå‰æœç´¢æ ‘ä¸­ç¬¬Kå°çš„å…ƒç´  è§£æ³•ä¸€ï¼šDFSæš´åŠ› class Solution { List list = new ArrayList<>(); int res = 0; public int kthSmallest(TreeNode root, int k) { if(root == null){ return 0; } inOrder(root); return list.get(k-1); } public void inOrder(TreeNode root){ if(root == null){ return; } inOrder(root.left); list.add(root.val); inOrder(root.right); } } ä¼˜åŒ–ä¸€ä¸‹ï¼Œæå‰ç»“æŸ class Solution { List list = new ArrayList<>(); int res = 0; public int kthSmallest(TreeNode root, int k) { if(root == null){ return 0; } inOrder(root,k); return res; } public void inOrder(TreeNode root,int k){ if(root == null){ return; } inOrder(root.left,k); list.add(root.val); if(list.size() == k){ res = root.val; return; } inOrder(root.right,k); } } å†æ¬¡ä¼˜åŒ–ï¼Œä¸ä½¿ç”¨é¢å¤–ç©ºé—´ï¼Œåœ¨é€’å½’æ—¶è¿›è¡Œåˆ¤æ–­ class Solution { int index = 0; int res = 0; public int kthSmallest(TreeNode root, int k) { if(root == null){ return 0; } inOrder(root,k); return res; } public void inOrder(TreeNode root,int k){ if(root == null){ return; } inOrder(root.left,k); index++; if(index == k){ res = root.val; return; } inOrder(root.right,k); } } è§£æ³•äºŒï¼š BFS class Solution { public int kthSmallest(TreeNode root, int k) { if (root == null) { return 0; } Deque deque = new LinkedList<>(); int index = 0; while (!deque.isEmpty() || root != null) { while (root != null) { deque.offerLast(root); root = root.left; } root = deque.pollLast(); index++; if (index == k) { return root.val; } root = root.right; } return 0; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/98. éªŒè¯äºŒå‰æœç´¢æ ‘.html":{"url":"æ ‘/98. éªŒè¯äºŒå‰æœç´¢æ ‘.html","title":"98. éªŒè¯äºŒå‰æœç´¢æ ‘(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 98. éªŒè¯äºŒå‰æœç´¢æ ‘ è§£æ³•ä¸€ï¼šDFS åˆ©ç”¨äºŒå‰æœç´¢æ ‘çš„ç‰¹æ€§ï¼Œæ ¹èŠ‚ç‚¹æ€»å¤§äºå·¦å­æ ‘ï¼Œéå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œåˆ¤æ–­æ˜¯å¦å¤§äºå·¦å­æ ‘ï¼Œ ä¸­åºéå†æ—¶å‡åºçš„ï¼Œåˆ¤æ–­å½“å‰èŠ‚ç‚¹å€¼æ˜¯å¦å¤§äºå‰ä¸€ä¸ªèŠ‚ç‚¹å€¼ class Solution { Long prev = Long.MIN_VALUE; boolean flag = true; public boolean isValidBST(TreeNode root) { if(root == null){ return false; } dfs(root); return flag; } public void dfs(TreeNode root){ if(root == null){ return; } dfs(root.left); if(root.val è§£æ³•äºŒï¼šBFS class Solution { public boolean isValidBST(TreeNode root) { if (root == null) { return false; } Deque deque = new LinkedList<>(); Long prevNum = Long.MIN_VALUE; while(!deque.isEmpty() || root != null){ while(root != null){ deque.offerLast(root); root = root.left; } root = deque.pollLast(); if(root.val Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘.html":{"url":"æ ‘/669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘.html","title":"669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 669. ä¿®å‰ªäºŒå‰æœç´¢æ ‘ è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/110. å¹³è¡¡äºŒå‰æ ‘.html":{"url":"æ ‘/110. å¹³è¡¡äºŒå‰æ ‘.html","title":"110. å¹³è¡¡äºŒå‰æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 110. å¹³è¡¡äºŒå‰æ ‘ è§£æ³•ä¸€ï¼šDFS éå†è¿‡ç¨‹ä¸­åˆ¤æ–­å·¦å³å­æ ‘çš„é«˜åº¦å·® class Solution { boolean flag = true; public boolean isBalanced(TreeNode root) { if(root == null){ return true; } dfs(root); return flag; } public void dfs(TreeNode root){ if(root == null){ return; } if(Math.abs(level(root.left)-level(root.right)) >1){ flag = false; return; } dfs(root.left); dfs(root.right); } public int level(TreeNode root) { if (root == null) { return 0; } int left = level(root.left); int right = level(root.right); return Math.max(left, right) + 1; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘.html":{"url":"æ ‘/108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘.html","title":"108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 108. å°†æœ‰åºæ•°ç»„è½¬æ¢ä¸ºäºŒå‰æœç´¢æ ‘ è§£æ³•ä¸€ï¼šä¸­åºéå†ï¼Œæ€»æ˜¯é€‰æ‹©ä¸­é—´ä½ç½®å·¦è¾¹çš„æ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ class Solution { public TreeNode sortedArrayToBST(int[] nums) { if(null == nums || nums.length == 0){ return null; } return helper(nums,0,nums.length-1); } public TreeNode helper(int[] nums,int left,int right){ if(left>right){ return null; } int middle = (left+right)/2; TreeNode node = new TreeNode(nums[middle]); node.left = helper(nums,left,middle-1); node.right = helper(nums,middle+1,right); return node; } } è§£æ³•äºŒï¼šä¸­åºéå†ï¼Œæ€»æ˜¯é€‰æ‹©ä¸­é—´ä½ç½®å³è¾¹çš„æ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ class Solution { public TreeNode sortedArrayToBST(int[] nums) { if(null == nums || nums.length == 0){ return null; } return helper(nums,0,nums.length-1); } public TreeNode helper(int[] nums,int left,int right){ if(left>right){ return null; } int middle = (left+right+1)/2; TreeNode node = new TreeNode(nums[middle]); node.left = helper(nums,left,middle-1); node.right = helper(nums,middle+1,right); return node; } } è§£æ³•ä¸‰ï¼šä¸­åºéå†ï¼Œé€‰æ‹©ä»»æ„ä¸€ä¸ªä¸­é—´ä½ç½®æ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ class Solution { Random rand = new Random(); public TreeNode sortedArrayToBST(int[] nums) { return helper(nums, 0, nums.length - 1); } public TreeNode helper(int[] nums, int left, int right) { if (left > right) { return null; } // é€‰æ‹©ä»»æ„ä¸€ä¸ªä¸­é—´ä½ç½®æ•°å­—ä½œä¸ºæ ¹èŠ‚ç‚¹ int mid = (left + right + rand.nextInt(2)) / 2; TreeNode root = new TreeNode(nums[mid]); root.left = helper(nums, left, mid - 1); root.right = helper(nums, mid + 1, right); return root; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/662. äºŒå‰æ ‘æœ€å¤§å®½åº¦.html":{"url":"æ ‘/662. äºŒå‰æ ‘æœ€å¤§å®½åº¦.html","title":"662. äºŒå‰æ ‘æœ€å¤§å®½åº¦(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 662. äºŒå‰æ ‘æœ€å¤§å®½åº¦ è§£æ³•ä¸€ï¼šBFS äºŒå‰æ ‘çš„æœ€å¤§å®½åº¦æˆ‘ä»¬å¯ä»¥è®¤ä¸ºæ˜¯ä»æœ€å·¦è¾¹åˆ°æœ€å³è¾¹çš„æœ€å¤§è·ç¦»ï¼Œå‡å¦‚æ˜¯ä¸€æ£µæ»¡äºŒå‰æ ‘çš„è¯ï¼Œæ¯ä¸€å±‚çš„æœ€å¤§è·ç¦»å°±æ˜¯æœ€å·¦è¾¹åˆ°æœ€å³è¾¹çš„èŠ‚ç‚¹æ•°ã€‚å› ä¸ºäºŒå‰æ ‘ä¸ä¸€å®šéƒ½æ˜¯æ»¡äºŒå‰æ ‘ æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è®¡ç®—ï¼ŒæŠŠå®ƒæƒ³è±¡æˆä¸ºä¸€é¢—æ»¡äºŒå‰æ ‘ï¼Œå‡å¦‚æ ¹èŠ‚ç‚¹æ˜¯éå†çš„ç¬¬1ä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆä»–çš„ä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«æ˜¯éå†çš„ç¬¬2ä¸ªå’Œç¬¬3ä¸ªèŠ‚ç‚¹ã€‚å¹¶ä¸”å¯ä»¥æ¨ç®—å‡ºå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ˜¯ç¬¬nä¸ªéå†çš„ï¼Œé‚£ä¹ˆä»–çš„ä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«æ˜¯ç¬¬n2å’Œn2+1ä¸ªéå†çš„ï¼Œå…·ä½“æˆ‘ä»¬æ¥ç”»ä¸ªå›¾çœ‹ä¸€ä¸‹ class Solution { public int widthOfBinaryTree(TreeNode root) { if(root == null){ return 0; } Deque deque = new LinkedList<>(); deque.offer(root); root.val = 1; int maxWidth = 0; while(!deque.isEmpty()){ int size = deque.size(); List ans = new ArrayList<>(); int left = deque.peekFirst().val; int right = deque.peekLast().val; maxWidth = Math.max(maxWidth,right-left+1); for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html":{"url":"æ ‘/236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html","title":"236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 236. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ è§£æ³•ä¸€ï¼šå“ˆå¸Œè¡¨ å­˜å‚¨çˆ¶èŠ‚ç‚¹ æ€è·¯ æˆ‘ä»¬å¯ä»¥ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ‰€æœ‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ä¿¡æ¯ä» p ç»“ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¹¶è®°å½•å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œå†ä» q èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€ä¸Šè·³ï¼Œå¦‚æœç¢°åˆ°å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªèŠ‚ç‚¹å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚ ç®—æ³• ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†æ•´æ£µäºŒå‰æ ‘ï¼Œç”¨å“ˆå¸Œè¡¨è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹æŒ‡é’ˆã€‚ ä» p èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¹¶ç”¨æ•°æ®ç»“æ„è®°å½•å·²ç»è®¿é—®è¿‡çš„ç¥–å…ˆèŠ‚ç‚¹ã€‚ åŒæ ·ï¼Œæˆ‘ä»¬å†ä» q èŠ‚ç‚¹å¼€å§‹ä¸æ–­å¾€å®ƒçš„ç¥–å…ˆç§»åŠ¨ï¼Œå¦‚æœæœ‰ç¥–å…ˆå·²ç»è¢«è®¿é—®è¿‡ï¼Œå³æ„å‘³ç€è¿™æ˜¯ p å’Œ q çš„æ·±åº¦æœ€æ·±çš„å…¬å…±ç¥–å…ˆï¼Œå³ LCA èŠ‚ç‚¹ã€‚ class Solution { HashMap map = new HashMap<>(); Set set = new HashSet<>(); public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { dfs(root); while( p != null){ set.add(p.val); p = map.get(p.val); } while(q !=null){ if(set.contains(q.val)){ return q; } q = map.get(q.val); } return null; } public void dfs(TreeNode root){ if(root == null){ return; } if(root.left != null){ map.put(root.left.val,root); dfs(root.left); } if(root.right != null){ map.put(root.right.val,root); dfs(root.right); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ ‘/124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ.html":{"url":"æ ‘/124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ.html","title":"124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ(å›°éš¾)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/å›¾ä¸æœç´¢.html":{"url":"ç®€ä»‹/å›¾ä¸æœç´¢.html","title":"å›¾ä¸æœç´¢","keywords":"","body":"å›¾ä¸æœç´¢ å›æº¯ç®—æ³• ä»€ä¹ˆæ˜¯å›æº¯æ³• å›æº¯æ³•ä¹Ÿå¯ä»¥å«åšå›æº¯æœç´¢æ³•ï¼Œå®ƒæ˜¯ä¸€ç§æœç´¢çš„æ–¹å¼ï¼Œå›æº¯æ˜¯é€’å½’çš„å‰¯äº§å“ï¼Œåªè¦æœ‰é€’å½’å°±ä¼šæœ‰å›æº¯ã€‚ å›æº¯æ³•çš„æ•ˆç‡ å›æº¯æ³•çš„æ€§èƒ½å¦‚ä½•å‘¢ï¼Œè¿™é‡Œè¦å’Œå¤§å®¶è¯´æ¸…æ¥šäº†ï¼Œã€Œè™½ç„¶å›æº¯æ³•å¾ˆéš¾ï¼Œå¾ˆä¸å¥½ç†è§£ï¼Œä½†æ˜¯å›æº¯æ³•å¹¶ä¸æ˜¯ä»€ä¹ˆé«˜æ•ˆçš„ç®—æ³•ã€ã€‚ ã€Œå› ä¸ºå›æº¯çš„æœ¬è´¨æ˜¯ç©·ä¸¾ï¼Œç©·ä¸¾æ‰€æœ‰å¯èƒ½ï¼Œç„¶åé€‰å‡ºæˆ‘ä»¬æƒ³è¦çš„ç­”æ¡ˆã€ï¼Œå¦‚æœæƒ³è®©å›æº¯æ³•é«˜æ•ˆä¸€äº›ï¼Œå¯ä»¥åŠ ä¸€äº›å‰ªæçš„æ“ä½œï¼Œä½†ä¹Ÿæ”¹ä¸äº†å›æº¯æ³•å°±æ˜¯ç©·ä¸¾çš„æœ¬è´¨ã€‚ é‚£ä¹ˆæ—¢ç„¶å›æº¯æ³•å¹¶ä¸é«˜æ•ˆä¸ºä»€ä¹ˆè¿˜è¦ç”¨å®ƒå‘¢ï¼Ÿ å› ä¸ºæ²¡å¾—é€‰ï¼Œä¸€äº›é—®é¢˜èƒ½æš´åŠ›æœå‡ºæ¥å°±ä¸é”™äº†ï¼Œæ’‘æ­»äº†å†å‰ªæä¸€ä¸‹ï¼Œè¿˜æ²¡æœ‰æ›´é«˜æ•ˆçš„è§£æ³•ã€‚ æ­¤æ—¶å¤§å®¶åº”è¯¥å¥½å¥‡äº†ï¼Œéƒ½ä»€ä¹ˆé—®é¢˜ï¼Œè¿™ä¹ˆç‰›é€¼ï¼Œåªèƒ½æš´åŠ›æœç´¢ã€‚ å›æº¯æ³•è§£å†³çš„é—®é¢˜ å›æº¯æ³•ï¼Œä¸€èˆ¬å¯ä»¥è§£å†³å¦‚ä¸‹å‡ ç§é—®é¢˜ï¼š ç»„åˆé—®é¢˜ï¼šNä¸ªæ•°é‡Œé¢æŒ‰ä¸€å®šè§„åˆ™æ‰¾å‡ºkä¸ªæ•°çš„é›†åˆ æ’åˆ—é—®é¢˜ï¼šNä¸ªæ•°æŒ‰ä¸€å®šè§„åˆ™å…¨æ’åˆ—ï¼Œæœ‰å‡ ç§æ’åˆ—æ–¹å¼ åˆ‡å‰²é—®é¢˜ï¼šä¸€ä¸ªå­—ç¬¦ä¸²æŒ‰ä¸€å®šè§„åˆ™æœ‰å‡ ç§åˆ‡å‰²æ–¹å¼ å­é›†é—®é¢˜ï¼šä¸€ä¸ªNä¸ªæ•°çš„é›†åˆé‡Œæœ‰å¤šå°‘ç¬¦åˆæ¡ä»¶çš„å­é›† æ£‹ç›˜é—®é¢˜ï¼šNçš‡åï¼Œè§£æ•°ç‹¬ç­‰ç­‰ ç»„åˆæ˜¯ä¸å¼ºè°ƒå…ƒç´ é¡ºåºçš„ï¼Œæ’åˆ—æ˜¯å¼ºè°ƒå…ƒç´ é¡ºåº ä¾‹å¦‚ï¼š{1, 2} å’Œ {2, 1} åœ¨ç»„åˆä¸Šï¼Œå°±æ˜¯ä¸€ä¸ªé›†åˆï¼Œå› ä¸ºä¸å¼ºè°ƒé¡ºåºï¼Œè€Œè¦æ˜¯æ’åˆ—çš„è¯ï¼Œ{1, 2} å’Œ {2, 1} å°±æ˜¯ä¸¤ä¸ªé›†åˆäº†ã€‚ å¦‚ä½•ç†è§£å›æº¯æ³• å›æº¯æ³•è§£å†³çš„é—®é¢˜éƒ½å¯ä»¥æŠ½è±¡ä¸ºæ ‘å½¢ç»“æ„ï¼Œæ˜¯çš„ï¼Œæˆ‘æŒ‡çš„æ˜¯æ‰€æœ‰å›æº¯æ³•çš„é—®é¢˜éƒ½å¯ä»¥æŠ½è±¡ä¸ºæ ‘å½¢ç»“æ„ï¼ å› ä¸ºå›æº¯æ³•è§£å†³çš„éƒ½æ˜¯åœ¨é›†åˆä¸­é€’å½’æŸ¥æ‰¾å­é›†ï¼Œã€Œé›†åˆçš„å¤§å°å°±æ„æˆäº†æ ‘çš„å®½åº¦ï¼Œé€’å½’çš„æ·±åº¦ï¼Œéƒ½æ„æˆçš„æ ‘çš„æ·±åº¦ã€ã€‚ é€’å½’å°±è¦æœ‰ç»ˆæ­¢æ¡ä»¶ï¼Œæ‰€ä»¥å¿…ç„¶æ˜¯ä¸€é¢—é«˜åº¦æœ‰é™çš„æ ‘ï¼ˆNå‰æ ‘ï¼‰ã€‚ è¿™å—å¯èƒ½åˆå­¦è€…è¿˜ä¸å¤ªç†è§£ï¼Œåé¢çš„å›æº¯ç®—æ³•è§£å†³çš„æ‰€æœ‰é¢˜ç›®ä¸­ï¼Œæˆ‘éƒ½ä¼šå¼ºè°ƒè¿™ä¸€ç‚¹å¹¶ç”»å›¾ä¸¾ç›¸åº”çš„ä¾‹å­ï¼Œç°åœ¨æœ‰ä¸€ä¸ªå°è±¡å°±è¡Œã€‚ å›æº¯æ³•æ¨¡æ¿ class Solution{ void backtracking(å‚æ•°) { if (ç»ˆæ­¢æ¡ä»¶) { å­˜æ”¾ç»“æœ; return; } for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©å­çš„æ•°é‡å°±æ˜¯é›†åˆçš„å¤§å°ï¼‰) { å¤„ç†èŠ‚ç‚¹; backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’ å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/77. ç»„åˆ.html":{"url":"å›¾ä¸æœç´¢/77. ç»„åˆ.html","title":"77. ç»„åˆ(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 77. ç»„åˆ è§£æ³•ä¸€ï¼šå›æº¯ å›æº¯ç®—æ³•æ¨¡æ¿ class Solution { void backtracking(å‚æ•°) { if (ç»ˆâ½Œæ¡ä»¶){ å­˜æ”¾ç»“æœ; return; } for (é€‰æ‹©ï¼šæœ¬å±‚é›†åˆä¸­å…ƒç´ ï¼ˆæ ‘ä¸­èŠ‚ç‚¹å­©â¼¦çš„æ•°é‡å°±æ˜¯é›†åˆçš„â¼¤â¼©ï¼‰){ å¤„ç†èŠ‚ç‚¹; backtracking(è·¯å¾„ï¼Œé€‰æ‹©åˆ—è¡¨); // é€’å½’ å›æº¯ï¼Œæ’¤é”€å¤„ç†ç»“æœ } } } class Solution { List> resp = new ArrayList<>(); Deque ans = new LinkedList<>(); public List> combine(int n, int k) { if (k (ans)); return; } for(int i=startIndex;i class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combine(int n, int k) { if (k (ans)); return; } for(int i=startIndex;i å‰ªæ”¯ æœç´¢èµ·ç‚¹çš„ä¸Šç•Œ + æ¥ä¸‹æ¥è¦é€‰æ‹©çš„å…ƒç´ ä¸ªæ•° - 1 = n æœç´¢èµ·ç‚¹çš„ä¸Šç•Œ = n - (k - path.size()) + 1 class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combine(int n, int k) { if(nn){ return resp; } backTracking(n,k,1); return resp; } public void backTracking(int n,int k,int startIndex){ if(ans.size() == k){ resp.add(new ArrayList<>(ans)); return; } for(int i=startIndex;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/216. ç»„åˆæ€»å’Œ III.html":{"url":"å›¾ä¸æœç´¢/216. ç»„åˆæ€»å’Œ III.html","title":"216. ç»„åˆæ€»å’Œ III(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 216. ç»„åˆæ€»å’Œ III è§£æ³•ä¸€ï¼šå›æº¯æ±‚å‡ºæ‰€æœ‰ç»„åˆï¼Œå¯¹ç»„åˆæ±‚å’Œæ ¡éªŒ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum3(int k, int n) { backTracking(k,n,1); return resp; } public void backTracking(int k,int n,int startIndex){ if(ans.size() == k){ int sum = ans.stream().mapToInt(o->o).sum(); if(sum == n){ resp.add(new ArrayList<>(ans)); return; } } for(int i=startIndex;i ä¼˜åŒ–ä¸Šé¢ä»£ç  class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum3(int k, int n) { backTracking(k,n,1,0); return resp; } public void backTracking(int k,int n,int startIndex,int sum){ if(ans.size() == k){ if(sum == n){ resp.add(new ArrayList<>(ans)); return; } } for(int i=startIndex;in){ break; } sum = sum + i; ans.add(i); backTracking(k,n,i+1,sum); ans.remove(ans.size()-1); sum = sum - i; } } } è§£æ³•äºŒï¼šä¼˜åŒ–å‰ªæ”¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum3(int k, int n) { backTracking(k,n,1); return resp; } public void backTracking(int k,int n,int startIndex){ if(ans.size() == k || n (ans)); } return; } for(int i=startIndex;in){ break; } ans.add(i); backTracking(k,n-i,i+1); ans.remove(ans.size()-1); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ.html":{"url":"å›¾ä¸æœç´¢/17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ.html","title":"17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ è§£æ³•ä¸€ï¼šå›æº¯ æ€è·¯ï¼š é¦–å…ˆä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ¯ä¸ªæ•°å­—å¯¹åº”çš„æ‰€æœ‰å¯èƒ½çš„å­—æ¯ï¼Œç„¶åè¿›è¡Œå›æº¯æ“ä½œã€‚ å›æº¯è¿‡ç¨‹ä¸­ç»´æŠ¤ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå·²æœ‰çš„å­—æ¯æ’åˆ—ï¼ˆå¦‚æœæœªéå†å®Œç”µè¯å·ç çš„æ‰€æœ‰æ•°å­—ï¼Œåˆ™å·²æœ‰çš„å­—æ¯æ’åˆ—æ˜¯ä¸å®Œæ•´çš„ï¼‰ã€‚è¯¥å­—ç¬¦ä¸²åˆå§‹ä¸ºç©ºã€‚æ¯æ¬¡å–ç”µè¯å·ç çš„ä¸€ä½æ•°å­—ï¼Œä»å“ˆå¸Œè¡¨ä¸­è·å¾—è¯¥æ•°å­—å¯¹åº”çš„æ‰€æœ‰å¯èƒ½çš„å­—æ¯ï¼Œå¹¶å°†å…¶ä¸­çš„ä¸€ä¸ªå­—æ¯æ’å…¥åˆ°å·²æœ‰çš„å­—æ¯æ’åˆ—åé¢ï¼Œç„¶åç»§ç»­å¤„ç†ç”µè¯å·ç çš„åä¸€ä½æ•°å­—ï¼Œç›´åˆ°å¤„ç†å®Œç”µè¯å·ç ä¸­çš„æ‰€æœ‰æ•°å­—ï¼Œå³å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„å­—æ¯æ’åˆ—ã€‚ç„¶åè¿›è¡Œå›é€€æ“ä½œï¼Œéå†å…¶ä½™çš„å­—æ¯æ’åˆ—ã€‚ å›æº¯ç®—æ³•ç”¨äºå¯»æ‰¾æ‰€æœ‰çš„å¯è¡Œè§£ï¼Œå¦‚æœå‘ç°ä¸€ä¸ªè§£ä¸å¯è¡Œï¼Œåˆ™ä¼šèˆå¼ƒä¸å¯è¡Œçš„è§£ã€‚åœ¨è¿™é“é¢˜ä¸­ï¼Œç”±äºæ¯ä¸ªæ•°å­—å¯¹åº”çš„æ¯ä¸ªå­—æ¯éƒ½å¯èƒ½è¿›å…¥å­—æ¯ç»„åˆï¼Œå› æ­¤ä¸å­˜åœ¨ä¸å¯è¡Œçš„è§£ï¼Œç›´æ¥ç©·ä¸¾æ‰€æœ‰çš„è§£å³å¯ã€‚ class Solution { List resp = new ArrayList<>(); StringBuilder sb = new StringBuilder(); HashMap map = new HashMap<>(); public List letterCombinations(String digits) { if (digits.length() == 0) { return resp; } map.put('0', \"\"); map.put('1', \"\"); map.put('2', \"abc\"); map.put('3', \"def\"); map.put('4', \"ghi\"); map.put('5', \"jkl\"); map.put('6', \"mno\"); map.put('7', \"pqrs\"); map.put('8', \"tuv\"); map.put('9', \"wxyz\"); backTracking(digits, 0); return resp; } public void backTracking(String digits, int index) { if (index == digits.length()) { resp.add(sb.toString()); return; } char temp = digits.charAt(index); String letter = map.get(temp); for (int i = 0; i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/39. ç»„åˆæ€»å’Œ.html":{"url":"å›¾ä¸æœç´¢/39. ç»„åˆæ€»å’Œ.html","title":"39. ç»„åˆæ€»å’Œ(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 39. ç»„åˆæ€»å’Œ è§£æ³•ä¸€ï¼šå›æº¯æ³• æŠ½è±¡ä¸ºæ ‘å‹ç»“æ„å¦‚ä¸‹ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum(int[] candidates, int target) { backTracking(candidates,target,0); return resp; } public void backTracking(int[] candidates,int target,int sum){ if(sum > target){ return; } if(sum == target){ List list = new ArrayList<>(ans); Collections.sort(list); if(!resp.contains(list)){ resp.add(list); } return; } for(int i=0;i ä¼˜åŒ–ä¸Šé¢ä»£ç ï¼ŒåŠ å…¥startIndex,ä»€ä¹ˆæ—¶å€™éœ€è¦åŠ startIndex? å¯¹å•ä¸ªé›†åˆæ±‚ç»„åˆçš„æ—¶å€™åŠ å…¥startIndex class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum(int[] candidates, int target) { backTracking(candidates,target,0,0); return resp; } public void backTracking(int[] candidates,int target,int sum,int startIndex){ if(sum > target){ return; } if(sum == target){ resp.add(new ArrayList<>(ans)); return; } for(int i=startIndex;i å‰ªæ”¯ä¼˜åŒ– å¯¹æ€»é›†åˆæ’åºä¹‹åï¼Œå¦‚æœä¸‹â¼€å±‚çš„sumï¼ˆå°±æ˜¯æœ¬å±‚çš„ sum + candidates[i]ï¼‰å·²ç»â¼¤äºtargetï¼Œå°±å¯ä»¥ ç»“æŸæœ¬è½®forå¾ªç¯çš„éå†ã€‚ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum(int[] candidates, int target) { Arrays.sort(candidates); backTracking(candidates,target,0,0); return resp; } public void backTracking(int[] candidates,int target,int sum,int startIndex){ if(sum > target){ return; } if(sum == target){ resp.add(new ArrayList<>(ans)); return; } for(int i=startIndex;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/40. ç»„åˆæ€»å’Œ II.html":{"url":"å›¾ä¸æœç´¢/40. ç»„åˆæ€»å’Œ II.html","title":"40. ç»„åˆæ€»å’Œ II(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 40. ç»„åˆæ€»å’Œ II è§£æ³•ä¸€ï¼šå›æº¯å»é‡ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum2(int[] candidates, int target) { backTracking(candidates,target,0,0); return resp; } public void backTracking(int[] candidates,int target,int sum,int startIndex){ if(sum > target){ return; } if(sum == target){ List temp = new ArrayList<>(ans); Collections.sort(temp); if(!resp.contains(temp)){ resp.add(temp); } return; } for(int i=startIndex;i ä¼˜åŒ–ä¸Šé¢ä»£ç ï¼Œæ’åºå»é‡ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> combinationSum2(int[] candidates, int target) { Arrays.sort(candidates); backTracking(candidates,target,0,0); return resp; } public void backTracking(int[] candidates,int target,int sum,int startIndex){ if(sum > target){ return; } if(sum == target){ resp.add(new ArrayList<>(ans)); return; } for(int i=startIndex;i startIndex && candidates[i] == candidates[i-1]) continue; sum = sum + candidates[i]; ans.add(candidates[i]); backTracking(candidates,target,sum,i+1); ans.remove(ans.size()-1); sum = sum - candidates[i]; } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/131. åˆ†å‰²å›æ–‡ä¸².html":{"url":"å›¾ä¸æœç´¢/131. åˆ†å‰²å›æ–‡ä¸².html","title":"131. åˆ†å‰²å›æ–‡ä¸²(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 131. åˆ†å‰²å›æ–‡ä¸² class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> partition(String s) { backTracking(s,0); return resp; } public void backTracking(String s,int startIndex){ if(startIndex >= s.length()){ resp.add(new ArrayList<>(ans)); return; } for(int i=startIndex;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/93. å¤åŸ IP åœ°å€.html":{"url":"å›¾ä¸æœç´¢/93. å¤åŸ IP åœ°å€.html","title":"93. å¤åŸ IP åœ°å€(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 93. å¤åŸ IP åœ°å€ è§£æ³•ä¸€ï¼šå›æº¯ class Solution { List resp = new ArrayList<>(); public List restoreIpAddresses(String s) { if(s.length() > 12 || s.length() end) { return false; } if (s.charAt(start) == '0' && start != end) { // 0å¼€å¤´çš„æ•°å­—ä¸åˆæ³• return false; } int num = 0; for (int i = start; i '9' || s.charAt(i) 255) { // å¦‚æœâ¼¤äº255äº†ä¸åˆæ³• return false; } } return true; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/78. å­é›†.html":{"url":"å›¾ä¸æœç´¢/78. å­é›†.html","title":"78. å­é›†(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ *[warning] 78. å­é›† è§£æ³•ä¸€ï¼š å›æº¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> subsets(int[] nums) { backTracking(nums,0); return resp; } public void backTracking(int[] nums,int startIndex){ resp.add(new ArrayList<>(ans)); if(startIndex >= nums.length){ return; } for(int i=startIndex;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/491. é€’å¢å­åºåˆ—.html":{"url":"å›¾ä¸æœç´¢/491. é€’å¢å­åºåˆ—.html","title":"491. é€’å¢å­åºåˆ—(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 491. é€’å¢å­åºåˆ— è§£æ³•ä¸€ï¼š å›æº¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> findSubsequences(int[] nums) { if(null == nums || nums.length == 0){ return resp; } backTracking(nums,0); return resp; } public void backTracking(int[] nums,int startIndex){ List temp = new ArrayList<>(ans); if(!resp.contains(temp) && temp.size() >1 && isValid(temp)){ resp.add(temp); } if(startIndex >= nums.length){ return; } for(int i=startIndex;i list){ for(int i=1;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/46. å…¨æ’åˆ—.html":{"url":"å›¾ä¸æœç´¢/46. å…¨æ’åˆ—.html","title":"46. å…¨æ’åˆ—(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 46. å…¨æ’åˆ— è§£æ³•ä¸€ï¼šå›æº¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> permute(int[] nums) { if(null == nums || nums.length == 0){ return resp; } backTracking(nums); return resp; } public void backTracking(int[] nums){ //ç»ˆæ­¢æ¡ä»¶ if(ans.size() == nums.length){ resp.add(new ArrayList<>(ans)); return; } //å¤„ç†æ•°æ® for(int i=0;i ä¼˜åŒ–ä¸Šé¢ä»£ç ï¼Œä½¿ç”¨ä¸€ä¸ªused æ•°ç»„æ¥ä¿å­˜è®¿é—®è¿‡çš„å…ƒç´ ï¼Œå›æº¯è®°å¾—æ ‡è®°ä¸ºfalse class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); boolean[] used; public List> permute(int[] nums) { if(null == nums || nums.length == 0){ return resp; } used = new boolean[nums.length]; backTracking(nums); return resp; } public void backTracking(int[] nums){ if(ans.size() == nums.length){ resp.add(new ArrayList<>(ans)); return; } for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/47. å…¨æ’åˆ— II.html":{"url":"å›¾ä¸æœç´¢/47. å…¨æ’åˆ— II.html","title":"47. å…¨æ’åˆ— II(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 47. å…¨æ’åˆ— II è§£æ³•ä¸€ï¼šå›æº¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> permuteUnique(int[] nums) { if(nums == null || nums.length == 0){ return resp; } boolean[] used = new boolean[nums.length]; backTracking(nums,used); return resp; } public void backTracking(int[] nums,boolean[] used){ if(ans.size() == nums.length && !resp.contains(ans)){ resp.add(new ArrayList<>(ans)); return; } for(int i=0;i ä¸Šè¿°ä»£ç ä¼˜åŒ– æ’åºåå»é‡ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> permuteUnique(int[] nums) { if(nums == null || nums.length == 0){ return resp; } Arrays.sort(nums); boolean[] used = new boolean[nums.length]; backTracking(nums,used); return resp; } public void backTracking(int[] nums,boolean[] used){ if(ans.size() == nums.length){ resp.add(new ArrayList<>(ans)); return; } for(int i=0;i 0 && nums[i] == nums[i - 1] && !used[i - 1])) { continue; } used[i] = true; ans.add(nums[i]); backTracking(nums,used); ans.remove(ans.size()-1); used[i] = false; } } } æˆ–è€… class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> permuteUnique(int[] nums) { if(nums == null || nums.length == 0){ return resp; } Arrays.sort(nums); boolean[] used = new boolean[nums.length]; backTracking(nums,used); return resp; } public void backTracking(int[] nums,boolean[] used){ if(ans.size() == nums.length){ resp.add(new ArrayList<>(ans)); return; } for(int i=0;i0 && nums[i] == nums[i-1] && used[i-1] == false)){ continue; } used[i] = true; ans.add(nums[i]); backTracking(nums,used); ans.remove(ans.size()-1); used[i] = false; } } } æ³¨æ„ï¼Œéœ€è¦å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºå¤„ç†ã€‚ æ’åºå»é‡ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/90. å­é›† II.html":{"url":"å›¾ä¸æœç´¢/90. å­é›† II.html","title":"90. å­é›† II(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ *[warning] 90. å­é›† II è§£æ³•ä¸€ï¼šå›æº¯ class Solution { List> resp = new ArrayList<>(); List ans = new ArrayList<>(); public List> subsetsWithDup(int[] nums) { Arrays.sort(nums); if(null == nums || nums.length == 0){ return resp; } boolean[] used = new boolean[nums.length]; backTracking(nums,0,used); return resp; } public void backTracking(int[] nums,int startIndex,boolean[] used){ resp.add(new ArrayList<>(ans)); if(startIndex >= nums.length){ return; } for(int i=startIndex;i0 && nums[i] == nums[i-1] && used[i-1] == false)){ continue; } used[i] = true; ans.add(nums[i]); backTracking(nums,i+1,used); ans.remove(ans.size()-1); used[i] = false; } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/332. é‡æ–°å®‰æ’è¡Œç¨‹.html":{"url":"å›¾ä¸æœç´¢/332. é‡æ–°å®‰æ’è¡Œç¨‹.html","title":"332. é‡æ–°å®‰æ’è¡Œç¨‹(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ *[warning] 332. é‡æ–°å®‰æ’è¡Œç¨‹ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å›¾ä¸æœç´¢/51. N çš‡å.html":{"url":"å›¾ä¸æœç´¢/51. N çš‡å.html","title":"51. N çš‡å(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 51. N çš‡å è§£æ³•ä¸€: class Solution { List> resp = new ArrayList<>(); public List> solveNQueens(int n) { char[][] chessboard = new char[n][n]; for(char[] c : chessboard){ Arrays.fill(c,'.'); } backTracking(n,chessboard,0); return resp; } public void backTracking(int n,char[][] chessboard,int row){ if(row == n){ List temp = new ArrayList<>(); for(char[] c: chessboard){ temp.add(String.valueOf(c)); } resp.add(temp); return; } for(int col=0;col=0&&j>=0;i--,j--){ if(chessboard[i][j] == 'Q'){ return false; } } for(int i=row-1,j=col+1;i>=0&&j Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/äºŒåˆ†æŸ¥æ‰¾.html":{"url":"ç®€ä»‹/äºŒåˆ†æŸ¥æ‰¾.html","title":"äºŒåˆ†æŸ¥æ‰¾","keywords":"","body":"äºŒåˆ†æŸ¥æ‰¾ äºŒåˆ†æŸ¥æ‰¾çš„åˆ·é¢˜é¡ºåº é¢˜ç›®åˆ†ç±» é¢˜ç›®ç¼–å· äºŒåˆ†æŸ¥æ‰¾åº”ç”¨(ç®€å•) 374ã€35ã€278ã€367ã€69ã€441 äºŒåˆ†æŸ¥æ‰¾åº”ç”¨(ä¸­ç­‰) 34ã€540ã€275ã€436ã€300ã€354ã€658ã€162ã€4 äºŒåˆ†æŸ¥æ‰¾ä¸æ—‹è½¬æ•°ç»„ 153ã€154ã€33ã€81 äºŒåˆ†æŸ¥æ‰¾ä¸çŸ©é˜µ 74ã€240 äºŒåˆ†ç­”æ¡ˆæ³• 378ã€668ã€410ã€483 äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜æ˜¯ã€ŒåŠ›æ‰£ã€ç¬¬ 704 é¢˜ï¼šäºŒåˆ†æŸ¥æ‰¾ã€‚ class Solution { public int search(int[] nums, int target) { int len = nums.length; int left = 0; int right = len - 1; // åœ¨ [left..right] é‡ŒæŸ¥æ‰¾ target while (left target) { // ä¸‹ä¸€è½®æœç´¢åŒºé—´ï¼š[left..mid - 1] right = mid - 1; } else { // æ­¤æ—¶ï¼šnums[mid] è¯´æ˜ï¼š äºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯æ˜¯ï¼šæ ¹æ®å¾…æœç´¢åŒºé—´é‡Œçš„ä¸­é—´å…ƒç´  nums[mid] ä¸ target çš„å€¼çš„å¤§å°å…³ç³»ï¼Œåˆ¤æ–­ä¸‹ä¸€è½®æœç´¢éœ€è¦åœ¨å“ªä¸ªåŒºé—´é‡ŒæŸ¥æ‰¾ï¼Œè¿›è€Œè®¾ç½® left å’Œ right çš„å€¼ã€‚åˆ†ä¸ºå¦‚ä¸‹ä¸‰ç§æƒ…å†µï¼š å¦‚æœ nums[mid] == targetï¼Œè¿æ°”å¾ˆå¥½ï¼Œæ‰¾åˆ°äº†ç›®æ ‡å…ƒç´ ï¼Œè¿”å› mid ï¼› å¦‚æœ nums[mid] > targetï¼Œè¯´æ˜ mid ä»¥åŠ mid çš„ å³è¾¹ çš„æ‰€æœ‰å…ƒç´ ä¸€å®šéƒ½æ¯” target å¤§ï¼Œä¸‹ä¸€è½®æœç´¢éœ€è¦åœ¨åŒºé—´ [left..mid - 1] é‡ŒæŸ¥æ‰¾ï¼Œæ­¤æ—¶è®¾ç½® right = mid - 1ï¼› å¦‚æœ nums[mid] 2. äºŒåˆ†æŸ¥æ‰¾çš„é—®é¢˜å˜ç§ æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  æŸ¥æ‰¾æœ€åä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´  æŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´  æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  å½“æŸ¥åˆ°åˆ°çš„æ—¶å€™ï¼Œåˆ¤æ–­å·¦è¾¹å…ƒç´ æ˜¯å¦ç­‰äºç»™å®šå€¼ï¼Œå¦‚æœä¸ç­‰äºï¼Œå½“å‰å€¼å°±æ˜¯æŸ¥æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªå€¼ï¼ŒåŒæ—¶åˆ¤æ–­middleæ˜¯å¦ç­‰äº0ï¼Œå¦‚æœç­‰äºç¬¬ä¸€ä¸ªï¼Œç›´æ¥è¿”å› class Solution{ public int findFirst(int[] nums,int target){ int low = 0; int high = nums.length-1; while(low> 1); if(nums[middle] > target){ high = middle-1; } else if(nums[middle] æŸ¥æ‰¾æœ€åä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  å½“æŸ¥åˆ°åˆ°çš„æ—¶å€™ï¼Œåˆ¤æ–­å³è¾¹å…ƒç´ æ˜¯å¦ç­‰äºç»™å®šå€¼ï¼Œå¦‚æœä¸ç­‰äºï¼Œå½“å‰å€¼å°±æ˜¯æŸ¥æ‰¾åˆ°çš„æœ€åä¸€ä¸ªå€¼ï¼ŒåŒæ—¶åˆ¤æ–­middleæ˜¯å¦ç­‰äºnums.length-1ï¼Œå¦‚æœç­‰äºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œç›´æ¥è¿”å› class Solution{ public int findLast(int[] nums,int target){ int low = 0; int high = nums.length-1; while(low target){ high = middle-1; } else if(nums[middle] æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºç»™å®šå€¼çš„å…ƒç´  class Solution{ public int bsearch(int[] a, int n, int value) { int low = 0; int high = n - 1; while (low > 1); if (a[mid] >= value) { if ((mid == 0) || (a[mid - 1] æŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´  class Solution{ public int bsearch7(int[] a, int n, int value) { int low = 0; int high = n - 1; while (low > 1); if (a[mid] > value) { high = mid - 1; } else { if ((mid == n - 1) || (a[mid + 1] > value)) return mid; else low = mid + 1; } } return -1; } } è¿™æ ·çš„é—®é¢˜æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼šå½“çœ‹åˆ°äº† nums[mid] æ°å¥½ç­‰äº target çš„æ—¶å€™ï¼Œè¿˜å¾—ç»§ç»­æŸ¥æ‰¾ï¼Œç»§ç»­çœ‹çœ‹å·¦è¾¹çš„å…ƒç´ çš„å€¼ï¼Œæˆ–è€…ç»§ç»­çœ‹çœ‹å³è¾¹å…ƒç´ çš„å€¼ã€‚å¦‚æœä¸å°å¿ƒï¼Œå¾ˆå¯èƒ½é€»è¾‘å†™é”™ã€‚å¦‚æœè¿˜ç”¨ã€Œ1. äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬é—®é¢˜ã€ä»‹ç»çš„æ–¹å¼ç¼–å†™ä»£ç ï¼Œå°±æ²¡æœ‰é‚£ä¹ˆå®¹æ˜“ï¼š while é‡Œé¢çš„ if ã€else è¯¥æ€ä¹ˆå†™ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå›ºå®šçš„æ€è·¯ï¼Ÿ é€€å‡ºå¾ªç¯ä»¥åï¼Œright åœ¨å·¦ï¼Œleft åœ¨å³ï¼Œè¿”å› left è¿˜æ˜¯ right éœ€è¦åˆ†ç±»è®¨è®ºã€‚ æœ¬é¢˜è§£è¦ä»‹ç»çš„ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€çš„æ€æƒ³å…¶å®ä¸æ˜¯ä»€ä¹ˆæ–°é²œçš„äº‹å„¿ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå®ƒåƒæäº†ã€ŒåŒæŒ‡é’ˆã€ç®—æ³•ï¼Œleft å’Œ right å‘ä¸­é—´èµ°ï¼Œç›´åˆ°å®ƒä»¬é‡åˆåœ¨ä¸€èµ·ã€‚ è¿™ç§äºŒåˆ†æŸ¥æ‰¾çš„æ€è€ƒè·¯å¾„ï¼Œä¸æ˜¯æˆ‘å‘æ˜çš„ï¼ˆã€Œå‚è€ƒèµ„æ–™ã€åœ¨é¢˜è§£æœ€åï¼‰ã€‚æˆ‘ä¸€å¼€å§‹çœ‹åˆ°è¿™ç§å†™æ³•ä¹Ÿè§‰å¾—å¾ˆæƒŠè®¶ï¼Œä¹Ÿæä¸æ˜ç™½åˆ°åº•æ€ä¹ˆå›äº‹ï¼Œä½†æ˜¯æˆ‘çœ‹åˆ°çš„è§£é‡Šå°±åªæœ‰ã€Œè¿™æ˜¯æ¨¡æ¿ã€ï¼Œä½†æ²¡æœ‰çœ‹åˆ°ä¸ºä»€ä¹ˆæœ‰è¿™ä¸ªæ¨¡æ¿ã€‚å› æ­¤æˆ‘ å°è¯•å»äº†è§£å®ƒï¼Œå¹¶ä½¿ç”¨å®ƒï¼Œç„¶åæ•´ç†æˆè¿™ç¯‡é¢˜è§£ã€‚ç”¨è¿™ç§äºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯ï¼Œå¯ä»¥è§£å†³ã€ŒåŠ›æ‰£ã€ä¸Š æ‰€æœ‰çš„ ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€é—®é¢˜ã€‚ 3. æŠŠå¾…æœç´¢åŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼ˆé‡ç‚¹ã€æœ€é‡è¦çš„éƒ¨åˆ†åœ¨è¿™é‡Œï¼‰ æ ¹æ®çœ‹åˆ°çš„ä¸­é—´ä½ç½®çš„å…ƒç´ çš„å€¼ nums[mid] å¯ä»¥æŠŠå¾…æœç´¢åŒºé—´åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š ä¸€å®šä¸å­˜åœ¨ ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼šä¸‹ä¸€è½®æœç´¢çš„æ—¶å€™ï¼Œä¸ç”¨è€ƒè™‘å®ƒï¼› å¯èƒ½å­˜åœ¨ ç›®æ ‡å…ƒç´ çš„åŒºé—´ï¼šä¸‹ä¸€è½®æœç´¢çš„æ—¶å€™ï¼Œéœ€è¦è€ƒè™‘å®ƒã€‚ ç”±äº mid åªå¯èƒ½è¢«åˆ†åˆ°è¿™ä¸¤ä¸ªåŒºé—´çš„å…¶ä¸­ä¸€ä¸ªï¼Œå³ï¼šwhile é‡Œé¢çš„ if å’Œ else å°±ä¸¤ç§å†™æ³•ï¼š å¦‚æœ mid åˆ†åˆ°å·¦è¾¹åŒºé—´ï¼Œå³åŒºé—´åˆ†æˆ [left..mid] ä¸ [mid + 1..right]ï¼Œæ­¤æ—¶åˆ†åˆ«è®¾ç½® right = mid ä¸ left = mid + 1ï¼› å¦‚æœ mid åˆ†åˆ°å³è¾¹åŒºé—´ï¼Œå³åŒºé—´åˆ†æˆ [left..mid - 1] ä¸ [mid..right]ï¼Œæ­¤æ—¶åˆ†åˆ«è®¾ç½® right = mid - 1 ä¸ left = midã€‚ å¹¶ä¸”æŠŠ å¾ªç¯å¯ä»¥ç»§ç»­çš„æ¡ä»¶ å†™æˆ while (left è¿™é‡Œä»‹ç»ä¸€ä¸ª ã€Œé‡è¦çš„ç»éªŒã€ï¼š åœ¨ å†™ if è¯­å¥çš„æ—¶å€™ï¼Œé€šå¸¸æŠŠå®¹æ˜“æƒ³åˆ°çš„ï¼Œä¸å®¹æ˜“å‡ºé”™çš„é€»è¾‘å†™åœ¨ if çš„é‡Œé¢ï¼Œè¿™æ ·å°±æŠŠå¤æ‚çš„ã€å®¹æ˜“å‡ºé”™çš„æƒ…å†µæ”¾åœ¨äº† else çš„éƒ¨åˆ†ï¼Œè¿™æ ·ç¼–å†™ä»£ç ä¸å®¹æ˜“å‡ºé”™ã€‚ ä»€ä¹ˆæƒ…å†µæ˜¯å®¹æ˜“æƒ³åˆ°çš„ï¼Œä¸å®¹æ˜“å‡ºé”™çš„å‘¢ï¼Ÿæˆ‘çš„ç»éªŒæ˜¯ï¼šé¢˜ç›®è¦æˆ‘ä»¬æ‰¾ç¬¦åˆæ¡ä»¶ a çš„å…ƒç´ ï¼Œæˆ‘ä»¬å°±å¯¹æ¡ä»¶ a å–åé¢ï¼Œè¿™æ ·åˆ†æä¸å®¹æ˜“å‡ºé”™ã€‚ ä¾‹å¦‚æœ¬é¢˜ï¼ˆã€ŒåŠ›æ‰£ã€ç¬¬ 35 é¢˜ï¼‰ï¼Œé¢˜ç›®è¦æˆ‘ä»¬æ‰¾å‡ºç¬¬ä¸€ä¸ªå¤§äºç­‰äº target çš„å…ƒç´ çš„ä¸‹æ ‡ï¼Œé‚£ä¹ˆå°äº target çš„å…ƒç´ å°±ä¸€å®šä¸æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ã€‚å› æ­¤ if è¯­å¥å°±æ˜¯ if (nums[mid] å‰©ä¸‹çš„æƒ…å†µæ”¾åœ¨ else ä¸­ï¼Œæˆ‘ä»¬ ç”šè‡³å¯ä»¥ä¸ç”¨åˆ†æ else æ˜¯ä»€ä¹ˆæƒ…å†µã€‚if çš„åŒºé—´æ˜¯ [mid + 1..right]ï¼Œå®ƒçš„åé¢åŒºé—´å°±æ˜¯ [left..mid]ï¼Œæ­¤æ—¶ else å°±åº”è¯¥è®¾ç½® right = midã€‚ å› æ­¤å®Œæ•´çš„é€»è¾‘å°±æ˜¯ï¼š if (nums[mid] ä¸Šé¢çš„å™è¿°ï¼Œæ€»ç»“èµ·æ¥å°±ä¸€å¥è¯ï¼šæˆ‘ä»¬ æ€»æ˜¯åœ¨åŒºé—´ [left..right] é‡ŒæŸ¥æ‰¾å…ƒç´ ç›®æ ‡ã€‚ æ³¨æ„ï¼šæˆ‘ä»¬è¯´çš„æ˜¯ å·¦é—­å³é—­åŒºé—´ã€‚ä¸ºä»€ä¹ˆä¸æ˜¯ã€Œå·¦é—­å³å¼€ã€å‘¢ï¼Ÿã€Œå·¦é—­å³å¼€ã€å½“ç„¶å¯ä»¥ï¼Œä½†æ˜¯æˆ‘ä»¬ ä¸æƒ³æŠŠç²¾åŠ›èŠ±åœ¨æ€è€ƒã€Œå³è¾¹ç•Œæ˜¯ä¸æ˜¯å¯ä»¥å–åˆ°ã€è¿™ä»¶äº‹æƒ…ä¸Šï¼Œè¿™æ˜¯å› ä¸º ä»»æ„ä¸€ä¸ªã€Œå·¦é—­å³å¼€ [left..right) ã€åŒºé—´ä¸€å®šå”¯ä¸€å¯¹åº”ä¸€ä¸ªã€Œå·¦é—­å³é—­ [left..right - 1]ã€åŒºé—´ï¼Œæ‰€ä»¥åˆ°åº•æ˜¯å¼€åŒºé—´è¿˜æ˜¯é—­åŒºé—´ï¼Œå‰åä¿æŒä¸€è‡´å°±å¯ä»¥ã€‚ æ ¹æ® mid ä½ç½®æ˜¯ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œè¿›è€Œåˆ¤æ–­ mid çš„å·¦è¾¹æ˜¯å¦å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œmid çš„å³è¾¹æ˜¯å¦å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼ŒåªæŠŠæœç´¢åŒºé—´åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œç„¶åè®¾ç½® left å’Œ rightï¼Œåœ¨è®¾ç½® left å’Œ right çš„æ—¶å€™ï¼Œå·¦é—­å³é—­åŒºé—´çš„å½¢å¼æ˜¯æœ€ç›´è§‚çš„ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœæ˜¯å¼€åŒºé—´ï¼Œè¿˜éœ€è¦åœ¨è„‘å­é‡Œååº”ä¸€ä¸‹ï¼Œå³ç«¯ç‚¹ä¸åŒ…æ‹¬ã€‚å¦‚æœæˆ‘ä»¬è§‰å¾—äºŒåˆ†é—®é¢˜å¤æ‚ï¼Œå¤æ‚é—®é¢˜åº”è¯¥ç®€å•åš æˆ‘ä»¬å†è¯´è¯´æŠŠåŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†çš„å¥½å¤„ï¼š åœ¨ä»£ç å±‚é¢ï¼Œåªå¯èƒ½æœ‰ä»¥ä¸‹ä¸¤ç§æƒ…å†µï¼š while(left while(left åªæœ‰åœ¨è¿™ä¸¤ç§æŠŠåŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†çš„åˆ’åˆ†ä¸‹ï¼Œé€€å‡ºå¾ªç¯ä»¥åæœ‰ left == right æˆç«‹ï¼Œæˆ‘ä»¬ä¸ç”¨å»è®¨è®ºè¿”å› left è¿˜æ˜¯ rightï¼ˆè¿™å¥è¯éå¸¸é‡è¦ï¼Œå¤§å®¶å¯ä»¥åœ¨åšé¢˜çš„è¿‡ç¨‹ä¸­æ…¢æ…¢ä½“ä¼šï¼‰ è¡¥å……è¯´æ˜ï¼šæœ‰çš„æœ‹å‹è§‰å¾—æŠŠåŒºé—´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†æ›´æ¸…æ™°ï¼Œä½†æ˜¯ä¸€æ—¦åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œæœ‰ mid + 1ã€mid - 1 å‡ºç°ï¼Œé€€å‡ºå¾ªç¯ä»¥åå°±ä¸ä¸€å®šæœ‰ left å’Œ right é‡åˆã€‚æˆ‘ä»¬å®Œå…¨å¯ä»¥è¿™æ ·åšï¼Œåˆ†ç±»è®¨è®ºçš„æ—¶å€™åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼Œç„¶åæŠŠå®ƒä»¬çš„é€»è¾‘åˆå¹¶èµ·æ¥ã€‚ åœ¨æˆ‘ä»¬çš„è®²è§£ä¸­ while(left è‡³äºä¸ºä»€ä¹ˆæ˜¯ left = mid + 1 ã€ right = mid æ­é…ä½¿ç”¨ï¼Œè€Œ left = mid ã€ right = mid - 1 æ­é…ä½¿ç”¨ï¼Œè¿™ä¸€ç‚¹å®Œå…¨ä¸ç”¨è®°å¿†ï¼Œæˆ‘ä»¬ç”»å›¾è¯´æ˜ã€‚ å› æ­¤æˆ‘ä»¬å†æ¬¡å’Œå¤§å®¶å¼ºè°ƒï¼šæ°¸è¿œå»æ€è€ƒä¸‹ä¸€è½®æœç´¢åº”è¯¥åœ¨å“ªä¸ªåŒºé—´é‡Œï¼Œå°±èƒ½è€ƒè™‘æ¸…æ¥šåˆ°åº•ä¸‹ä¸€è½®æ›´æ–°çš„æ˜¯ left è¿˜æ˜¯ right ï¼Œåˆ°åº•åŠ ä¸åŠ  1ï¼Œåˆ°åº•å‡ä¸å‡ 1ã€‚ 4. ä¾‹é¢˜è®²è§£ï¼šã€ŒåŠ›æ‰£ã€ç¬¬ 35 é¢˜ï¼šæœç´¢æ’å…¥ä½ç½® æ€è·¯åˆ†æï¼š æ ¹æ®ç¤ºä¾‹ 3ï¼š è¾“å…¥: [1, 3, 5, 6], 7 è¾“å‡º: 4 å¦‚æœç›®æ ‡å…ƒç´ å¤§äºè¾“å…¥æ•°ç»„ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹æ ‡ + 1ã€‚ æ ¹æ®ç¤ºä¾‹ 2 è¾“å…¥: [1,3,5,6], 2 è¾“å‡º: 1 éœ€è¦è¿”å›ç¬¬ 1 ä¸ª å¤§äºç­‰äºï¼ˆç­‰äºçš„æƒ…å†µå¯ä»¥çœ‹ç¤ºä¾‹ 1ï¼Œè¿™é‡Œçœç•¥ï¼‰ ç›®æ ‡å…ƒç´  2 çš„ä¸‹æ ‡ï¼Œå› æ­¤è¾“å‡º 1ã€‚å› æ­¤ å¦‚æœå½“å‰ mid çœ‹åˆ°çš„æ•°å€¼ä¸¥æ ¼å°äº targetï¼Œé‚£ä¹ˆ mid ä»¥åŠ mid å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ å°±ä¸€å®šä¸æ˜¯é¢˜ç›®è¦æ±‚çš„è¾“å‡ºï¼Œå°±æ ¹æ®è¿™ä¸€ç‚¹å¯ä»¥å†™å‡ºæœ¬é¢˜äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å®Œæ•´é€»è¾‘ã€‚ public class Solution { public int searchInsert(int[] nums, int target) { int len = nums.length; // ç‰¹æ®Šåˆ¤æ–­ if (nums[len - 1] å€¼å¾—ä¸€æçš„æ˜¯ï¼šç”±äºæ‰§è¡Œåˆ°æœ€å nums[left..right] é‡Œä¸€å®šå­˜åœ¨æ’å…¥å…ƒç´ çš„ä½ç½®ï¼Œå¹¶ä¸”é€€å‡ºå¾ªç¯çš„æ—¶å€™ä¸€å®šæœ‰ left == right æˆç«‹ï¼Œå› æ­¤ç›´æ¥è¿”å› left æˆ–è€… right å‡å¯ã€‚ è¿™æ ·çš„æ€è·¯è¿˜å¯ä»¥å®Œæˆç¬¬ 704 é¢˜ã€‚ class Solution { public int search(int[] nums, int target) { int len = nums.length; int left = 0; int right = len - 1; // åœ¨ nums[left..right] é‡ŒæŸ¥æ‰¾ target while (left é€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®š nums[left] æ˜¯å¦ç­‰äº targetï¼Œå› æ­¤è¿˜éœ€è¦å•ç‹¬åšä¸€æ¬¡åˆ¤æ–­ï¼› ã€Œé€‰é¡¹å¡äºŒã€æˆ‘ä»¬è¿˜ç»™å‡ºäº†ä¸€ç‰ˆä»£ç ï¼Œå…·ä½“ç»†èŠ‚å¤§å®¶å¯ä»¥åœ¨é˜…è¯»å®Œæœ¬é¢˜è§£ä»¥åå†æ¥ç†è§£å®ƒã€‚ 5. ä¸¤ç§å†™æ³•å¯¹æ¯” å†™æ³• 1ï¼š while(left ç¨‹åºå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹è¾“å…¥æ•°ç»„ä¸€æ— æ‰€çŸ¥ã€‚ æˆ‘ä»¬é€‰æ‹© nums[mid] çš„å€¼çœ‹ä¸€ä¸‹ã€‚ å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ çš„å€¼ç­‰äºç›®æ ‡å…ƒç´ å°±ç›´æ¥è¿”å›ã€‚å¦‚æœä¸­é—´ä½ç½®çš„å…ƒç´ ä¸æ˜¯ç›®æ ‡å…ƒç´ ï¼Œå¯ä»¥æ ¹æ®ä¸­é—´ä½ç½®å…ƒç´ çš„å€¼å†³å®šåœ¨ä¸­é—´ä½ç½®çš„å·¦è¾¹è¿˜æ˜¯å³è¾¹ç»§ç»­æŸ¥æ‰¾ã€‚è¿™ç§æŸ¥æ‰¾æ–¹å¼æŠŠå¾…æœç´¢åŒºé—´åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå·¦ã€ä¸­ã€å³ã€‚ é‡è¦ç»éªŒï¼šå¦‚æœæˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ æ€§è´¨éå¸¸æ˜ç¡®ã€å¹¶ä¸”ç®€å•ï¼Œé€šå¸¸è¿™æ ·å†™å°±å¯ä»¥ã€‚ä¾‹å¦‚ã€ŒåŠ›æ‰£ã€ç¬¬ 704 é¢˜ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ï¼Œç¬¬ 633 é¢˜ï¼ˆå¹³æ–¹æ•°ä¹‹å’Œï¼‰ã€‚ å†™æ³• 2ï¼šwhile(left è¿™ç§æ€è·¯å¯ä»¥å¾ˆå½¢è±¡åœ°ç†è§£ä¸ºã€Œä¸¤è¾¹å¤¹ã€ï¼Œåœ¨è§£å†³å¤æ‚é—®é¢˜çš„æ—¶å€™ï¼Œä¼šä½¿å¾—æ€è€ƒçš„è¿‡ç¨‹å˜å¾—ç®€å•ã€‚ ç¨‹åºå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯¹è¾“å…¥æ•°ç»„ä¸€æ— æ‰€çŸ¥ã€‚ æˆ‘ä»¬é€‰æ‹© nums[mid] çš„å€¼çœ‹ä¸€ä¸‹ã€‚ ç„¶åæˆ‘ä»¬åªåˆ†æï¼šåœ¨ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œç›®æ ‡å…ƒç´ ä½äºå“ªä¸ªåŒºé—´é‡Œï¼ŒæŠŠåŒºé—´åˆ†æˆã€Œä¸€å®šä¸å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ã€å’Œã€Œå¯èƒ½å­˜åœ¨ç›®æ ‡å…ƒç´ çš„åŒºé—´ã€ã€‚è€Œ mid åªå¯èƒ½ä½äºè¿™ä¸¤ä¸ªåŒºé—´çš„å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥åˆ†ä¸ºä¸‹é¢ 4 ç§æƒ…å†µã€‚ è™½ç„¶çœ‹èµ·æ¥æ¯”è¾ƒå¤šï¼Œä½†æ˜¯å½’ç»“èµ·æ¥å°± 2 ç§æƒ…å†µï¼šmid åœ¨å·¦è¾¹åŒºé—´å’Œ mid åœ¨å³è¾¹åŒºé—´ã€‚å³ï¼šæ ¹æ® mid çš„å€¼ï¼Œå¯ä»¥åˆ¤æ–­ nums[mid] æ˜¯ã€Œä¸€å®šä¸æ˜¯ç›®æ ‡å…ƒç´ ã€è¿˜æ˜¯ã€Œæœ‰å¯èƒ½æ˜¯ç›®æ ‡å…ƒç´ ã€ï¼Œè¿›è€Œåˆ¤æ–­ mid çš„å·¦å³ä¸¤è¾¹çš„åŒºé—´çš„æ€§è´¨ã€‚ é‡è¦ç»éªŒï¼š å¦‚æœæˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ çš„æ€§è´¨æ¯”è¾ƒå¤æ‚ï¼šä¾‹å¦‚éœ€è¦æ»¡è¶³ã€Œæ¡ä»¶ 1ã€å¹¶ä¸”ã€Œæ¡ä»¶ 2ã€ã€‚æˆ‘ä»¬åœ¨ç¼–å†™ if è¯­å¥çš„æ—¶å€™ï¼Œå°±å¯ä»¥æŠŠå…¶ä¸­ä¸€ä¸ªæ¡ä»¶å–åï¼Œå°±å¯ä»¥è¾¾åˆ°ç¼©å‡æœç´¢åŒºé—´çš„ç›®çš„ã€‚ è¿™ä¸€ç‚¹ä¹Ÿä¸éš¾æƒ³æ˜ç™½ï¼Œã€Œæ¡ä»¶ 1ã€å¹¶ä¸”ã€Œæ¡ä»¶ 2ã€çš„åé¢å°±æ˜¯ã€Œå–åæ¡ä»¶ 1ã€æˆ–è€…ã€Œå–åæ¡ä»¶ 2ã€ã€‚å†ä¸¾ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ï¼šä¾‹å¦‚æˆ‘ä»¬è¦æ‰¾ä¸€ä¸ªæ•° xxï¼Œéœ€è¦æ»¡è¶³ 4 \\le x \\le 94â‰¤xâ‰¤9ï¼Œå³ x \\ge 4xâ‰¥4 å¹¶ä¸” x \\le 9xâ‰¤9ã€‚å¦‚æœæˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæ•°å°äº 44ï¼Œæˆ‘ä»¬å°±çŸ¥é“æ­¤æ—¶éœ€è¦åœ¨å½“å‰ä½ç½®çš„å³è¾¹ç»§ç»­æŸ¥æ‰¾ï¼Œå¯ä»¥å¾—åˆ°ç¼©å‡é—®é¢˜åŒºé—´çš„ç›®çš„ã€‚ ã€ŒåŠ›æ‰£ã€ç¬¬ 4 é¢˜ï¼ˆå¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°ï¼‰çš„ è§†é¢‘é¢˜è§£ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»äº†ç”¨è¿™ç§æ€è·¯åˆ†æé—®é¢˜çš„æ–¹æ³•ï¼Œå¹¶ç»™å‡ºäº† 2 ç‰ˆç­‰ä»·çš„ä»£ç ã€‚ 6. ä¸€äº›ç»†èŠ‚ï¼ˆä»¥é—®ç­”å½¢å¼å‘ˆç°ï¼‰ ç»†èŠ‚ä¸€ï¼šä¸ºä»€ä¹ˆæœ‰äº›æ—¶å€™å– mid çš„æ—¶å€™éœ€è¦ä¸Šå–æ•´ï¼Ÿ å›ç­”ï¼šæ˜¯å¦éœ€è¦ä¸Šå–æ•´ï¼Œåªå’ŒåŒºé—´åˆ’åˆ†çš„é€»è¾‘æœ‰å…³ã€‚å¦‚æœä¸è°ƒæ•´ï¼Œä¼šå‡ºç°æ­»å¾ªç¯ã€‚ åˆæ¬¡æ¥è§¦çš„æ—¶å€™ï¼Œå¾ˆå¤šæœ‹å‹è§‰å¾—è¿™ä»¶äº‹æƒ…éå¸¸éš¾ä»¥ç†è§£ï¼Œæˆ‘ä»¬çš„å»ºè®®æ˜¯ï¼šä¸€æ—¦é‡åˆ°æ­»å¾ªç¯ï¼Œå¯ä»¥åœ¨ç¨‹åºä¸­è¾“å‡º leftã€right å’Œ mid çš„å€¼çœ‹ä¸€ä¸‹å°±å¾ˆæ¸…æ¥šäº†ã€‚ã€ŒåŠ›æ‰£ã€ç¬¬ 69 é¢˜ï¼šx çš„å¹³æ–¹æ ¹ çš„ é¢˜è§£ ï¼Œæˆ‘ä»¬æ¼”ç¤ºäº†å¦‚ä½•æ‰“å°å˜é‡ã€è§‚å¯Ÿåˆ°æ­»å¾ªç¯ã€‚ ç»“è®ºï¼šå½“åŒºé—´åªå‰©ä¸‹ä¸¤ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œleft = mid å’Œ right = mid - 1 è¿™ç§åˆ’åˆ†æ–¹å¼ï¼Œå¦‚æœ mid ä½¿ç”¨é»˜è®¤ä¸‹å–æ•´çš„æ–¹å¼ï¼Œåœ¨æ•°å€¼ä¸Š left = midï¼Œè€Œå®ƒå¯¹åº”çš„å…¶ä¸­ä¸€ä¸ªåŒºé—´æ˜¯ [mid..right]ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸‹ä¸€è½®æœç´¢åŒºé—´è¿˜æ˜¯ [left..right]ï¼Œæœç´¢åŒºé—´æ²¡æœ‰å‡å°‘ï¼Œä¼šè¿›å…¥æ­»å¾ªç¯ã€‚ æç¤ºï¼šã€Œçœ‹åˆ°è¾¹ç•Œè®¾ç½®çš„ä»£ç æ˜¯ left = mid æ—¶ï¼Œéœ€è¦æŠŠ mid çš„å–æ³•è°ƒæ•´ä¸ºä¸Šå–æ•´ï¼Œä»¥é¿å…æ­»å¾ªç¯ã€ï¼Œè¿™ä»¶äº‹æƒ…ä¹Ÿå®Œå…¨ä¸ç”¨è®°å¿†ï¼Œé¢˜ç›®åšå¾—å¤šäº†ï¼Œè‡ªç„¶è€Œç„¶å°±è®°ä½äº†ã€‚è¿˜æ˜¯æˆ‘ä»¬åœ¨é¢˜è§£ä¸­å’Œå¤§å®¶å¤šæ¬¡å¼ºè°ƒçš„ä¸€ä»¶äº‹æƒ…ï¼šé‡åˆ°ä»£ç å‡ºé”™çš„æ—¶å€™ï¼Œä¸€å®šè¦è€å¿ƒè°ƒè¯•ï¼ŒæŠŠå˜é‡æ‰“å°å‡ºæ¥çœ‹ä¸€ä¸‹ï¼Œæ˜¯æœ€å¥½çš„å­¦ä¹ çš„æ–¹æ³•ã€‚ ç»†èŠ‚äºŒï¼šæœ‰äº›å­¦ä¹ èµ„æ–™ä¸Šè¯´ while (left å›ç­”ï¼šåŒºé—´çš„å³ç«¯ç‚¹åˆ°åº•æ˜¯å¼€è¿˜æ˜¯é—­ï¼Œå®Œå…¨ç”±ç¼–å†™ä»£ç çš„äººå†³å®šï¼Œä¸éœ€è¦å›ºå®šã€‚åªè¦ç¼–ç çš„äººé€»è¾‘å‰åä¸€è‡´ï¼Œå¹¶ä¸”ä¿æŒä¸å˜ï¼ˆè¿™ä»¶äº‹æƒ…å«éµå®ˆã€Œå¾ªç¯ä¸å˜é‡ã€ï¼‰ï¼Œå°±æ˜¯æ­£ç¡®çš„ã€‚ æˆ‘ä»¬é€šç¯‡è®²çš„éƒ½æ˜¯ å·¦é—­å³é—­ åŒºé—´ï¼Œç†ç”±æ˜¯è¿™æ ·å®šä¹‰æ›´ç›´æ¥ã€‚ ç»†èŠ‚ä¸‰ï¼šæœ‰äº›å­¦ä¹ èµ„æ–™ç»™å‡ºäº†ä¸‰ç§æ¨¡æ¿ï¼Œä¾‹å¦‚ã€ŒåŠ›æ‰£ã€æ¨å‡ºçš„ LeetBook ä¹‹ ã€ŒäºŒåˆ†æŸ¥æ‰¾ä¸“é¢˜ã€ï¼Œåº”è¯¥å¦‚ä½•çœ‹å¾…å®ƒä»¬ï¼Ÿ å›ç­”ï¼šæˆ‘åœ¨å­¦ä¹ çš„æ—¶å€™ï¼ŒLeetBook ä¹Ÿæ˜¯æˆ‘é‡è¦çš„å­¦ä¹ ææ–™ä¹‹ä¸€ã€‚ä¸‰ç§æ¨¡æ¿å…¶å®åŒºåˆ«ä»…åœ¨äºé€€å‡ºå¾ªç¯çš„æ—¶å€™ï¼ŒåŒºé—´ [left..right] é‡Œæœ‰å‡ ä¸ªæ•°ã€‚ while (left while (left while (left + 1 æˆ‘å¸¸ç”¨å¤´ä¸¤ä¸ªï¼Œç¬¬ä¸€ä¸ªåœ¨ç®€å•é—®é¢˜ä¸­ç”¨ï¼Œç¬¬äºŒä¸ªåœ¨å¤æ‚é—®é¢˜ä¸­ç”¨ã€‚åœ¨é¢˜è§£çš„ç¬¬ 5 éƒ¨åˆ†ã€Œ5. ä¸¤ç§å†™æ³•å¯¹æ¯”ã€çš„ã€Œé‡è¦ç»éªŒã€é‡Œä¹Ÿå™è¿°äº†ç”¨å®ƒä»¬çš„ç†ç”±å’Œåœºæ™¯ã€‚ 7. ç»ƒä¹  æç¤ºï¼šè¿™äº›é—®é¢˜éƒ½ä¸åº”è¯¥å½“åšæ¨¡æ¿é—®é¢˜æ¥çœ‹å¾…ï¼Œé€»è¾‘ä¸¥å¯†çš„åˆ†æä¸æ€è€ƒæ˜¯æ›´å…³é”®çš„ã€‚æˆ‘ä»¬é’ˆå¯¹è¿™äº›é—®é¢˜éƒ½æä¾›äº†é¢˜è§£ï¼Œé‡ç‚¹åˆ†æäº†åº”è¯¥å¦‚ä½•æ€è€ƒï¼Œè®²è§£äº†å¦‚ä½•ç¼–å†™æ­£ç¡®çš„ä»£ç ï¼Œå¸Œæœ›èƒ½å¤Ÿå¯¹å¤§å®¶æœ‰æ‰€å¸®åŠ©ã€‚ é¢˜å‹ä¸€ï¼šäºŒåˆ†ä¸‹æ ‡ï¼ˆåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ç¬¦åˆæ¡ä»¶çš„å…ƒç´ çš„ä¸‹æ ‡ï¼‰ ä¸€èˆ¬è€Œè¨€è¿™ä¸ªæ•°ç»„æ˜¯æœ‰åºçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯åŠæœ‰åºçš„ï¼ˆæ—‹è½¬æœ‰åºæ•°ç»„æˆ–è€…å±±è„‰æ•°ç»„ï¼‰ã€‚ é¢˜ç›® é¢˜è§£ è¯´æ˜ 704. äºŒåˆ†æŸ¥æ‰¾ï¼ˆç®€å•ï¼‰ äºŒåˆ†æŸ¥æ‰¾çš„æœ€åŸå§‹é—®é¢˜ï¼Œä½¿ç”¨æœ¬é¢˜è§£ä»‹ç»çš„æ–¹æ³•å°±è¦æ³¨æ„ï¼Œéœ€è¦åå¤„ç†ã€‚ 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ æŸ¥æ‰¾è¾¹ç•Œé—®é¢˜ã€‚ 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ åˆ©ç”¨å±€éƒ¨å•è°ƒæ€§ï¼Œé€æ­¥ç¼©å°æœç´¢åŒºé—´ï¼ˆå…¶å®ƒé—®é¢˜ç±»ä¼¼ï¼‰ã€‚ 81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ IIï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ 153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ 154. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ IIï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ 300. æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ ç‰¹åˆ«ç»å…¸çš„ä¸€é“ã€ŒåŠ¨æ€è§„åˆ’ã€ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ€è·¯åŸºäºã€ŒåŠ¨æ€è§„åˆ’ã€çš„çŠ¶æ€å®šä¹‰å¾—åˆ°ï¼Œä»£ç å¾ˆåƒç¬¬ 35 é¢˜ã€‚ 275. HæŒ‡æ•° IIï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ è¿™ä¸ªé—®é¢˜é¢˜ç›®çš„æè¿°è®©äººè¿·æƒ‘ï¼Œå¯ä»¥è·³è¿‡ä¸åšã€‚ 852. å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼•ï¼ˆç®€å•ï¼‰ åˆ©ç”¨å±€éƒ¨å•è°ƒæ€§ï¼Œé€æ­¥ç¼©å°æœç´¢åŒºé—´ã€‚ 1095. å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ 4. å¯»æ‰¾ä¸¤ä¸ªæœ‰åºæ•°ç»„çš„ä¸­ä½æ•°ï¼ˆå›°éš¾ï¼‰ æ–‡å­—é¢˜è§£ 658. æ‰¾åˆ° K ä¸ªæœ€æ¥è¿‘çš„å…ƒç´ ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ è¿™ä¸ªé—®é¢˜äºŒåˆ†çš„å†™æ³•éœ€è¦åšå¤æ‚çš„åˆ†ç±»è®¨è®ºï¼Œå¯ä»¥æ”¾åœ¨ä»¥ååšã€‚ é¢˜å‹äºŒï¼šäºŒåˆ†ç­”æ¡ˆï¼ˆåœ¨ä¸€ä¸ªæœ‰èŒƒå›´çš„åŒºé—´é‡Œæœç´¢ä¸€ä¸ªæ•´æ•°ï¼‰ å®šä½ä¸€ä¸ªæœ‰èŒƒå›´çš„æ•´æ•°ï¼Œè¿™ä»¶äº‹æƒ…ä¹Ÿå«ã€ŒäºŒåˆ†ç­”æ¡ˆã€æˆ–è€…å«ã€ŒäºŒåˆ†ç»“æœã€ã€‚å¦‚æœé¢˜ç›®è¦æ±‚çš„æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°æœ‰æ˜ç¡®çš„èŒƒå›´ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚ äº‹å®ä¸Šï¼ŒäºŒåˆ†ç­”æ¡ˆæ˜¯æˆ‘ä»¬æœ€æ—©æ¥è§¦çš„äºŒåˆ†æŸ¥æ‰¾çš„åœºæ™¯ã€‚ã€Œå¹¸è¿ 52ã€é‡ŒçŒœä»·æ ¼æ¸¸æˆï¼Œå°±æ˜¯ã€ŒäºŒåˆ†æŸ¥æ‰¾ã€ç®—æ³•çš„å…¸å‹åº”ç”¨ï¼šå…ˆéšä¾¿çŒœä¸€ä¸ªæ•°ï¼Œå¦‚æœçŒœä¸­ï¼Œæ¸¸æˆç»“æŸã€‚å¦‚æœçŒœå¤§äº†ï¼Œå¾€å°çŒœï¼›å¦‚æœçŒœå°äº†ï¼Œå¾€å¤§çŒœã€‚ é¢˜ç›® é¢˜è§£ è¯´æ˜ 69. å¹³æ–¹æ ¹ï¼ˆç®€å•ï¼‰ æ–‡å­—é¢˜è§£ åœ¨ä¸€ä¸ªæ•´æ•°èŒƒå›´é‡ŒæŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°ï¼Œä¹Ÿæ˜¯äºŒåˆ†æŸ¥æ‰¾æ³•çš„åº”ç”¨åœºæ™¯ã€‚ 287. å¯»æ‰¾é‡å¤æ•°ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ åœ¨ä¸€ä¸ªæ•´æ•°èŒƒå›´é‡ŒæŸ¥æ‰¾ä¸€ä¸ªæ•´æ•°ã€‚è¿™ä¸ªé—®é¢˜äºŒåˆ†æŸ¥æ‰¾çš„è§£æ³•å¾ˆåå¸¸è§„ï¼ˆä¸åº”è¯¥ç”¨æ—¶é—´æ¢ç©ºé—´ï¼Œè¿™ä¹ˆåšå¤ªå‚»äº†ï¼‰ï¼ŒçŸ¥é“å³å¯ã€‚ 374. çŒœæ•°å­—å¤§å°ï¼ˆç®€å•ï¼‰ æ–‡å­—é¢˜è§£ 1300. è½¬å˜æ•°ç»„åæœ€æ¥è¿‘ç›®æ ‡å€¼çš„æ•°ç»„å’Œ æ–‡å­—é¢˜è§£ é¢˜å‹ä¸‰ï¼šäºŒåˆ†ç­”æ¡ˆçš„å‡çº§ç‰ˆï¼šåˆ¤åˆ«æ¡ä»¶éœ€è¦éå†æ•°ç»„ è¯´æ˜ï¼šè¿™é‡Œç»™å‡ºçš„é—®é¢˜è§£æ³•éƒ½ä¸€æ ·ï¼Œä¼šä¸€é¢˜ç­‰äºä¼šå…¶å®ƒé¢˜ã€‚é—®é¢˜çš„åœºæ™¯ä¼šå‘Šè¯‰æˆ‘ä»¬ï¼šç›®æ ‡å˜é‡å’Œå¦ä¸€ä¸ªå˜é‡æœ‰ç›¸å…³å…³ç³»ï¼ˆä¸€èˆ¬æ˜¯çº¿æ€§å…³ç³»ï¼‰ï¼Œç›®æ ‡å˜é‡çš„æ€§è´¨ä¸å¥½æ¨æµ‹ï¼Œä½†æ˜¯å¦ä¸€ä¸ªå˜é‡çš„æ€§è´¨ç›¸å¯¹å®¹æ˜“æ¨æµ‹ï¼ˆæ»¡è¶³æŸç§æ„ä¹‰ä¸Šçš„å•è°ƒæ€§ï¼‰ã€‚è¿™æ ·çš„é—®é¢˜çš„åˆ¤åˆ«å‡½æ•°é€šå¸¸ä¼šå†™æˆä¸€ä¸ªå‡½æ•°çš„å½¢å¼ã€‚ è¿™ä¸€ç±»é—®é¢˜å¯ä»¥ç»Ÿç§°ä¸ºã€Œ æœ€å¤§å€¼æå°åŒ– ã€é—®é¢˜ï¼Œæœ€åŸå§‹çš„é—®é¢˜åœºæ™¯æ˜¯æœ¨æ£åˆ‡å‰²é—®é¢˜ï¼Œè¿™é“é¢˜çš„åŸå§‹é—®é¢˜æ˜¯ã€ŒåŠ›æ‰£ã€ç¬¬ 410 é¢˜ï¼ˆåˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆå›°éš¾ï¼‰ï¼‰ã€‚ æ€è·¯æ˜¯è¿™æ ·çš„ï¼š åˆ†æå‡ºé¢˜ç›®è¦æˆ‘ä»¬æ‰¾ä¸€ä¸ªæ•´æ•°ï¼Œè¿™ä¸ªæ•´æ•°æœ‰èŒƒå›´ï¼Œæ‰€ä»¥å¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼› åˆ†æå‡º å•è°ƒæ€§ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ä¸€ä¸ªå˜é‡ a çš„å€¼å¤§äº†ï¼Œå¦ä¸€ä¸ªå˜é‡ b çš„å€¼å°±å˜å°ï¼Œè€Œã€Œå¦ä¸€ä¸ªå˜é‡çš„å€¼ã€ b æœ‰é™åˆ¶ï¼Œå› æ­¤å¯ä»¥é€šè¿‡è°ƒæ•´ a çš„å€¼è¾¾åˆ°æ§åˆ¶ b çš„æ•ˆæœï¼› è¿™ä¸€ç±»é—®é¢˜çš„é¢˜ç›®æ¡ä»¶ä¸€å®šä¼šç»™å‡º è¿ç»­ã€æ­£æ•´æ•° è¿™æ ·çš„å…³é”®å­—ã€‚å¦‚æœæ²¡æœ‰ï¼Œé—®é¢˜åœºæ™¯ä¹Ÿä¸€å®šè•´å«äº†è¿™ä¸¤ä¸ªå…³é”®ä¿¡æ¯ã€‚ ä»¥ä¸‹ç»™å‡ºçš„é—®é¢˜æ— ä¸€ä¾‹å¤–ã€‚ é¢˜ç›® æç¤ºä¸é¢˜è§£ è¯´æ˜ 410. åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼ï¼ˆå›°éš¾ï¼‰ æ–‡å­—é¢˜è§£ 875. çˆ±åƒé¦™è•‰çš„ç‚ç‚ï¼ˆä¸­ç­‰ï¼‰ æ–‡å­—é¢˜è§£ LCP 12. å°å¼ åˆ·é¢˜è®¡åˆ’ï¼ˆä¸­ç­‰ï¼‰ é¢˜è§£åœ¨ç¬¬ 410 é¢˜é¢˜è§£é‡Œ 1482. åˆ¶ä½œ m æŸèŠ±æ‰€éœ€çš„æœ€å°‘å¤©æ•°ï¼ˆä¸­ç­‰ï¼‰ é¢˜è§£åœ¨ç¬¬ 1300 é¢˜é¢˜è§£é‡Œ 1552. ä¸¤çƒä¹‹é—´çš„ç£åŠ›ï¼ˆä¸­ç­‰ï¼‰ 8. æ€»ç»“ é¦–å…ˆæƒ³æ¸…æ¥šè¿™é“é—®é¢˜ä¸ºä»€ä¹ˆå¯ä»¥ç”¨äºŒåˆ†æŸ¥æ‰¾è§£å†³ï¼ˆè€Œä¸åº”è¯¥å…ˆçº ç»“äºŒåˆ†æŸ¥æ‰¾è¯¥æ€ä¹ˆå†™ï¼‰ï¼Œåˆ©ç”¨é¢˜ç›®ä¸­ç»™å‡ºçš„å•è°ƒæ€§æˆ–è€…å¯ä»¥ç¼©å‡é—®é¢˜è§„æ¨¡çš„ç‰¹ç‚¹ï¼šå·²çŸ¥æŸä¸ªçŒœæµ‹çš„ç­”æ¡ˆçš„ç»“æœï¼Œå°±å¯ä»¥æ¨æµ‹å‡ºæ¯”å½“å‰çŒœæµ‹å°çš„æ—¶å€™ç»“æœå¦‚ä½•ï¼Œæ¯”å½“å‰çŒœæµ‹å¤§çš„æ—¶å€™ç»“æœå¦‚ä½•ã€‚å¸¸è§åº”ç”¨ä¸ºï¼šæœ‰åºæˆ–è€…åŠæœ‰åºæ•°ç»„ä¸­æ‰¾ä¸‹æ ‡ï¼Œç¡®å®šä¸€ä¸ªæœ‰èŒƒå›´çš„æ•´æ•°ã€‚ é¦–å…ˆç¡®å®šæœç´¢çš„èŒƒå›´ï¼Œå¦‚æœæœç´¢çš„èŒƒå›´å°±æŠŠæ­£ç¡®ç­”æ¡ˆæ’é™¤åœ¨å¤–ï¼Œé‚£ä¹ˆæ˜¯æ— è®ºå¦‚ä½•ä¹Ÿæœä¸å‡ºæ­£ç¡®ç»“æœçš„ï¼› å¯ä»¥ä»ã€Œçœ‹åˆ°çš„ä¸­é—´å…ƒç´ ä»€ä¹ˆæ—¶å€™ä¸æ˜¯è§£ã€å¼€å§‹æ€è€ƒ if çš„è¯­å¥æ€ä¹ˆå†™ï¼Œif çš„é€»è¾‘è¶Šç®€å•è¶Šå¥½ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ä¸ä¼šé”™ï¼Œå‰©ä¸‹çš„å¤æ‚çš„æƒ…å†µç•™ç»™ elseï¼Œelse çš„åŒºé—´å°±æ˜¯å‰©ä¸‹çš„åŒºé—´ï¼› åªæŠŠåŒºé—´åˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œä»£ç ä¹Ÿå†™æˆä¸¤ä¸ªéƒ¨åˆ†ï¼Œè¿™æ ·ï¼Œåœ¨ while (left çœ‹åˆ° if å’Œ else é‡Œæœ‰ left = mid çš„æ—¶å€™ï¼Œéœ€è¦å°† mid è°ƒæ•´ä¸ºä¸Šå–æ•´ï¼ŒåŸå› æ˜¯å½“åŒºé—´é‡Œåªå‰©ä¸‹ä¸¤ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œmid çœ‹åˆ°å³è¾¹å…ƒç´ ï¼Œè¿™æ ·è½å…¥ left = mid çš„æ—¶å€™ï¼ŒåŒºé—´æ‰ä¼šç¼©å‡ã€‚å¦‚æœè§‰å¾—è¿™ä¸€ç‚¹å¾ˆéš¾ç†è§£çš„æœ‹å‹ï¼Œæ‰“å°å˜é‡çœ‹ä¸€ä¸‹å°±éå¸¸æ¸…æ¥šäº†ï¼› å¦‚æœæœç´¢åŒºé—´é‡Œä¸€å®šå­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œé€€å‡º while (left ä¸è¦çº ç»“å·¦é—­å³é—­åŒºé—´å’Œå·¦é—­å³å¼€åŒºé—´ã€‚å¦‚æœä½ è§‰å¾—å·¦é—­å³å¼€åŒºé—´ç†è§£ä¸€ç‚¹é—®é¢˜éƒ½æ²¡æœ‰ï¼Œå½“ç„¶å¯ä»¥ç”¨å·¦é—­å³å¼€åŒºé—´å®šä¹‰ä½ çš„å¾ªç¯ä¸å˜é‡ã€‚æˆ‘ä»¬é€šç¯‡ä»‹ç»çš„äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å¾ªç¯ä¸å˜é‡æ˜¯ [left..right] é‡Œå¯èƒ½å­˜åœ¨ç›®æ ‡å…ƒç´ ï¼Œleft åŒ…æ‹¬ã€right ä¹ŸåŒ…æ‹¬ã€‚ ä¸€æ—¦æŒæ¡äº†äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„æ€æƒ³ï¼Œç”¨å“ªç§äºŒåˆ†æŸ¥æ‰¾çš„å†™æ³•å°±æ˜¯ä¹ æƒ¯çš„é—®é¢˜äº†ã€‚æ¨¡æ¿ä¹Ÿæ˜¯äººè®¾è®¡å‡ºæ¥çš„ï¼Œè€Œä¸”å°±ç®—æ˜¯æ¨¡æ¿ï¼Œä¹Ÿè¦æœ‰ç†ç”±ã€‚ç”Ÿæ¬ç¡¬å¥—æ¨¡æ¿æ˜¯ä¸å¯ä»¥çš„ï¼Œä¸€å®šè¦æ˜ç™½åŸç†ï¼Œæœ‰ä¸€äº›æ¨¡æ¿å£°ç§°æ˜¯æ·å¾„ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯å¼¯è·¯ã€‚å†™ç®—æ³•é—®é¢˜ï¼Œä¸å¯ä»¥é æ¨¡æ¿ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/374. çŒœæ•°å­—å¤§å°.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/374. çŒœæ•°å­—å¤§å°.html","title":"374. çŒœæ•°å­—å¤§å°(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 374. çŒœæ•°å­—å¤§å° è§£æ³•ä¸€ï¼šäºŒåˆ†æ³• public class Solution extends GuessGame { public int guessNumber(int n) { int low = 0; int high = n; while(low Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/35. æœç´¢æ’å…¥ä½ç½®.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/35. æœç´¢æ’å…¥ä½ç½®.html","title":"35. æœç´¢æ’å…¥ä½ç½®(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 35. æœç´¢æ’å…¥ä½ç½® è§£æ³•ä¸€ï¼šäºŒåˆ†æ³•+é€’å½’ æ€è·¯ï¼šå¦‚æœäºŒåˆ†æ³•æŸ¥åˆ°åˆ°äº†ç›´æ¥è¿”å›ï¼Œå¦‚æœæ²¡æŸ¥åˆ°ï¼Œå°†ç›®æ ‡å€¼åŠ å…¥åè¿›è¡Œæ’åºï¼Œå†æ¬¡äºŒåˆ†æ³•æŸ¥æ‰¾ã€‚ class Solution { public int searchInsert(int[] nums, int target) { int low = 0; int high = nums.length - 1; while (low nums[middle]) { low = middle + 1; } else { high = middle - 1; } } nums = Arrays.copyOf(nums, nums.length + 1); nums[nums.length - 1] = target; Arrays.sort(nums); return searchInsert(nums, target); } } è§£æ³•äºŒï¼šä¼˜åŒ–åçš„äºŒåˆ†æ³• class Solution { public int searchInsert(int[] nums, int target) { int low = 0; int high = nums.length - 1; int ans = nums.length; while (low Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬.html","title":"278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ è§£æ³•ä¸€ï¼šäºŒåˆ†æ³• public class Solution extends VersionControl { public int firstBadVersion(int n) { int low = 0; int high = n; int res = -1; while(low è§£æ³•äºŒï¼š æš´åŠ› è¶…æ—¶ public class Solution extends VersionControl { public int firstBadVersion(int n) { for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°.html","title":"367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°(easy)","keywords":"","body":"367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°(easy) Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/69. x çš„å¹³æ–¹æ ¹.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/69. x çš„å¹³æ–¹æ ¹.html","title":"69. x çš„å¹³æ–¹æ ¹(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 69. x çš„å¹³æ–¹æ ¹ è§£æ³•ä¸€ï¼šäºŒåˆ†æ³• class Solution { public int mySqrt(int x) { int low = 0; int high = x; int res = -1; while(lowx){ high = middle-1; } else{ low = middle+1; res = middle; } } return res; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®.html","title":"34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® è§£æ³•ä¸€ï¼š æš´åŠ›è§£æ³• class Solution { public int[] searchRange(int[] nums, int target) { int[] res = new int[2]; boolean flag = true; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ .html":{"url":"äºŒåˆ†æŸ¥æ‰¾/540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ .html","title":"540. æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ (easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 374. çŒœæ•°å­—å¤§å° è§£æ³•ä¸€ï¼š æš´åŠ›æ³• class Solution { public int singleNonDuplicate(int[] nums) { Map map = new HashMap<>(); for(int i=0;i maps : map.entrySet()){ if(maps.getValue() == 1){ return maps.getKey(); } } return -1; } } ä¼˜åŒ–åçš„æš´åŠ› class Solution { public int singleNonDuplicate(int[] nums) { for(int i=0;i è§£æ³•äºŒï¼š äºŒåˆ†æ³• class Solution { public int singleNonDuplicate(int[] nums) { int low = 0; int high = nums.length-1; while(low Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/275. H æŒ‡æ•° II.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/275. H æŒ‡æ•° II.html","title":"275. H æŒ‡æ•° II(warning)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 275. H æŒ‡æ•° II Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°.html","title":"4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°(hard)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆå›°éš¾éš¾åº¦ï¼‰ [warning] 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® è§£æ³•ä¸€ï¼šæš´åŠ› åˆå¹¶æ•°ç»„åæ’åºï¼Œå†é€šè¿‡äºŒåˆ†å¾—å‡ºä¸­ä½æ•°ï¼Œä¸ç¬¦åˆæ—¶é—´å¤æ‚åº¦è¦æ±‚ã€‚ class Solution { public double findMedianSortedArrays(int[] nums1, int[] nums2) { int begin = nums1.length; nums1 = Arrays.copyOf(nums1, nums1.length + nums2.length); System.arraycopy(nums2,0,nums1,begin,nums2.length); Arrays.sort(nums1); int l = 0; int r = nums1.length-1; int middle = l + (r-l)/2; if(nums1.length %2 == 0){ return (nums1[middle]+nums1[middle+1])/2.0; } else{ return nums1[middle]/1.0; } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"äºŒåˆ†æŸ¥æ‰¾/153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼.html":{"url":"äºŒåˆ†æŸ¥æ‰¾/153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼.html","title":"153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼(medium)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 153. å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ è§£æ³•ä¸€ï¼š æš´åŠ› class Solution { public int findMin(int[] nums) { if(nums.length == 0 || null == nums){ return -1; } Arrays.sort(nums); return nums[0]; } } æš´åŠ›æ±‚æœ€å°å€¼ class Solution { public int findMin(int[] nums) { Integer min = Integer.MAX_VALUE; for(int i=0;i ä»¥ä¸Šæ–¹å¼æ—¶é—´å¤æ‚åº¦å¤ªå·®ï¼Œä¸æ¨è è§£æ³•äºŒï¼š äºŒåˆ†æ³• class Solution { public int findMin(int[] nums) { int l = 0; int r = nums.length-1; while(l nums[nums.length-1]){ l = middle+1; } else{ r = middle; } } return nums[l]; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/åŠ¨æ€è§„åˆ’.html":{"url":"ç®€ä»‹/åŠ¨æ€è§„åˆ’.html","title":"åŠ¨æ€è§„åˆ’","keywords":"","body":"åŠ¨æ€è§„åˆ’ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/509. æ–æ³¢é‚£å¥‘æ•°.html":{"url":"åŠ¨æ€è§„åˆ’/509. æ–æ³¢é‚£å¥‘æ•°.html","title":"509. æ–æ³¢é‚£å¥‘æ•°(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 509. æ–æ³¢é‚£å¥‘æ•° è§£æ³•ä¸€ï¼šæš´åŠ›é€’å½’ class Solution { public int fib(int n) { if(n == 0 || n==1){ return n; } return fib(n-1)+fib(n-2); } } è§£æ³•äºŒï¼šå¤‡å¿˜å½•é€’å½’ class Solution { int[] cache = new int[101]; public int fib(int n) { if(n == 0 || n==1){ return n; } if(cache[n] != 0){ return cache[n]; } cache[n] = fib(n-1)+fib(n-2); return cache[n]; } } è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ class Solution { public int fib(int n) { if(n == 0){ return 0; } int[] dp = new int[n+1]; dp[0] = 0; dp[1] = 1; for(int i=2;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/5. æœ€é•¿å›æ–‡å­ä¸².html":{"url":"åŠ¨æ€è§„åˆ’/5. æœ€é•¿å›æ–‡å­ä¸².html","title":"5. æœ€é•¿å›æ–‡å­ä¸²(ä¸­ç­‰)","keywords":"","body":"5. æœ€é•¿å›æ–‡å­ä¸²(ä¸­ç­‰) Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯.html":{"url":"åŠ¨æ€è§„åˆ’/746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯.html","title":"746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯(easy)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ class Solution { public int minCostClimbingStairs(int[] cost) { int[] dp = new int[cost.length]; dp[0] = cost[0]; dp[1] = cost[1]; for(int i=2;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/63. ä¸åŒè·¯å¾„ II.html":{"url":"åŠ¨æ€è§„åˆ’/63. ä¸åŒè·¯å¾„ II.html","title":"63. ä¸åŒè·¯å¾„ II(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 63. ä¸åŒè·¯å¾„ II è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ class Solution { public int uniquePathsWithObstacles(int[][] obstacleGrid) { if(null == obstacleGrid || obstacleGrid.length == 0){ return 0; } int m = obstacleGrid.length; int n = obstacleGrid[0].length; int[][] dp = new int[m][n]; dp[0][0] = 1 - obstacleGrid[0][0]; //base case for(int i=1;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/343. æ•´æ•°æ‹†åˆ†.html":{"url":"åŠ¨æ€è§„åˆ’/343. æ•´æ•°æ‹†åˆ†.html","title":"343. æ•´æ•°æ‹†åˆ†(ä¸­ç­‰)","keywords":"","body":"343. æ•´æ•°æ‹†åˆ†(ä¸­ç­‰) Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"åŠ¨æ€è§„åˆ’/300. æœ€é•¿é€’å¢å­åºåˆ—.html":{"url":"åŠ¨æ€è§„åˆ’/300. æœ€é•¿é€’å¢å­åºåˆ—.html","title":"300. æœ€é•¿é€’å¢å­åºåˆ—(ä¸­ç­‰)","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] 300. æœ€é•¿é€’å¢å­åºåˆ— è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ çŠ¶æ€è½¬ä¹‰æ–¹ç¨‹ï¼šdp[i] = max(dp[i], dp[j] + 1) class Solution { public int lengthOfLIS(int[] nums) { if(null == nums || nums.length == 0){ return 0; } int[] dp = new int[nums.length]; for(int i=0;i nums[j]){ dp[i] = Math.max(dp[i],dp[j]+1); } } res = Math.max(res,dp[i]); } return res; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/é«˜é¢‘TOP200.html":{"url":"ç®€ä»‹/é«˜é¢‘TOP200.html","title":"NCç®—æ³•","keywords":"","body":"NCç®—æ³• Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"NC/NC78.åè½¬é“¾è¡¨.html":{"url":"NC/NC78.åè½¬é“¾è¡¨.html","title":"NC78.åè½¬é“¾è¡¨","keywords":"","body":"NC78.åè½¬é“¾è¡¨ é¢˜ç›®æè¿° è¾“å…¥ä¸€ä¸ªé“¾è¡¨ï¼Œåè½¬é“¾è¡¨åï¼Œè¾“å‡ºæ–°é“¾è¡¨çš„è¡¨å¤´ã€‚ ç¤ºä¾‹1 è¾“å…¥ {1,2,3} è¿”å›å€¼ {3,2,1} è§£æ³•ä¸€ï¼šå¸¸è§„è§£æ³• public class Solution { public ListNode ReverseList(ListNode head) { ListNode prev = null; ListNode curr = head; ListNode temp = null; while(curr != null){ temp = curr.next; curr.next = prev; prev = curr; curr = temp; } return prev; } } è§£æ³•äºŒ ï¼š æ ˆ è§£é¢˜æ€è·¯ï¼šå› ä¸ºæ ˆæ˜¯å…ˆè¿›åå‡ºçš„ã€‚å®ç°åŸç†å°±æ˜¯æŠŠé“¾è¡¨èŠ‚ç‚¹ä¸€ä¸ªä¸ªå…¥æ ˆï¼Œå½“å…¨éƒ¨å…¥æ ˆå®Œä¹‹åå†ä¸€ä¸ªä¸ªå‡ºæ ˆï¼Œå‡ºæ ˆçš„æ—¶å€™åœ¨æŠŠå‡ºæ ˆçš„ç»“ç‚¹ä¸²æˆä¸€ä¸ªæ–°çš„é“¾è¡¨ã€‚åŸç†å¦‚ä¸‹ import java.util.*; public class Solution { public ListNode ReverseList(ListNode head) { Deque deque = new LinkedList<>(); while(head != null){ deque.offer(head); head = head.next; } if(deque.isEmpty()){ return null; } ListNode node = deque.pollLast(); ListNode dummy = node; while(!deque.isEmpty()){ ListNode temp = deque.pollLast(); node.next = temp; node = node.next; } node.next = null; return dummy; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"NC/NC140.æ’åº.html":{"url":"NC/NC140.æ’åº.html","title":"NC140.æ’åº","keywords":"","body":"NC140.æ’åº é¢˜ç›®æè¿° ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¯·ä½ ç¼–å†™ä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›è¯¥æ•°ç»„æ’åºåçš„å½¢å¼ã€‚ ç¤ºä¾‹1 è¾“å…¥ [5,2,3,1,4] è¿”å›å€¼ [1,2,3,4,5] ç¤ºä¾‹2 è¾“å…¥ [5,1,6,2,5] è¿”å›å€¼ [1,2,5,5,6] å¤‡æ³¨: æ•°ç»„çš„é•¿åº¦ä¸å¤§äº100000ï¼Œæ•°ç»„ä¸­æ¯ä¸ªæ•°çš„ç»å¯¹å€¼ä¸è¶…è¿‡10^9109 è§£æ³•ä¸€ï¼šå†’æ³¡æ’åº æ—¶é—´å¤æ‚åº¦O(n^2) public class Solution { public int[] MySort (int[] arr) { for(int i=0;iarr[j]){ int temp = arr[i]; arr[i] = arr[j]; arr[j] = temp; } } } return arr; } } è§£æ³•äºŒï¼šå¿«é€Ÿæ’åº Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"NC/NC50.K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨.html":{"url":"NC/NC50.K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨.html","title":"NC50.K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨","keywords":"","body":"NC50.K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/å­åºåˆ—é—®é¢˜.html":{"url":"ç®€ä»‹/å­åºåˆ—é—®é¢˜.html","title":"å­åºåˆ—é—®é¢˜","keywords":"","body":"å­åºåˆ—é—®é¢˜ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å­åºåˆ—é—®é¢˜/1143. æœ€é•¿å…¬å…±å­åºåˆ—.html":{"url":"å­åºåˆ—é—®é¢˜/1143. æœ€é•¿å…¬å…±å­åºåˆ—.html","title":"1143. æœ€é•¿å…¬å…±å­åºåˆ—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] 1143. æœ€é•¿å…¬å…±å­åºåˆ— è§£æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼Œæ±‚å‡ºå­—ç¬¦ä¸²æ‰€æœ‰å­åºåˆ—ï¼Œå†å–å‡ºæœ€å¤§çš„ï¼Œè¶…æ—¶ class Solution { Set aMap = new HashSet<>(); Set bMap = new HashSet<>(); public int longestCommonSubsequence(String text1, String text2) { if(text1 != null || text1.length() != 0){ subStr(text1.toCharArray(),0,\"\",aMap); } if(text2 != null || text2.length() != 0){ subStr(text2.toCharArray(),0,\"\",bMap); } int max = 0; for(String s : aMap){ if(bMap.contains(s)){ max = Math.max(max,s.length()); } } return max; } //é€’å½’æ±‚æ‰€æœ‰å­åºåˆ— public void subStr(char[] str,int index,String res,Set set){ if(index == str.length){ set.add(res); return; } subStr(str,index+1,res,set); subStr(str,index+1,res+String.valueOf(str[index]),set); } } è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ class Solution { public int longestCommonSubsequence(String text1, String text2) { int m = text1.length(); int n = text2.length(); int[][] dp = new int[m+1][n+1]; for(int i=1;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/å‰‘æŒ‡offer.html":{"url":"ç®€ä»‹/å‰‘æŒ‡offer.html","title":"å‰‘æŒ‡offer","keywords":"","body":"å‰‘æŒ‡offer Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾.html","title":"å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 04. äºŒç»´æ•°ç»„ä¸­çš„æŸ¥æ‰¾ è§£æ³•ä¸€ï¼šæš´åŠ›ï¼Œä¸¤ä¸ªforå¾ªç¯ï¼Œæˆ–è€…ä¸€ä¸ªå¾ªç¯ä¸€ä¸ªäºŒåˆ† class Solution { public boolean findNumberIn2DArray(int[][] matrix, int target) { for(int i=0;i target){ high = middle-1; } else{ low = middle+1; } } } return false; } } è§£æ³•äºŒï¼š çº¿æ€§æŸ¥æ‰¾ äºŒåˆ†æ³• è§£é¢˜æ€è·¯ ç”±äºç»™å®šçš„äºŒç»´æ•°ç»„å…·å¤‡æ¯è¡Œä»å·¦åˆ°å³é€’å¢ä»¥åŠæ¯åˆ—ä»ä¸Šåˆ°ä¸‹é€’å¢çš„ç‰¹ç‚¹ï¼Œå½“è®¿é—®åˆ°ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¯ä»¥æ’é™¤æ•°ç»„ä¸­çš„éƒ¨åˆ†å…ƒç´ ã€‚ ä»äºŒç»´æ•°ç»„çš„å³ä¸Šè§’å¼€å§‹æŸ¥æ‰¾ã€‚å¦‚æœå½“å‰å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼Œåˆ™è¿”å› trueã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°å·¦è¾¹ä¸€åˆ—ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œåˆ™ç§»åˆ°ä¸‹è¾¹ä¸€è¡Œã€‚ å¯ä»¥è¯æ˜è¿™ç§æ–¹æ³•ä¸ä¼šé”™è¿‡ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å¤§äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„ä¸‹è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå¤§äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€ä¸‹æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€å·¦æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚å¦‚æœå½“å‰å…ƒç´ å°äºç›®æ ‡å€¼ï¼Œè¯´æ˜å½“å‰å…ƒç´ çš„å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ éƒ½ä¸€å®šå°äºç›®æ ‡å€¼ï¼Œå› æ­¤å¾€å·¦æŸ¥æ‰¾ä¸å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¾€ä¸‹æŸ¥æ‰¾å¯èƒ½æ‰¾åˆ°ç›®æ ‡å€¼ã€‚ è‹¥æ•°ç»„ä¸ºç©ºï¼Œè¿”å› false åˆå§‹åŒ–è¡Œä¸‹æ ‡ä¸º 0ï¼Œåˆ—ä¸‹æ ‡ä¸ºäºŒç»´æ•°ç»„çš„åˆ—æ•°å‡ 1 é‡å¤ä¸‹åˆ—æ­¥éª¤ï¼Œç›´åˆ°è¡Œä¸‹æ ‡æˆ–åˆ—ä¸‹æ ‡è¶…å‡ºè¾¹ç•Œ è·å¾—å½“å‰ä¸‹æ ‡ä½ç½®çš„å…ƒç´  num å¦‚æœ num å’Œ target ç›¸ç­‰ï¼Œè¿”å› true å¦‚æœ num å¤§äº targetï¼Œåˆ—ä¸‹æ ‡å‡ 1 å¦‚æœ num å°äº targetï¼Œè¡Œä¸‹æ ‡åŠ  1 å¾ªç¯ä½“æ‰§è¡Œå®Œæ¯•ä»æœªæ‰¾åˆ°å…ƒç´ ç­‰äº target ï¼Œè¯´æ˜ä¸å­˜åœ¨è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å› false` class Solution { public boolean findNumberIn2DArray(int[][] matrix, int target) { if(matrix == null || matrix.length == 0){ return false; } int rows = matrix.length; int columns = matrix[0].length; int row = 0; int col = columns-1; while(row =0){ if(matrix[row][col] == target){ return true; } if(matrix[row][col] > target){ col--; } else{ row++; } } return false; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼.html","title":"å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼ è§£æ³•ä¸€ï¼šéå†æ›¿æ¢ class Solution { public String replaceSpace(String s) { StringBuilder sb = new StringBuilder(); for(int i=0;i è§£æ³•äºŒï¼šä½¿ç”¨åº“å‡½æ•° class Solution { public String replaceSpace(String s) { return s.replace(\" \",\"%20\"); } } è§£æ³•ä¸‰ï¼šå­—ç¬¦æ•°ç»„æ–¹å¼ class Solution { public String replaceSpace(String s) { char[] array = new char[s.length()*3]; int size = 0; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨.html","title":"å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨ è§£æ³•ä¸€ï¼šå…ˆåè½¬é“¾è¡¨å†è¾“å‡º class Solution { public int[] reversePrint(ListNode head) { if(head == null){ return new int[0]; } List list = new ArrayList<>(); ListNode prev = null; ListNode curr = head; ListNode temp = null; while(curr != null){ temp = curr.next; curr.next = prev; prev = curr; curr = temp; } while(prev != null){ list.add(prev.val); prev = prev.next; } int[] result = new int[list.size()]; for(int i=0;i è§£æ³•äºŒï¼š ä»æ•°ç»„æœ€åä¸€ä½å¼€å§‹è¾“å…¥ class Solution { public int[] reversePrint(ListNode head) { if(null == head){ return new int[0]; } ListNode node = head; int size = 0; while(node != null){ node = node.next; size++; } int[] res = new int[size]; node = head; for(int i=size-1;i>=0;i--){ res[i] = node.val; node = node.next; } return res; } } è§£æ³•ä¸‰ï¼š æ ˆ class Solution { public int[] reversePrint(ListNode head) { Deque deque = new ArrayDeque<>(); ListNode curr = head; while(curr != null){ deque.offerLast(curr.val); curr = curr.next; } int size = deque.size(); int[] res = new int[size]; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘.html","title":"å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 07. é‡å»ºäºŒå‰æ ‘ è§£æ³•ä¸€ï¼š class Solution { Map map = new HashMap<>(); public TreeNode buildTree(int[] preorder, int[] inorder) { if(preorder.length != inorder.length){ return null; } int n = preorder.length; for(int i=0;i map,int inLeft,int inRight){ if(preLeft > preRight || inLeft > inRight){ return null; } int rootVal = preorder[preLeft]; int preIndex = map.get(rootVal); TreeNode root = new TreeNode(rootVal); root.left = buildTree(preorder,preLeft+1,preIndex-inLeft + preLeft,map,inLeft,preIndex-1); root.right = buildTree(preorder,preIndex-inLeft + preLeft+1,preRight,map,preIndex+1,inRight); return root; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—.html","title":"å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] [å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— è§£æ³•ä¸€ï¼š ä¸¤ä¸ªæ ˆå®ç° class CQueue { Deque A; Deque B; public CQueue() { A= new LinkedList<>(); B= new LinkedList<>(); } public void appendTail(int value) { A.offerFirst(value); } public int deleteHead() { if(B.isEmpty()){ while(!A.isEmpty()){ B.offerFirst(A.pollFirst()); } } if(B.isEmpty()){ return -1; } return B.pollFirst(); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹.html","title":"å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 22. é“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹ è§£æ³•ä¸€ï¼šéå†é“¾è¡¨ éå†é“¾è¡¨ï¼Œç»Ÿè®¡é“¾è¡¨é•¿åº¦nï¼Œå€’æ•°ç¬¬kä¸ªå°±æ˜¯æ­£æ•°ç¬¬n-kä¸ª class Solution { public ListNode getKthFromEnd(ListNode head, int k) { if(head == null){ return null; } int n = 0; ListNode curr = head; while(curr != null){ n++; curr = curr.next; } ListNode temp = head; int index = 0; while(temp != null){ if(index == n-k){ return temp; } temp = temp.next; index++; } return null; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—.html","title":"å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 33. äºŒå‰æœç´¢æ ‘çš„ååºéå†åºåˆ— è§£æ³•ä¸€ï¼šé€’å½’åˆ†æ²» åˆ’åˆ†å·¦å³å­æ ‘ï¼š éå†ååºéå†çš„ [i,j] åŒºé—´å…ƒç´ ï¼Œå¯»æ‰¾ ç¬¬ä¸€ä¸ªå¤§äºæ ¹èŠ‚ç‚¹ çš„èŠ‚ç‚¹ï¼Œç´¢å¼•è®°ä¸º m ã€‚æ­¤æ—¶ï¼Œå¯åˆ’åˆ†å‡ºå·¦å­æ ‘åŒºé—´ [i,mâˆ’1] ã€å³å­æ ‘åŒºé—´ [m, j - 1] ã€æ ¹èŠ‚ç‚¹ç´¢å¼• j ã€‚ class Solution { public boolean verifyPostorder(int[] postorder) { if(postorder.length =right){ return true; } //å½“å‰æ ‘çš„æ ¹èŠ‚ç‚¹çš„å€¼ int root = postorder[right]; int m = left; //å½“å‰åŒºåŸŸç¬¬ä¸€ä¸ªå¤§äºæ ¹èŠ‚ç‚¹çš„ï¼Œè¯´æ˜åç»­åŒºåŸŸçš„å€¼éƒ½æ˜¯å³å­æ ‘çš„èŠ‚ç‚¹ for(int i=left;i è§£æ³•äºŒï¼šå•è°ƒæ ˆ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘.html","title":"å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 37. åºåˆ—åŒ–äºŒå‰æ ‘ è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°.html","title":"å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•°","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 60. nä¸ªéª°å­çš„ç‚¹æ•° è§£æ³•ä¸€ï¼š Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ.html","title":"å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 30. åŒ…å«minå‡½æ•°çš„æ ˆ è§£æ³•ä¸€ï¼šä¼˜å…ˆé˜Ÿåˆ—ä¸æ ˆå®ç° class MinStack { PriorityQueue priority; Deque queue; /** initialize your data structure here. */ public MinStack() { queue = new LinkedList(); priority = new PriorityQueue(); } public void push(int x) { queue.offerFirst(x); priority.offer(x); } public void pop() { if(!queue.isEmpty()){ priority.remove(queue.peekFirst()); queue.pollFirst(); } } public int top() { if(!queue.isEmpty()){ return queue.peekFirst(); } return -1; } public int min() { if(!priority.isEmpty()){ return priority.peek(); } return -1; } } è§£æ³•äºŒï¼šä½¿ç”¨è¾…åŠ©æ ˆå®ç° class MinStack { Deque A; Deque B; public MinStack() { A = new LinkedList<>(); B = new LinkedList<>(); } public void push(int x) { A.offerFirst(x); if(B.isEmpty() || B.peekFirst() >= x){ B.offerFirst(x); } else{ B.offerFirst(B.peekFirst()); } } public void pop() { if(!A.isEmpty()){ A.pollFirst(); B.pollFirst(); } } public int top() { if(!A.isEmpty()){ return A.peekFirst(); } return -1; } public int min() { if(!B.isEmpty()){ return B.peekFirst(); } return -1; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—.html","title":"å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 38. å­—ç¬¦ä¸²çš„æ’åˆ— è§£æ³•ä¸€ï¼š å›æº¯ æ³¨æ„é¢˜ç›®ï¼Œå­—ç¬¦ä¸²å¯ä»¥æœ‰é‡å¤å­—ç¬¦ï¼Œå¦‚æœå­—ç¬¦ä¸²æ²¡æœ‰é‡å¤å­—ç¬¦ï¼Œå°±ä¸éœ€è¦åšå»é‡æ ¡éªŒäº†ï¼Œæœ‰é‡å¤å­—ç¬¦ï¼Œä½¿ç”¨ä¸€ä¸ªboolean æ•°ç»„åšå»é‡æ ¡éªŒã€‚ class Solution { Set set = new HashSet<>(); StringBuilder sb = new StringBuilder(); public String[] permutation(String s) { if(s.length() == 0 || null == s){ return new String[0]; } boolean[] used = new boolean[s.length()]; backtrack(s,used); return set.toArray(new String[]{}); } public void backtrack(String s,boolean[] used){ if(sb.length() == s.length()){ set.add(sb.toString()); return; } for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—.html","title":"å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 44. æ•°å­—åºåˆ—ä¸­æŸä¸€ä½çš„æ•°å­— è§£æ³•ä¸€ï¼šæš´åŠ› è¶…å‡ºå†…å­˜é™åˆ¶ class Solution { public int findNthDigit(int n) { StringBuilder sb = new StringBuilder(); for(int i=0;i è§£æ³•äºŒï¼šäºŒåˆ†æ³• Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸².html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸².html","title":"å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸²","keywords":"","body":"å‰‘æŒ‡ Offer 46. æŠŠæ•°å­—ç¿»è¯‘æˆå­—ç¬¦ä¸² Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼.html","title":"å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 47. ç¤¼ç‰©çš„æœ€å¤§ä»·å€¼ è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ class Solution { public int maxValue(int[][] grid) { if(grid == null || grid.length == 0){ return 0; } int m = grid.length; int n = grid[0].length; int[][] dp = new int[m][n]; //base case dp[0][0] = grid[0][0]; for(int i=1;i ç®€åŒ–ä»£ç  ï¼ŒåŠ¨æ€è§„åˆ’ class Solution { public int maxValue(int[][] grid) { if(grid == null || grid.length == 0){ return 0; } int m = grid.length; int n = grid[0].length; int[][] dp = new int[m+1][n+1]; for(int i=1;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸².html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸².html","title":"å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸²","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 48. æœ€é•¿ä¸å«é‡å¤å­—ç¬¦çš„å­å­—ç¬¦ä¸² è§£æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ class Solution { public int lengthOfLongestSubstring(String s) { if(s.length() == 0 || s == null){ return 0; } if(s.length() == 1){ return 1; } int l = 0; int r = l+1; int max = Integer.MIN_VALUE; Set set = new HashSet<>(); while(l(); l++; r = l+1; } max = Math.max(max,set.size()); } return max; } } æ»‘åŠ¨çª—å£ ä¼˜åŒ– class Solution { public int lengthOfLongestSubstring(String s) { if(s.length() == 0 || s == null){ return 0; } int l = 0; int r = 0 ; int max = 0; int n = s.length(); Set set = new HashSet<>(); while(l Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 49. ä¸‘æ•°.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 49. ä¸‘æ•°.html","title":"å‰‘æŒ‡ Offer 49. ä¸‘æ•°","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 49. ä¸‘æ•° è§£æ³•ä¸€ï¼šæš´åŠ› è¶…æ—¶ class Solution { public int nthUglyNumber(int n) { List list = new ArrayList<>(); for(int i=1;i0){ for(int i=2;i è§£æ³•äºŒï¼š ä¼˜å…ˆé˜Ÿåˆ— æœ€å°å † class Solution { public int nthUglyNumber(int n) { int[] ans = {2,3,5}; Set set = new HashSet<>(); PriorityQueue priority = new PriorityQueue(); priority.offer(1L); set.add(1L); int ugly = 0; for(int i=0;i è§£æ³•ä¸‰ï¼šåŠ¨æ€è§„åˆ’ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—.html","title":"å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 57 - II. å’Œä¸ºsçš„è¿ç»­æ­£æ•°åºåˆ— è§£æ³•ä¸€ï¼š æš´åŠ› class Solution { public int[][] findContinuousSequence(int target) { List> ans = new ArrayList<>(); for(int i=1;i list = new ArrayList<>(); list.add(i); int sum = i; for(int j=i+1;j target){ break; } } } int[][] resp = new int[ans.size()][]; for(int i=0;i è§£æ³•äºŒï¼šåŒæŒ‡é’ˆ æ»‘åŠ¨çª—å£ class Solution { public int[][] findContinuousSequence(int target) { List> ans = new ArrayList<>(); for(int l=1,r=2;l list = new ArrayList<>(); int sum = ((l+r)*(r-l+1))/2; if(sum == target){ for(int i=l;i target){ l++; } else{ r++; } } int[][] resp = new int[ans.size()][]; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼.html","title":"å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 59 - I. æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼ è§£æ³•ä¸€ï¼šåŒæŒ‡é’ˆæ»‘åŠ¨çª—å£ class Solution { public int[] maxSlidingWindow(int[] nums, int k) { if(nums.length == 0 || nums == null){ return new int[0]; } int i = 0; int j = k-1; int n = nums.length-1; List ans = new ArrayList<>(); while(j è§£æ³•äºŒï¼šä¼˜å…ˆé˜Ÿåˆ— Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼.html","title":"å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 59 - II. é˜Ÿåˆ—çš„æœ€å¤§å€¼ è§£æ³•ä¸€ï¼šé˜Ÿåˆ—å®ç° class MaxQueue { Deque queue; Deque queue1; public MaxQueue() { queue = new LinkedList<>(); queue1 = new LinkedList<>(); } public int max_value() { if(queue1.isEmpty()){ return -1; } return queue1.peekFirst(); } public void push_back(int value) { queue.offerLast(value); while(!queue1.isEmpty() && queue1.peekLast() Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­.html","title":"å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 61. æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ è§£æ³•ä¸€ï¼šé›†åˆset + éå† class Solution { public boolean isStraight(int[] nums) { Set set = new HashSet<>(); int min = 14; int max = 0; for(int i=0;i è§£æ³•äºŒï¼š æ’åº+ éå† class Solution { public boolean isStraight(int[] nums) { Arrays.sort(nums); int index = 0; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—.html","title":"å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­—","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 62. åœ†åœˆä¸­æœ€åå‰©ä¸‹çš„æ•°å­— è§£æ³•ä¸€ï¼šæ¨¡æ‹Ÿ class Solution { public int lastRemaining(int n, int m) { List ans = new ArrayList<>(); for(int i=0;i 1){ idx = (idx+m-1) % n; ans.remove(idx); n--; } return ans.get(0); } } è§£æ³•äºŒï¼š æ•°å­¦æ³• class Solution { public int lastRemaining(int n, int m) { int ans = 0; // æœ€åä¸€è½®å‰©ä¸‹2ä¸ªäººï¼Œæ‰€ä»¥ä»2å¼€å§‹åæ¨ for (int i = 2; i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦.html","title":"å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆä¸­ç­‰éš¾åº¦ï¼‰ [success] å‰‘æŒ‡ Offer 63. è‚¡ç¥¨çš„æœ€å¤§åˆ©æ¶¦ è§£æ³•ä¸€ï¼šæš´åŠ› class Solution { public int maxProfit(int[] prices) { if(prices == null || prices.length == 0){ return 0; } int max = Integer.MIN_VALUE; for(int i=0;i è§£æ³•äºŒï¼šåŠ¨æ€è§„åˆ’ class Solution { public int maxProfit(int[] prices) { if(prices == null || prices.length == 0){ return 0; } int n = prices.length; int[] dp = new int[n]; dp[0] =0; //æœ€å°å…¥æ‰‹ä»· int cost = prices[0]; for(int i=1;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•.html","title":"å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 65. ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³• è§£æ³•ä¸€ï¼šä½è¿ç®— class Solution { public int add(int a, int b) { while(b != 0){ int c = (a&b) Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°.html","title":"å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•°","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 67. æŠŠå­—ç¬¦ä¸²è½¬æ¢æˆæ•´æ•° è§£æ³•ä¸€ï¼šå­—ç¬¦ä¸²å¤„ç† class Solution { public int strToInt(String str) { str = str.trim(); if(str.length() == 0){ return 0; } int sign = 1; int i = 1; if(str.charAt(0)=='-'){ sign = -1; }else if(str.charAt(0) != '+'){ i = 0; } int number = Integer.MAX_VALUE /10; int res = 0; for(int j=i;j '9' || str.charAt(j) number || (res==number && str.charAt(j) > '7')){ return sign == 1?Integer.MAX_VALUE : Integer.MIN_VALUE; } res = res * 10 + (str.charAt(j) - '0'); } return res*sign; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„.html","title":"å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 66. æ„å»ºä¹˜ç§¯æ•°ç»„ è§£æ³•ä¸€ï¼šåŠ¨æ€è§„åˆ’ å¦‚æœæˆ‘ä»¬èƒ½è®¡ç®—æ¯ä¸ªå…ƒç´ å·¦è¾¹æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯å’Œå³è¾¹æ‰€æœ‰å…ƒç´ çš„ä¹˜ç§¯ åªéœ€è¦æŠŠä»–ä»¬ç›¸ä¹˜å°±å¯ä»¥æ»¡è¶³è¿™é¢˜çš„è¦æ±‚ å·¦è¾¹çš„ä»å·¦è¾¹å¼€å§‹ å³è¾¹çš„ä»å³è¾¹å¼€å§‹ class Solution { public int[] constructArr(int[] a) { if(a == null || a.length == 0){ return new int[0]; } int length = a.length; int[] leftDp = new int[length]; int[] rightDp = new int[length]; leftDp[0] = 1; for(int i=1;i=0;j--){ rightDp[j] = rightDp[j+1]*a[j+1]; } int[] resp = new int[length]; for(int i=0;i Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html","title":"å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 68 - I. äºŒå‰æœç´¢æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ è§£æ³•ä¸€ï¼š é€’å½’ åˆ©ç”¨äºŒå‰æ ‘çš„ç‰¹æ€§ï¼Œå¦‚æœp ã€q çš„å€¼å°äºroot ,p qå°±åœ¨rootçš„å·¦è¾¹ã€å¦‚æœ pã€q çš„å€¼å¤§äºroot å°±åœ¨rootçš„å³è¾¹ å¦åˆ™åœ¨ä»–ä»¬çš„å…¬å…±ç¥–å…ˆå°±æ˜¯root class Solution { public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { if(root == null){ return null; } if(root.val > p.val && root.val > q.val){ return lowestCommonAncestor(root.left,p,q); } else if(root.val è§£æ³•äºŒï¼š è¿­ä»£æ³• class Solution { public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { if(root == null){ return root; } while(root != null){ if(root.val > p.val && root.val > q.val){ root = root.left; } else if(root.val Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html":{"url":"å‰‘æŒ‡offer/å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ.html","title":"å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ","keywords":"","body":"é¢˜ç›®æè¿°ï¼ˆç®€å•éš¾åº¦ï¼‰ [warning] å‰‘æŒ‡ Offer 68 - II. äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ è§£æ³•ä¸€ï¼š é€’å½’ class Solution { public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { if(root == null){ return null; } if(root == p || root == q){ return root; } TreeNode left = lowestCommonAncestor(root.left,p,q); TreeNode right = lowestCommonAncestor(root.right,p,q); if(left != null && right != null){ return root; } if(left != null){ return left; } if(right != null){ return right; } return null; } } ç®€åŒ–ä¸Šé¢ç­”æ¡ˆ class Solution { public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { if(root == null){ return null; } if(root == p || root == q){ return root; } TreeNode left = lowestCommonAncestor(root.left,p,q); TreeNode right = lowestCommonAncestor(root.right,p,q); if(left == null){ return right; } if(right == null){ return left; } return root; } } è§£æ³•äºŒï¼š hashMapä¿å­˜çˆ¶èŠ‚ç‚¹ /** * Definition for a binary tree node. * public class TreeNode { * int val; * TreeNode left; * TreeNode right; * TreeNode(int x) { val = x; } * } */ class Solution { HashMap map = new HashMap<>(); Set set = new HashSet<>(); public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) { dfs(root); while(p != null){ set.add(p.val); p = map.get(p.val); } while(q !=null){ if(set.contains(q.val)){ return q; } q = map.get(q.val); } return null; } public void dfs(TreeNode root){ if(root == null){ return; } if(root.left != null){ map.put(root.left.val,root); dfs(root.left); } if(root.right != null){ map.put(root.right.val,root); dfs(root.right); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/æ’åºç®—æ³•.html":{"url":"ç®€ä»‹/æ’åºç®—æ³•.html","title":"æ’åºç®—æ³•","keywords":"","body":"æ’åºç®—æ³• å½’å¹¶æ’åº class Solution{ public static void main(String[] args) { int[] nums1 = {1,3,2,5,9,0}; merge(nums1,0,nums1.length-1); System.out.println(Arrays.toString(nums1)); } public static void merge(int[] nums,int low,int high){ int middle = low + (high-low)/2; if(low Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"æ’åº/NC78.åè½¬é“¾è¡¨.html":{"url":"æ’åº/NC78.åè½¬é“¾è¡¨.html","title":"NC78.åè½¬é“¾è¡¨","keywords":"","body":"NC78.åè½¬é“¾è¡¨ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/ä½è¿ç®—.html":{"url":"ç®€ä»‹/ä½è¿ç®—.html","title":"ä½è¿ç®—","keywords":"","body":"ä½è¿ç®— Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ä½è¿ç®—/å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°.html":{"url":"ä½è¿ç®—/å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°.html","title":"å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•°","keywords":"","body":"å‰‘æŒ‡ Offer 56 - I. æ•°ç»„ä¸­æ•°å­—å‡ºç°çš„æ¬¡æ•° Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/åç«¯å­˜å‚¨.html":{"url":"ç®€ä»‹/åç«¯å­˜å‚¨.html","title":"åç«¯å­˜å‚¨","keywords":"","body":"åç«¯å­˜å‚¨ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/MySQL.html":{"url":"ç®€ä»‹/MySQL.html","title":"MySQL","keywords":"","body":"MySQL MysqlåŸºç¡€æ¶æ„ MySQL å¯ä»¥åˆ†ä¸º Server å±‚å’Œå­˜å‚¨å¼•æ“å±‚ä¸¤éƒ¨åˆ†ã€‚ Server å±‚åŒ…æ‹¬è¿æ¥å™¨ã€æŸ¥è¯¢ç¼“å­˜ã€åˆ†æå™¨ã€ä¼˜åŒ–å™¨ã€æ‰§è¡Œå™¨ç­‰ã€‚ è€Œå­˜å‚¨å¼•æ“å±‚è´Ÿè´£æ•°æ®çš„å­˜å‚¨å’Œæå–ã€‚å…¶æ¶æ„æ¨¡å¼æ˜¯æ’ä»¶å¼çš„ï¼Œæ”¯æŒ InnoDBã€MyISAMã€Memory ç­‰å¤šä¸ªå­˜å‚¨å¼•æ“ è¿æ¥å™¨:è¿æ¥å™¨è´Ÿè´£è·Ÿå®¢æˆ·ç«¯å»ºç«‹è¿æ¥ã€è·å–æƒé™ã€ç»´æŒå’Œç®¡ç†è¿æ¥ æŸ¥è¯¢ç¼“å­˜ï¼šæ‹¿åˆ°è¯·æ±‚åï¼Œå…ˆåˆ°æŸ¥è¯¢ç¼“å­˜ä¸­çœ‹æ˜¯å¦æœ‰æ•°æ®ï¼Œä¸å»ºè®®ä½¿ç”¨æŸ¥è¯¢ç¼“å­˜ï¼Œå¤±æ•ˆé¢‘ç‡éå¸¸é«˜ï¼Œä¸€ä¸ªæ›´æ–°æ“ä½œå°±ä¼šä½¿æŸ¥è¯¢ç¼“å­˜éƒ½å¤±æ•ˆã€‚ åˆ†æå™¨ï¼šè¯æ³•åˆ†æã€è¯­æ³•åˆ†æã€åˆ¤æ–­sqlè¯­å¥æ˜¯å¦æ­£ç¡®ã€‚ ä¼˜åŒ–å™¨: å­˜åœ¨å¤šä¸ªç´¢å¼•æ—¶ï¼Œå†³å®šä½¿ç”¨å“ªä¸ªç´¢å¼• ï¼Œjoinè¿æ¥é¡ºåºã€‚ æ‰§è¡Œå™¨ï¼š æ‰§è¡Œè¯­å¥ï¼Œåˆ¤æ–­æ˜¯å¦æœ‰æƒé™æŸ¥è¯¢ã€‚ Mysql æ—¥å¿—ç³»ç»Ÿ é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šredo log Mysql WAL(Write-Ahead Logging) æŠ€æœ¯ï¼Œå®ƒçš„å…³é”®ç‚¹å°±æ˜¯å…ˆå†™æ—¥å¿—ï¼Œå†å†™ç£ç›˜ï¼Œå½“æ›´æ–°ä¸€æ¡è®°å½•çš„æ—¶å€™ï¼Œinnodbä¼šå…ˆæŠŠè®°å½•å†™åˆ°redo logé‡Œï¼Œç­‰ç³»ç»Ÿæ¯”è¾ƒç©ºé—²çš„æ—¶å€™å†æŠŠæ•°æ®å†™å…¥ç£ç›˜ã€‚ é‡è¦çš„æ—¥å¿—æ¨¡å—ï¼šbinlog binlog æ˜¯mysql service å±‚å±‚ç»´æŠ¤çš„ä¸€ç§äºŒè¿›åˆ¶æ—¥å¿—ï¼Œä¸innodbå¼•æ“ä¸­çš„redo/undo logæ˜¯å®Œå…¨ä¸åŒçš„æ—¥å¿—ï¼›å…¶ä¸»è¦æ˜¯ç”¨æ¥è®°å½•å¯¹mysqlæ•°æ®æ›´æ–°æˆ–æ½œåœ¨å‘ç”Ÿæ›´æ–°çš„SQLè¯­å¥ï¼Œå¹¶ä»¥\"äº‹åŠ¡\"çš„å½¢å¼ä¿å­˜åœ¨ç£ç›˜ä¸­ï¼› binlogè®°å½•çš„æ˜¯æ‰§è¡Œçš„sqlè¯­å¥ binlog ä¸redo logåŒºåˆ« redo log æ˜¯ InnoDB å¼•æ“ç‰¹æœ‰çš„ï¼›binlog æ˜¯ MySQL çš„ Server å±‚å®ç°çš„ï¼Œæ‰€æœ‰å¼•æ“éƒ½å¯ä»¥ä½¿ç”¨ã€‚ redo log æ˜¯ç‰©ç†æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯â€œåœ¨æŸä¸ªæ•°æ®é¡µä¸Šåšäº†ä»€ä¹ˆä¿®æ”¹â€ï¼›binlog æ˜¯é€»è¾‘æ—¥å¿—ï¼Œè®°å½•çš„æ˜¯è¿™ä¸ªè¯­å¥çš„åŸå§‹é€»è¾‘ï¼Œæ¯”å¦‚â€œç»™ ID=2 è¿™ä¸€è¡Œçš„ c å­—æ®µåŠ  1 â€ã€‚ redo log æ˜¯å¾ªç¯å†™çš„ï¼Œç©ºé—´å›ºå®šä¼šç”¨å®Œï¼›binlog æ˜¯å¯ä»¥è¿½åŠ å†™å…¥çš„ã€‚â€œè¿½åŠ å†™â€æ˜¯æŒ‡ binlog æ–‡ä»¶å†™åˆ°ä¸€å®šå¤§å°åä¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªï¼Œå¹¶ä¸ä¼šè¦†ç›–ä»¥å‰çš„æ—¥å¿—ã€‚ äº‹åŠ¡éš”ç¦» æåˆ°äº‹åŠ¡ï¼Œä½ è‚¯å®šä¼šæƒ³åˆ° ACIDï¼ˆAtomicityã€Consistencyã€Isolationã€Durabilityï¼Œå³åŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼‰ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥è¯´è¯´å…¶ä¸­ Iï¼Œä¹Ÿå°±æ˜¯â€œéš”ç¦»æ€§â€ã€‚ äº‹åŠ¡çš„éš”ç¦»çº§åˆ« 1ã€è¯»æœªæäº¤ï¼ˆREAD-UNCOMMITTEDï¼‰ï¼šä¹Ÿå°±æ˜¯å…è®¸è¯»åˆ°æœªæäº¤çš„å†…å®¹ï¼Œè¿™ç§æƒ…å†µä¸‹æŸ¥è¯¢æ˜¯ä¸ä¼šä½¿ç”¨é”çš„ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰æƒ…å†µã€‚ 2ã€è¯»å·²æäº¤ï¼ˆREAD-COMMITTEDï¼‰ï¼šè¯»å·²æäº¤å°±æ˜¯åªèƒ½è¯»åˆ°å·²ç»æäº¤çš„å†…å®¹ï¼Œå¯ä»¥é¿å…è„è¯»çš„äº§ç”Ÿï¼Œå±äºRDBMSä¸­å¸¸è§çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆæ¯”å¦‚è¯´Oracleå’ŒSQL Serverï¼‰ï¼Œä½†å¦‚æœæƒ³è¦é¿å…ä¸å¯é‡å¤è¯»æˆ–è€…å¹»è¯»ï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨SQLæŸ¥è¯¢çš„æ—¶å€™ç¼–å†™å¸¦åŠ é”çš„SQLè¯­å¥ã€‚ 3ã€å¯é‡å¤è¯»ï¼ˆREPEATABLE-READï¼‰ï¼Œä¿è¯ä¸€ä¸ªäº‹åŠ¡åœ¨ç›¸åŒæŸ¥è¯¢æ¡ä»¶ä¸‹ä¸¤æ¬¡æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥é¿å…ä¸å¯é‡å¤è¯»å’Œè„è¯»ï¼Œä½†æ— æ³•é¿å…å¹»è¯»ã€‚MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«å°±æ˜¯å¯é‡å¤è¯»ã€‚ 4ã€å¯ä¸²è¡ŒåŒ–ï¼ˆSERIALIZABLEï¼‰ï¼Œå°†äº‹åŠ¡è¿›è¡Œä¸²è¡ŒåŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¯ä¸²è¡ŒåŒ–æ˜¯æœ€é«˜çº§åˆ«çš„éš”ç¦»ç­‰çº§ï¼Œå¯ä»¥è§£å†³äº‹åŠ¡è¯»å–ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸æƒ…å†µï¼Œä½†æ˜¯å®ƒç‰ºç‰²äº†ç³»ç»Ÿçš„å¹¶å‘æ€§ã€‚ äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼Œæ¯ä¸ªçº§åˆ«æ˜¯å¦‚ä½•è§£å†³çš„ã€‚ MySQL äº‹åŠ¡éš”ç¦»å…¶å®æ˜¯ä¾é é”æ¥å®ç°çš„.è€Œè¯»æœªæäº¤éš”ç¦»çº§åˆ«æ˜¯ä¸åŠ é”çš„ï¼Œæ‰€ä»¥å®ƒçš„æ€§èƒ½æ˜¯æœ€å¥½çš„ï¼Œæ²¡æœ‰åŠ é”ã€è§£é”å¸¦æ¥çš„æ€§èƒ½å¼€é”€ã€‚ä½†æœ‰åˆ©å°±æœ‰å¼Šï¼Œè¿™åŸºæœ¬ä¸Šå°±ç›¸å½“äºè£¸å¥”å•Šï¼Œæ‰€ä»¥å®ƒè¿è„è¯»çš„é—®é¢˜éƒ½æ²¡åŠæ³•è§£å†³. è¯»æäº¤éš”ç¦»çº§åˆ«å¯ä»¥è§£å†³è„è¯»é—®é¢˜ï¼šä½†ä¼šå­˜åœ¨å¹»è¯»ä¸ä¸å¯é‡å¤è¯»é—®é¢˜ åœ¨åŒä¸€äº‹åŠ¡ä¸­(æœ¬ä¾‹ä¸­çš„äº‹åŠ¡B)ï¼Œäº‹åŠ¡çš„ä¸åŒæ—¶åˆ»åŒæ ·çš„æŸ¥è¯¢æ¡ä»¶ï¼ŒæŸ¥è¯¢å‡ºæ¥çš„è®°å½•å†…å®¹æ˜¯ä¸ä¸€æ ·çš„ï¼Œäº‹åŠ¡Açš„æäº¤å½±å“äº†äº‹åŠ¡Bçš„æŸ¥è¯¢ç»“æœï¼Œè¿™å°±æ˜¯ä¸å¯é‡å¤è¯»ï¼Œä¹Ÿå°±æ˜¯è¯»æäº¤éš”ç¦»çº§åˆ«ã€‚ è¯»æœªæäº¤ï¼šä¸åŠ ä»»ä½•é” ä¸²è¡ŒåŒ–ï¼šè¯»çš„æ—¶å€™åŠ å…±äº«é”ï¼Œä¹Ÿå°±æ˜¯å…¶ä»–äº‹åŠ¡å¯ä»¥å¹¶å‘è¯»ï¼Œä½†æ˜¯ä¸èƒ½å†™ã€‚å†™çš„æ—¶å€™åŠ æ’å®ƒé”ï¼Œå…¶ä»–äº‹åŠ¡ä¸èƒ½å¹¶å‘å†™ä¹Ÿä¸èƒ½å¹¶å‘è¯»ã€‚ å¯é‡å¤è¯»ï¼šä¸ºäº†è§£å†³ä¸å¯é‡å¤è¯»ï¼Œæˆ–è€…ä¸ºäº†å®ç°å¯é‡å¤è¯»ï¼ŒMySQL é‡‡ç”¨äº† MVVC (å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶) çš„æ–¹å¼ã€‚ å¹»è¯»ï¼šè§£å†³å¹»è¯»ä½¿ç”¨çš„æ˜¯é—´éš™é”ï¼ŒMySQL æŠŠè¡Œé”å’Œé—´éš™é”åˆå¹¶åœ¨ä¸€èµ·ï¼Œè§£å†³äº†å¹¶å‘å†™å’Œå¹»è¯»çš„é—®é¢˜ï¼Œè¿™ä¸ªé”å«åš Next-Keyé”ã€‚ è¯»æäº¤è§£å†³äº†è„è¯»é—®é¢˜ï¼Œè¡Œé”è§£å†³äº†å¹¶å‘æ›´æ–°çš„é—®é¢˜ã€‚å¹¶ä¸” MySQL åœ¨å¯é‡å¤è¯»çº§åˆ«è§£å†³äº†å¹»è¯»é—®é¢˜ï¼Œæ˜¯é€šè¿‡è¡Œé”å’Œé—´éš™é”çš„ç»„åˆ Next-Key é”å®ç°çš„ã€‚ æ•°æ®åº“ç´¢å¼• InnoDB çš„ç´¢å¼•æ¨¡å‹ï¼šåœ¨ InnoDB ä¸­ï¼Œè¡¨éƒ½æ˜¯æ ¹æ®ä¸»é”®é¡ºåºä»¥ç´¢å¼•çš„å½¢å¼å­˜æ”¾çš„ï¼Œè¿™ç§å­˜å‚¨æ–¹å¼çš„è¡¨ç§°ä¸ºç´¢å¼•ç»„ç»‡è¡¨ï¼ŒInnoDB ä½¿ç”¨äº† B+ æ ‘ç´¢å¼•æ¨¡å‹ï¼Œæ‰€ä»¥æ•°æ®éƒ½æ˜¯å­˜å‚¨åœ¨ B+ æ ‘ä¸­çš„ã€‚æ¯ä¸€ä¸ªç´¢å¼•åœ¨ InnoDB é‡Œé¢å¯¹åº”ä¸€æ£µ B+ æ ‘ã€‚ åŸºäºä¸»é”®ç´¢å¼•å’Œæ™®é€šç´¢å¼•çš„æŸ¥è¯¢æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ ä¸»é”®ç´¢å¼•ä¹Ÿå°±æ˜¯æ˜¯èšç°‡ç´¢å¼•ï¼Œå¶å­èŠ‚ç‚¹å­˜å‚¨äº†æ•°æ®çš„è¡Œï¼Œæ ¹æ®ä¸»é”®æŸ¥è¯¢ï¼Œç›´æ¥æœç´¢ ID è¿™æ£µ B+ æ ‘å°±æ‹¿åˆ°äº†æ•°æ®ã€‚ æ™®é€šç´¢å¼•æŸ¥è¯¢æ–¹å¼ï¼Œåˆ™éœ€è¦å…ˆæœç´¢ç´¢å¼•æ ‘ï¼Œå¾—åˆ° ä¸»é”®çš„å€¼ï¼Œå†åˆ°ä¸»é”®ç´¢å¼•æ ‘æœç´¢ä¸€æ¬¡ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå›è¡¨ã€‚ é¿å…å›è¡¨æŸ¥è¯¢çš„æ–¹æ³•ï¼šè¦†ç›–ç´¢å¼• æœ€å·¦å‰ç¼€åŸåˆ™ï¼šæœ€å·¦å‰ç¼€å¯ä»¥ç”¨äºåœ¨ç´¢å¼•ä¸­å®šä½è®°å½• å»ºç´¢å¼•çš„å‡ å¤§åŸåˆ™ï¼š1ã€æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ã€mysqlä¸€ç›´å‘å³åŒ¹é…ï¼Œç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢å°±åœæ­¢åŒ¹é…ã€‚2ã€=å’Œinå¯ä»¥ä¹±åº 3ã€å°½é‡é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œä¸ºç´¢å¼• æ…¢æŸ¥è¯¢ä¼˜åŒ–åŸºæœ¬æ­¥éª¤ å…ˆè¿è¡Œçœ‹çœ‹æ˜¯å¦çœŸçš„å¾ˆæ…¢ï¼Œæ³¨æ„è®¾ç½®SQL_NO_CACHE whereæ¡ä»¶å•è¡¨æŸ¥ï¼Œé”å®šæœ€å°è¿”å›è®°å½•è¡¨ explainæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œæ˜¯å¦ä¸1é¢„æœŸä¸€è‡´ï¼ˆä»é”å®šè®°å½•è¾ƒå°‘çš„è¡¨å¼€å§‹æŸ¥è¯¢ï¼‰ order by limit å½¢å¼çš„sqlè¯­å¥è®©æ’åºçš„è¡¨ä¼˜å…ˆæŸ¥ äº†è§£ä¸šåŠ¡æ–¹ä½¿ç”¨åœºæ™¯ åŠ ç´¢å¼•æ—¶å‚ç…§å»ºç´¢å¼•çš„å‡ å¤§åŸåˆ™ è§‚å¯Ÿç»“æœï¼Œä¸ç¬¦åˆé¢„æœŸç»§ç»­ä»0åˆ†æ Mysqlé” Mysqlé”å¯ä»¥åˆ†ä¸º å…¨å±€é”ã€è¡¨çº§é”å’Œè¡Œé”ä¸‰ç±» å…¨å±€é”ï¼šé”çš„æ˜¯æ•´ä¸ªæ•°æ®åº“å®ä¾‹ï¼Œè¿™ä¸ªåº“å¤„äºåªè¯»çŠ¶æ€ï¼Œä»»ä½•æ›´æ–°åˆ é™¤ä¿®æ”¹ã€æ•°æ®å®šä¹‰è¯­å¥éƒ½ä¼šè¢«é˜»å¡ã€‚å…¨å±€é”çš„ä½¿ç”¨åœºæ™¯ä¸»è¦æ˜¯ï¼šåšå…¨åº“é€»è¾‘å¤‡ä»½ã€‚ è¡¨çº§é”ï¼šè¡¨é”çš„è¯­æ³•æ˜¯ lock tables â€¦ read/writeï¼Œä½¿ç”¨unlock tables ä¸»åŠ¨é‡Šæ”¾é”ã€‚ è¡Œé”ï¼šåœ¨ InnoDB äº‹åŠ¡ä¸­ï¼Œè¡Œé”æ˜¯åœ¨éœ€è¦çš„æ—¶å€™æ‰åŠ ä¸Šçš„ï¼Œä½†å¹¶ä¸æ˜¯ä¸éœ€è¦äº†å°±ç«‹åˆ»é‡Šæ”¾ï¼Œè€Œæ˜¯è¦ç­‰åˆ°äº‹åŠ¡ç»“æŸæ—¶æ‰é‡Šæ”¾ã€‚è¿™ä¸ªå°±æ˜¯ä¸¤é˜¶æ®µé”åè®®ã€‚ Mysqlæ™®é€šç´¢å¼•ä¸å”¯ä¸€ç´¢å¼• æ™®é€šç´¢å¼•ï¼ŒæŸ¥åˆ°æ»¡è¶³æ¡ä»¶çš„ç¬¬ä¸€ä¸ªè®°å½•åï¼Œç»§ç»­æŸ¥æ‰¾ä¸‹ä¸€ä¸ªè®°å½•ï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªä¸æ»¡è¶³æ¡ä»¶çš„è®°å½• å”¯ä¸€ç´¢å¼•ï¼Œç”±äºç´¢å¼•å”¯ä¸€æ€§ï¼ŒæŸ¥åˆ°ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„è®°å½•åï¼Œåœæ­¢æ£€ç´¢ ä½†æ˜¯ï¼Œä¸¤è€…çš„æ€§èƒ½å·®è·å¾®ä¹å…¶å¾®ã€‚å› ä¸ºInnoDBæ ¹æ®æ•°æ®é¡µæ¥è¯»å†™çš„ã€‚ æ¦‚å¿µï¼š change buffer å½“éœ€è¦æ›´æ–°ä¸€ä¸ªæ•°æ®é¡µï¼Œå¦‚æœæ•°æ®é¡µåœ¨å†…å­˜ä¸­å°±ç›´æ¥æ›´æ–°ï¼Œå¦‚æœä¸åœ¨å†…å­˜ä¸­ï¼Œåœ¨ä¸å½±å“æ•°æ®ä¸€è‡´æ€§çš„å‰æä¸‹ï¼ŒInnoDBä¼šå°†è¿™äº›æ›´æ–°æ“ä½œç¼“å­˜åœ¨change bufferä¸­ã€‚ä¸‹æ¬¡æŸ¥è¯¢éœ€è¦è®¿é—®è¿™ä¸ªæ•°æ®é¡µçš„æ—¶å€™ï¼Œå°†æ•°æ®é¡µè¯»å…¥å†…å­˜ï¼Œç„¶åæ‰§è¡Œchange bufferä¸­çš„ä¸è¿™ä¸ªé¡µæœ‰å…³çš„æ“ä½œã€‚ å”¯ä¸€ç´¢å¼•çš„æ›´æ–°ä¸èƒ½ä½¿ç”¨change bufferï¼Œchange bufferä½¿ç”¨åœºæ™¯ï¼šå†™å¤šè¯»å°‘åœºæ™¯ï¼Œé€‚ç”¨äºå†™å…¥åä¸ç«‹é©¬åšæŸ¥è¯¢çš„ä¸šåŠ¡åœºæ™¯ å­—ç¬¦ä¸²å­—æ®µåˆ›å»ºç´¢å¼•çš„åœºæ™¯ï¼š ç›´æ¥åˆ›å»ºå®Œæ•´ç´¢å¼•ï¼Œè¿™æ ·å¯èƒ½æ¯”è¾ƒå ç”¨ç©ºé—´ åˆ›å»ºå‰ç¼€ç´¢å¼•ï¼ŒèŠ‚çœç©ºé—´ï¼Œä½†ä¼šå¢åŠ æŸ¥è¯¢æ‰«ææ¬¡æ•°ï¼Œå¹¶ä¸”ä¸èƒ½ä½¿ç”¨è¦†ç›–ç´¢å¼• å€’åºå­˜å‚¨ï¼Œå†åˆ›å»ºå‰ç¼€ç´¢å¼•ï¼Œç”¨äºç»•è¿‡å­—ç¬¦ä¸²æœ¬èº«å‰ç¼€çš„åŒºåˆ†åº¦ä¸å¤Ÿçš„é—®é¢˜ åˆ›å»º hash å­—æ®µç´¢å¼•ï¼ŒæŸ¥è¯¢æ€§èƒ½ç¨³å®šï¼Œæœ‰é¢å¤–çš„å­˜å‚¨å’Œè®¡ç®—æ¶ˆè€—ï¼Œè·Ÿç¬¬ä¸‰ç§æ–¹å¼ä¸€æ ·ï¼Œéƒ½ä¸æ”¯æŒèŒƒå›´æ‰«æã€‚ SQLè¯­å¥æ€§èƒ½åˆ†æ t_modified å­—æ®µæœ‰ç´¢å¼•ï¼Œä»¥ä¸‹æŸ¥è¯¢æ˜¯å¦ç”¨åˆ°äº†ç´¢å¼•ï¼Œç­”æ¡ˆï¼šæ²¡æœ‰ä½¿ç”¨ç´¢å¼•ã€‚ select count(*) from tradelog where month(t_modified)=7; å¦‚æœå¯¹å­—æ®µåšäº†å‡½æ•°è®¡ç®—ï¼Œå°±ç”¨ä¸ä¸Šç´¢å¼•äº†ï¼Œè¿™æ˜¯ MySQL çš„è§„å®šã€‚å¯¹ç´¢å¼•å­—æ®µåšå‡½æ•°æ“ä½œï¼Œå¯èƒ½ä¼šç ´åç´¢å¼•å€¼çš„æœ‰åºæ€§ï¼Œå› æ­¤ä¼˜åŒ–å™¨å°±å†³å®šæ”¾å¼ƒèµ°æ ‘æœç´¢åŠŸèƒ½ã€‚ å‡½æ•°è®¡ç®—ä¸èµ°ç´¢å¼• ä¸ºä»€ä¹ˆæœ‰æ•°æ®ç±»å‹è½¬æ¢ï¼Œå°±éœ€è¦èµ°å…¨ç´¢å¼•æ‰«æã€‚ éšå¼å­—ç¬¦ç¼–ç è½¬æ¢ä¸èµ°ç´¢å¼• Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"MySQL/æ•°æ®åº“äº‹åŠ¡.html":{"url":"MySQL/æ•°æ®åº“äº‹åŠ¡.html","title":"æ•°æ®åº“äº‹åŠ¡","keywords":"","body":"ç®€ä»‹ æ•°æ®åº“äº‹åŠ¡( transaction)æ˜¯è®¿é—®å¹¶å¯èƒ½æ“ä½œå„ç§æ•°æ®é¡¹çš„ä¸€ä¸ªæ•°æ®åº“æ“ä½œåºåˆ—ï¼Œè¿™äº›æ“ä½œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ,è¦ä¹ˆå…¨éƒ¨ä¸æ‰§è¡Œï¼Œæ˜¯ä¸€ä¸ªä¸å¯åˆ†å‰²çš„å·¥ä½œå•ä½ã€‚äº‹åŠ¡ç”±äº‹åŠ¡å¼€å§‹ä¸äº‹åŠ¡ç»“æŸä¹‹é—´æ‰§è¡Œçš„å…¨éƒ¨æ•°æ®åº“æ“ä½œç»„æˆã€‚ äº‹åŠ¡çš„ç‰¹æ€§ï¼šACID Aï¼Œä¹Ÿå°±æ˜¯åŸå­æ€§ï¼ˆAtomicityï¼‰ã€‚åŸå­çš„æ¦‚å¿µå°±æ˜¯ä¸å¯åˆ†å‰²ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸ºç»„æˆç‰©è´¨çš„åŸºæœ¬å•ä½ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬è¿›è¡Œæ•°æ®å¤„ç†æ“ä½œçš„åŸºæœ¬å•ä½ã€‚ Cï¼Œå°±æ˜¯ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰ã€‚ä¸€è‡´æ€§æŒ‡çš„å°±æ˜¯æ•°æ®åº“åœ¨è¿›è¡Œäº‹åŠ¡æ“ä½œåï¼Œä¼šç”±åŸæ¥çš„ä¸€è‡´çŠ¶æ€ï¼Œå˜æˆå¦ä¸€ç§ä¸€è‡´çš„çŠ¶æ€ã€‚ä¹Ÿå°±æ˜¯è¯´å½“äº‹åŠ¡æäº¤åï¼Œæˆ–è€…å½“äº‹åŠ¡å‘ç”Ÿå›æ»šåï¼Œæ•°æ®åº“çš„å®Œæ•´æ€§çº¦æŸä¸èƒ½è¢«ç ´åã€‚ Iï¼Œå°±æ˜¯éš”ç¦»æ€§ï¼ˆIsolationï¼‰ã€‚å®ƒæŒ‡çš„æ˜¯æ¯ä¸ªäº‹åŠ¡éƒ½æ˜¯å½¼æ­¤ç‹¬ç«‹çš„ï¼Œä¸ä¼šå—åˆ°å…¶ä»–äº‹åŠ¡çš„æ‰§è¡Œå½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªäº‹åŠ¡åœ¨æäº¤ä¹‹å‰ï¼Œå¯¹å…¶ä»–äº‹åŠ¡éƒ½æ˜¯ä¸å¯è§çš„ã€‚ Dï¼ŒæŒ‡çš„æ˜¯æŒä¹…æ€§ï¼ˆDurabilityï¼‰ã€‚äº‹åŠ¡æäº¤ä¹‹åå¯¹æ•°æ®çš„ä¿®æ”¹æ˜¯æŒä¹…æ€§çš„ï¼Œå³ä½¿åœ¨ç³»ç»Ÿå‡ºæ•…éšœçš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚ç³»ç»Ÿå´©æºƒæˆ–è€…å­˜å‚¨ä»‹è´¨å‘ç”Ÿæ•…éšœï¼Œæ•°æ®çš„ä¿®æ”¹ä¾ç„¶æ˜¯æœ‰æ•ˆçš„ã€‚å› ä¸ºå½“äº‹åŠ¡å®Œæˆï¼Œæ•°æ®åº“çš„æ—¥å¿—å°±ä¼šè¢«æ›´æ–°ï¼Œè¿™æ—¶å¯ä»¥é€šè¿‡æ—¥å¿—ï¼Œè®©ç³»ç»Ÿæ¢å¤åˆ°æœ€åä¸€æ¬¡æˆåŠŸçš„æ›´æ–°çŠ¶æ€ã€‚ æ•°æ®åº“éš”ç¦»çº§åˆ« äº‹åŠ¡å¹¶å‘å¯èƒ½å­˜åœ¨çš„å¼‚å¸¸æœ‰å“ªäº›ï¼Ÿ 1ã€è„è¯»: è¯»åˆ°äº†å…¶ä»–äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤çš„æ•°æ®ã€‚ ä¾‹å­ï¼šAäº‹åŠ¡è¯»å–Bäº‹åŠ¡å°šæœªæäº¤çš„æ•°æ®ï¼Œæ­¤æ—¶å¦‚æœBäº‹åŠ¡å‘ç”Ÿé”™è¯¯å¹¶æ‰§è¡Œå›æ»šæ“ä½œï¼Œé‚£ä¹ˆAäº‹åŠ¡è¯»å–åˆ°çš„æ•°æ®å°±æ˜¯è„æ•°æ®ã€‚å°±å¥½åƒåŸæœ¬çš„æ•°æ®æ¯”è¾ƒå¹²å‡€ã€çº¯ç²¹ï¼Œæ­¤æ—¶ç”±äºBäº‹åŠ¡æ›´æ”¹äº†å®ƒï¼Œè¿™ä¸ªæ•°æ®å˜å¾—ä¸å†çº¯ç²¹ã€‚è¿™ä¸ªæ—¶å€™Aäº‹åŠ¡ç«‹å³è¯»å–äº†è¿™ä¸ªè„æ•°æ®ï¼Œä½†äº‹åŠ¡Bè‰¯å¿ƒå‘ç°ï¼Œåˆç”¨å›æ»šæŠŠæ•°æ®æ¢å¤æˆåŸæ¥å¹²å‡€ã€çº¯ç²¹çš„æ ·å­ï¼Œè€Œäº‹åŠ¡Aå´ä»€ä¹ˆéƒ½ä¸çŸ¥é“ï¼Œæœ€ç»ˆç»“æœå°±æ˜¯äº‹åŠ¡Aè¯»å–äº†æ­¤æ¬¡çš„è„æ•°æ®ï¼Œç§°ä¸ºè„è¯»ã€‚ 2ã€ä¸¢å¤±ä¿®æ”¹ï¼ˆLost to modifyï¼‰æŒ‡åœ¨ä¸€ä¸ªäº‹åŠ¡è¯»å–ä¸€ä¸ªæ•°æ®æ—¶ï¼Œå¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¹Ÿè®¿é—®äº†è¯¥æ•°æ®ï¼Œé‚£ä¹ˆåœ¨ç¬¬ä¸€ä¸ªäº‹åŠ¡ä¸­ä¿®æ”¹äº†è¿™ä¸ªæ•°æ®åï¼Œç¬¬äºŒä¸ªäº‹åŠ¡ä¹Ÿä¿®æ”¹äº†è¿™ä¸ªæ•°æ®ã€‚è¿™æ ·ç¬¬ä¸€ä¸ªäº‹åŠ¡å†…çš„ä¿®æ”¹ç»“æœå°±è¢«ä¸¢å¤±ï¼Œå› æ­¤ç§°ä¸ºä¸¢å¤±ä¿®æ”¹ã€‚ ä¾‹å¦‚ï¼šäº‹åŠ¡1è¯»å–æŸè¡¨ä¸­çš„æ•°æ®A=20ï¼Œäº‹åŠ¡2ä¹Ÿè¯»å–A=20ï¼Œäº‹åŠ¡1ä¿®æ”¹A=A-1ï¼Œäº‹åŠ¡2ä¹Ÿä¿®æ”¹A=A-1ï¼Œæœ€ç»ˆç»“æœA=19ï¼Œäº‹åŠ¡1çš„ä¿®æ”¹è¢«ä¸¢å¤±ã€‚ 3ã€ä¸å¯é‡å¤è¯»ï¼šå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®å†…å®¹ä¸ä¸€è‡´ ä¾‹å­ï¼šäº‹åŠ¡Aåœ¨æ‰§è¡Œè¯»å–æ“ä½œï¼Œç”±æ•´ä¸ªäº‹åŠ¡Aæ¯”è¾ƒå¤§ï¼Œå‰åè¯»å–åŒä¸€æ¡æ•°æ®éœ€è¦ç»å†å¾ˆé•¿çš„æ—¶é—´ ã€‚è€Œåœ¨äº‹åŠ¡Aç¬¬ä¸€æ¬¡è¯»å–æ•°æ®ï¼Œæ¯”å¦‚æ­¤æ—¶è¯»å–äº†å°æ˜çš„å¹´é¾„ä¸º20å²ï¼Œäº‹åŠ¡Bæ‰§è¡Œæ›´æ”¹æ“ä½œï¼Œå°†å°æ˜çš„å¹´é¾„æ›´æ”¹ä¸º30å²ï¼Œæ­¤æ—¶äº‹åŠ¡Aç¬¬äºŒæ¬¡è¯»å–åˆ°å°æ˜çš„å¹´é¾„æ—¶ï¼Œå‘ç°å…¶å¹´é¾„æ˜¯30å²ï¼Œå’Œä¹‹å‰çš„æ•°æ®ä¸ä¸€æ ·äº†ï¼Œä¹Ÿå°±æ˜¯æ•°æ®ä¸é‡å¤äº†ï¼Œç³»ç»Ÿä¸å¯ä»¥è¯»å–åˆ°é‡å¤çš„æ•°æ®ï¼Œæˆä¸ºä¸å¯é‡å¤è¯»ã€‚ 4ï¼šå¹»è¯»ï¼šå‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®æ€»é‡ä¸ä¸€è‡´ äº‹åŠ¡Aåœ¨æ‰§è¡Œè¯»å–æ“ä½œï¼Œéœ€è¦ä¸¤æ¬¡ç»Ÿè®¡æ•°æ®çš„æ€»é‡ï¼Œå‰ä¸€æ¬¡æŸ¥è¯¢æ•°æ®æ€»é‡åï¼Œæ­¤æ—¶äº‹åŠ¡Bæ‰§è¡Œäº†æ–°å¢æ•°æ®çš„æ“ä½œå¹¶æäº¤åï¼Œè¿™ä¸ªæ—¶å€™äº‹åŠ¡Aè¯»å–çš„æ•°æ®æ€»é‡å’Œä¹‹å‰ç»Ÿè®¡çš„ä¸ä¸€æ ·ï¼Œå°±åƒäº§ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œå¹³ç™½æ— æ•…çš„å¤šäº†å‡ æ¡æ•°æ®ï¼Œæˆä¸ºå¹»è¯»ã€‚ ä¸å¯é‡å¤åº¦å’Œå¹»è¯»åŒºåˆ«ï¼š ä¸å¯é‡å¤è¯»é’ˆå¯¹çš„æ˜¯ä¿®æ”¹æ“ä½œï¼Œå¹»è¯»é’ˆå¯¹çš„äºæ–°å¢æˆ–è€…åˆ é™¤æ“ä½œã€‚ äº‹åŠ¡çš„å››ç§éš”ç¦»çº§åˆ« 1ã€è¯»æœªæäº¤ï¼ˆREAD-UNCOMMITTEDï¼‰ï¼šä¹Ÿå°±æ˜¯å…è®¸è¯»åˆ°æœªæäº¤çš„å†…å®¹ï¼Œè¿™ç§æƒ…å†µä¸‹æŸ¥è¯¢æ˜¯ä¸ä¼šä½¿ç”¨é”çš„ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰æƒ…å†µã€‚ 2ã€è¯»å·²æäº¤ï¼ˆREAD-COMMITTEDï¼‰ï¼šè¯»å·²æäº¤å°±æ˜¯åªèƒ½è¯»åˆ°å·²ç»æäº¤çš„å†…å®¹ï¼Œå¯ä»¥é¿å…è„è¯»çš„äº§ç”Ÿï¼Œå±äºRDBMSä¸­å¸¸è§çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆæ¯”å¦‚è¯´Oracleå’ŒSQL Serverï¼‰ï¼Œä½†å¦‚æœæƒ³è¦é¿å…ä¸å¯é‡å¤è¯»æˆ–è€…å¹»è¯»ï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨SQLæŸ¥è¯¢çš„æ—¶å€™ç¼–å†™å¸¦åŠ é”çš„SQLè¯­å¥ã€‚ 3ã€å¯é‡å¤è¯»ï¼ˆREPEATABLE-READï¼‰ï¼Œä¿è¯ä¸€ä¸ªäº‹åŠ¡åœ¨ç›¸åŒæŸ¥è¯¢æ¡ä»¶ä¸‹ä¸¤æ¬¡æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥é¿å…ä¸å¯é‡å¤è¯»å’Œè„è¯»ï¼Œä½†æ— æ³•é¿å…å¹»è¯»ã€‚MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«å°±æ˜¯å¯é‡å¤è¯»ã€‚ 4ã€å¯ä¸²è¡ŒåŒ–ï¼ˆSERIALIZABLEï¼‰ï¼Œå°†äº‹åŠ¡è¿›è¡Œä¸²è¡ŒåŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¯ä¸²è¡ŒåŒ–æ˜¯æœ€é«˜çº§åˆ«çš„éš”ç¦»ç­‰çº§ï¼Œå¯ä»¥è§£å†³äº‹åŠ¡è¯»å–ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸æƒ…å†µï¼Œä½†æ˜¯å®ƒç‰ºç‰²äº†ç³»ç»Ÿçš„å¹¶å‘æ€§ã€‚ äº‹ç‰©éš”ç¦»çš„å®ç° åœ¨ MySQL ä¸­ï¼Œå®é™…ä¸Šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ“ä½œã€‚è®°å½•ä¸Šçš„æœ€æ–°å€¼ï¼Œé€šè¿‡å›æ»šæ“ä½œï¼Œéƒ½å¯ä»¥å¾—åˆ°å‰ä¸€ä¸ªçŠ¶æ€çš„å€¼ã€‚ å‡è®¾ä¸€ä¸ªå€¼ä» 1 è¢«æŒ‰é¡ºåºæ”¹æˆäº† 2ã€3ã€4ï¼Œåœ¨å›æ»šæ—¥å¿—é‡Œé¢å°±ä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„è®°å½•ã€‚ äº‹åŠ¡éš”ç¦»çš„å®ç°ï¼šæ¯æ¡è®°å½•åœ¨æ›´æ–°çš„æ—¶å€™éƒ½ä¼šåŒæ—¶è®°å½•ä¸€æ¡å›æ»šæ“ä½œã€‚åŒä¸€æ¡è®°å½•åœ¨ç³»ç»Ÿä¸­å¯ä»¥å­˜åœ¨å¤šä¸ªç‰ˆæœ¬ï¼Œè¿™å°±æ˜¯æ•°æ®åº“çš„å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰ äº‹åŠ¡å¯åŠ¨æ–¹å¼ï¼šä¸€ã€æ˜¾å¼å¯åŠ¨äº‹åŠ¡è¯­å¥ï¼Œbeginæˆ–è€…start transaction,æäº¤commitï¼Œå›æ»šrollbackï¼›äºŒã€set autocommit=0ï¼Œè¯¥å‘½ä»¤ä¼šæŠŠè¿™ä¸ªçº¿ç¨‹çš„è‡ªåŠ¨æäº¤å…³æ‰ã€‚è¿™æ ·åªè¦æ‰§è¡Œä¸€ä¸ªselectè¯­å¥ï¼Œäº‹åŠ¡å°±å¯åŠ¨ï¼Œå¹¶ä¸ä¼šè‡ªåŠ¨æäº¤ï¼Œç›´åˆ°ä¸»åŠ¨æ‰§è¡Œcommitæˆ–rollbackæˆ–æ–­å¼€è¿æ¥ã€‚ å¸¸è§æ•°æ®åº“äº‹ç‰©é¢è¯•é¢˜ ä»‹ç»ä¸€ä¸‹æ•°æ®åº“çš„äº‹åŠ¡ Mysql æœ‰å“ªäº›éš”ç¦»çº§åˆ« Mysql ä»€ä¹ˆæƒ…å†µä¼šé€ æˆè„è¯»ã€å¯é‡å¤è¯»ã€å¹»è¯»ï¼Ÿå¦‚ä½•è§£å†³ã€‚ Mysql åœ¨å¯é‡å¤è¯»çš„éš”ç¦»çº§åˆ«ä¸‹ä¼šä¸ä¼šæœ‰å¹»è¯»çš„æƒ…å†µï¼Œä¸ºä»€ä¹ˆï¼Ÿ Mysql äº‹åŠ¡æ˜¯å¦‚ä½•å®ç°çš„ã€‚ æ•°æ®åº“MVCC Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"MySQL/æ•°æ®åº“ç´¢å¼•.html":{"url":"MySQL/æ•°æ®åº“ç´¢å¼•.html","title":"æ•°æ®åº“ç´¢å¼•","keywords":"","body":"æ•°æ®åº“ç´¢å¼• Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/Redis.html":{"url":"ç®€ä»‹/Redis.html","title":"Redis","keywords":"","body":"Redis Redisåº•å±‚æ•°æ®ç»“æ„ä¸å®ç° Redisåº•å±‚æ•°æ®ç»“æ„ä¸€å…±æœ‰å…­ç§ï¼Œåˆ†åˆ«æ˜¯åŠ¨æ€å­—ç¬¦ä¸²ã€åŒå‘é“¾è¡¨ã€å‹ç¼©åˆ—è¡¨ã€å“ˆå¸Œè¡¨ã€è·³è¡¨å’Œæ•´å½¢åˆ—è¡¨ã€‚ ä¸ºäº†å®ç°ä»é”®åˆ°å€¼çš„å¿«é€Ÿè®¿é—®ï¼ŒRedisçš„é”®å’Œå€¼ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥ä¿å­˜,å“ˆå¸Œæ¡¶ä¸­çš„entryå…ƒç´ ä¸­ä¿å­˜äº†keyå’ŒvalueæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘äº†å®é™…çš„é”®å’Œå€¼ã€‚ æ½œåœ¨çš„é£é™©ç‚¹ ä¸ºä»€ä¹ˆå“ˆå¸Œè¡¨æ“ä½œå˜æ…¢äº†ï¼Ÿ åŸå› ï¼šå“ˆå¸Œè¡¨çš„å†²çªé—®é¢˜å’Œrehashæ“ä½œå¯èƒ½å¸¦æ¥çš„æ“ä½œé˜»å¡ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/åº•å±‚æ•°æ®ç»“æ„ä¸å®ç°.html":{"url":"Redis/åº•å±‚æ•°æ®ç»“æ„ä¸å®ç°.html","title":"1ã€Redisåº•å±‚æ•°æ®ç»“æ„ä¸å®ç°","keywords":"","body":"Redisåº•å±‚æ•°æ®ç»“æ„ä¸å®ç° Redisåº•å±‚æ•°æ®ç»“æ„ä¸€å…±æœ‰å…­ç§ï¼Œåˆ†åˆ«æ˜¯åŠ¨æ€å­—ç¬¦ä¸²ã€åŒå‘é“¾è¡¨ã€å‹ç¼©åˆ—è¡¨ã€å“ˆå¸Œè¡¨ã€è·³è¡¨å’Œæ•´å½¢åˆ—è¡¨ã€‚ ä¸ºäº†å®ç°ä»é”®åˆ°å€¼çš„å¿«é€Ÿè®¿é—®ï¼ŒRedisçš„é”®å’Œå€¼ä½¿ç”¨ä¸€ä¸ªå“ˆå¸Œè¡¨æ¥ä¿å­˜,å“ˆå¸Œæ¡¶ä¸­çš„entryå…ƒç´ ä¸­ä¿å­˜äº†keyå’ŒvalueæŒ‡é’ˆï¼Œåˆ†åˆ«æŒ‡å‘äº†å®é™…çš„é”®å’Œå€¼ã€‚ æ½œåœ¨çš„é£é™©ç‚¹ ä¸ºä»€ä¹ˆå“ˆå¸Œè¡¨æ“ä½œå˜æ…¢äº†ï¼Ÿ åŸå› ï¼šå“ˆå¸Œè¡¨çš„å†²çªé—®é¢˜å’Œrehashæ“ä½œå¯èƒ½å¸¦æ¥çš„æ“ä½œé˜»å¡ã€‚ Redisè§£å†³å“ˆå¸Œå†²çªæ–¹å¼ï¼šé“¾å¼å“ˆå¸Œï¼Œå­˜åœ¨çš„é—®é¢˜ï¼Œå“ˆå¸Œè¡¨æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œå“ˆå¸Œå†²çªè¶Šæ¥è¶Šå¤šï¼Œé“¾è¡¨é•¿åº¦è¿‡é•¿ï¼ŒæŸ¥è¯¢è€—æ—¶è¿‡é•¿ï¼ŒæŸ¥è¯¢æ•ˆç‡å˜ä½ã€‚ è§£å†³åŠæ³•ï¼šRediså¯¹å“ˆå¸Œè¡¨åšrehashæ“ä½œï¼Œrehashä¹Ÿå°±æ˜¯å¢åŠ ç°åœ¨çš„å“ˆå¸Œæ¡¶æ•°é‡ï¼Œåˆ†æ•£å…ƒç´ ï¼Œå‡å°‘å†²çªï¼Œå‡å°‘é“¾è¡¨é•¿åº¦ã€‚ åŸå§‹æ–¹æ³•ï¼šé»˜è®¤ä¿å­˜æ•°æ®åˆ°å“ˆå¸Œè¡¨1ï¼Œç»™å“ˆå¸Œè¡¨2åˆ†é…æ›´å¤§çš„ç©ºé—´ï¼Œå°†å“ˆå¸Œè¡¨1çš„æ•°æ®é‡æ–°æ˜ å°„æ‹·è´åˆ°å“ˆå¸Œè¡¨2ï¼Œé‡Šæ”¾å“ˆå¸Œè¡¨1çš„ç©ºé—´ï¼Œä¼šå­˜åœ¨çš„é—®é¢˜ï¼šå¤§é‡çš„æ•°æ®æ‹·è´ï¼Œé€ æˆredisçº¿ç¨‹é˜»å¡ã€‚ æ¸è¿›å¼å“ˆå¸Œ ç¬¬äºŒæ­¥æ‹·è´æ•°æ®æ—¶ï¼ŒRedisä»æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Œæ¯å¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œä»å“ˆå¸Œè¡¨1ä¸­ç¬¬ä¸€ä¸ªç´¢å¼•çš„ä½ç½®å¼€å§‹ï¼Œå°†entryæ‹·è´åˆ°å“ˆå¸Œè¡¨2ä¸­ï¼Œä¸‹æ¬¡è¯·æ±‚å†æŠŠç´¢å¼•ä¸º2çš„æ•°æ®æ‹·è´è¿‡å»ï¼Œç›´åˆ°å…¨éƒ¨æ‹·è´å®Œæ¯•ï¼Œç´¢å¼•ç½®ä¸º-1ç»“æŸï¼Œåˆ†æ‘Šè€—æ—¶ã€‚ é›†åˆæ•°æ®çš„æ“ä½œæ•ˆç‡ æŸ¥æ‰¾ä¸€ä¸ªé›†åˆç±»å‹çš„å€¼ï¼Œç¬¬ä¸€æ­¥é€šè¿‡å…¨å±€å“ˆå¸Œè¡¨æ‰¾åˆ°å“ˆå¸Œæ¡¶çš„ä½ç½®ï¼Œç¬¬äºŒæ­¥åœ¨é›†åˆä¸­å†è¿›è¡Œå¢åˆ æ”¹æŸ¥ã€‚ æ•´æ•°æ•°ç»„(O(n))ã€åŒå‘é“¾è¡¨(O(n))ã€å“ˆå¸Œè¡¨O(1)éƒ½æ¯”è¾ƒå¸¸è§ï¼Œå‹ç¼©åˆ—è¡¨(O(n))å’Œè·³è¡¨(O(logN))ä¸å¸¸è§ã€‚ å‹ç¼©åˆ—è¡¨ è·³è¡¨ è·³è¡¨ç›¸å½“äºé“¾è¡¨çš„äºŒåˆ†æ³•ï¼Œé€šè¿‡å¢åŠ å¤šçº§ç´¢å¼•çš„æ–¹å¼ï¼Œé€šè¿‡ç´¢å¼•ä½ç½®çš„è·³è½¬å®ç°æ•°æ®çš„å¿«é€Ÿå®šä½ã€‚ ä¸åŒæ“ä½œçš„å¤æ‚åº¦ï¼Œå•å…ƒç´ æ“ä½œæŒ‡æ¯ä¸€ç§é›†åˆç±»å‹å¯¹å•ä¸ªæ•°æ®å®ç°å¢åˆ æ”¹æŸ¥æ“ä½œï¼Œæ¯”å¦‚Hashç±»å‹çš„HGETã€HSETã€HDELï¼ŒèŒƒå›´æ“ä½œã€æ¯”å¦‚HGETALLã€LRANGEã€ZRANGEç­‰ï¼Œåº”å½“å°½é‡é¿å…å…¨é‡æŸ¥è¯¢è¯­å¥æ“ä½œï¼Œå­˜åœ¨Reidsé˜»å¡é£é™©ã€‚ å¦‚æœé›†åˆç±»å‹é‡‡ç”¨æ•´æ•°æ•°ç»„ã€å‹ç¼©åˆ—è¡¨ã€åŒå‘é“¾è¡¨ä¿å­˜æ•°æ®ï¼Œç»Ÿè®¡å…ƒç´ ä¸ªæ•°çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1)ã€‚å»ºè®®ä½¿ç”¨SCANå‘½ä»¤ å‹ç¼©åˆ—è¡¨å’ŒåŒå‘é“¾è¡¨ä¼šè®°å½•å¤´å°¾çš„åç§»é‡ï¼ŒLPOPã€RPOPã€LPUSHã€RPUSHç­‰æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸ºO(1); æ€»ç»“ 1ã€æ•´æ•°æ•°ç»„å’Œå‹ç¼©åˆ—è¡¨åœ¨æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦æ–¹é¢æ²¡æœ‰å¤ªå¤§ä¼˜åŠ¿ï¼Œä¸ºä»€ä¹ˆRedisè¿˜æŠŠä»–ä»¬å½“ä½œåº•å±‚æ•°æ®ç»“æ„å‘¢ã€‚ ç­”ï¼šRedisä¹‹æ‰€ä»¥ä½¿ç”¨ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œå…¶å®æ˜¯åœ¨æ€§èƒ½ä¸å†…å­˜ä½¿ç”¨æ•ˆç‡ä¹‹é—´è¿›è¡Œå¹³è¡¡ã€‚ æ•´æ•°æ®æ•°ç»„å’Œå‹ç¼©åˆ—è¡¨éƒ½æ˜¯åœ¨å†…å­˜ä¸­åˆ†é…ä¸€å—è¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œä¸éœ€è¦é¢å¤–çš„æŒ‡é’ˆå°†æ•°æ®ä¸²æ¥èµ·æ¥ï¼Œé¿å…æŒ‡é’ˆå¸¦æ¥çš„é¢å¤–ç©ºé—´æ¶ˆè€—ï¼Œå†…å­˜å¸ƒå±€éå¸¸èŠ‚çœç©ºé—´ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Redisé«˜æ€§èƒ½IOæ¨¡å‹.html":{"url":"Redis/Redisé«˜æ€§èƒ½IOæ¨¡å‹.html","title":"2ã€Redisé«˜æ€§èƒ½IOæ¨¡å‹","keywords":"","body":"Redisé«˜æ€§èƒ½IOæ¨¡å‹ Redisä¸ºä»€ä¹ˆç”¨å•çº¿ç¨‹ï¼ŒRedisä¸ºä»€ä¹ˆé‚£ä¹ˆå¿«ï¼Ÿ ä½¿ç”¨å•çº¿ç¨‹åŸå› ï¼šå¤šçº¿ç¨‹å¼€é”€å¤§ï¼Œæ¶‰åŠåˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸ºä¿è¯å…±äº«èµ„æºçš„æ­£ç¡®æ€§ï¼Œéœ€è¦é¢å¤–çš„é”æœºåˆ¶è¿›è¡Œä¿éšœï¼Œå¸¦æ¥äº†é¢å¤–çš„å¼€é”€ï¼Œè¿™å°±æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹é¢ä¸´çš„å…±äº«èµ„æºå¹¶å‘è®¿é—®æ§åˆ¶é—®é¢˜ï¼Œä¸ºäº†é¿å…è¿™äº›é—®é¢˜ï¼ŒRedisç›´æ¥é‡‡ç”¨å•çº¿ç¨‹æ¨¡å¼ã€‚ Rediså¿«çš„åŸå› ï¼š å•çº¿ç¨‹ï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”ï¼Œå…±äº«èµ„æºå¹¶å‘æ§åˆ¶å¼€é”€ Rediså¤§éƒ¨åˆ†æ“ä½œåœ¨å†…å­˜ä¸­å®Œæˆçš„ é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€å“ˆå¸Œè¡¨ï¼Œåº•å±‚æ•°æ®ç»“æ„é«˜æ•ˆï¼Œå¦‚ä½¿ç”¨å“ˆå¸Œè¡¨å’Œè·³è¡¨ã€‚ å¤šè·¯å¤ç”¨æœºåˆ¶çš„IOæ¨¡å‹ åŸºäºå¤šè·¯å¤ç”¨çš„é«˜æ€§èƒ½I/Oæ¨¡å‹ ä»€ä¹ˆæ˜¯IOå¤šè·¯å¤ç”¨ I/Oå¤šè·¯å¤ç”¨ï¼ˆmultiplexingï¼‰çš„æœ¬è´¨æ˜¯é€šè¿‡ä¸€ç§æœºåˆ¶ï¼ˆç³»ç»Ÿå†…æ ¸ç¼“å†²I/Oæ•°æ®ï¼‰ï¼Œè®©å•ä¸ªè¿›ç¨‹å¯ä»¥ç›‘è§†å¤šä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œä¸€æ—¦æŸä¸ªæè¿°ç¬¦å°±ç»ªï¼ˆä¸€èˆ¬æ˜¯è¯»å°±ç»ªæˆ–å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”çš„è¯»å†™æ“ä½œ Linuxä¸­çš„IOå¤šè·¯å¤ç”¨æœºåˆ¶æ˜¯æŒ‡ä¸€ä¸ªçº¿ç¨‹å¤„ç†å¤šä¸ªIOæµï¼Œå°±æ˜¯æˆ‘ä»¬ç»å¸¸å¬åˆ°çš„select/epollæœºåˆ¶,ç®€å•æ¥è¯´ï¼Œå°±æ˜¯Redisåªè¿è¡Œå•çº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œè¯¥æœºåˆ¶å…è®¸å†…æ ¸ä¸­ï¼ŒåŒæ—¶å­˜åœ¨å¤šä¸ªç›‘å¬å¥—æ¥å­—å’Œå·²è¿æ¥å¥—æ¥å­—ã€‚å†…æ ¸ä¼šä¸€ç›´ç›‘å¬ è¿™äº›å¥—æ¥å­—ä¸Šçš„è¿æ¥è¯·æ±‚ï¼Œæˆ–æ•°æ®è¯·æ±‚ï¼Œä¸€æ—¦æœ‰è¯·æ±‚åˆ°è¾¾ï¼Œå°±ä¼šäº¤ç»™Redisçº¿ç¨‹å¤„ç†ï¼Œå°±å®ç°äº†ä¸€ä¸ªRedisçº¿ç¨‹å¤„ç†å¤šä¸ªIOæµçš„æ•ˆæœã€‚ åŸºäºRediså¤šè·¯å¤ç”¨çš„IOæ¨¡å‹ select/epollæä¾›åŸºäºäº‹ä»¶çš„å›è°ƒæœºåˆ¶ï¼Œäº‹ä»¶æ”¾åœ¨äº‹ä»¶é˜Ÿåˆ—é‡Œï¼ŒRediså•çº¿ç¨‹ä¸æ–­å¤„ç†äº‹ä»¶é˜Ÿåˆ—ï¼Œé¿å…è½®è¯¢æµªè´¹CPUèµ„æºã€‚ å°ç»“ Rediså•çº¿ç¨‹æ˜¯æŒ‡å®ƒå¯¹ç½‘ç»œIOå’Œæ•°æ®è¯»å†™çš„æ“ä½œé‡‡ç”¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œé‡‡ç”¨å•çº¿ç¨‹çš„ä¸€ä¸ªæ ¸å¿ƒåŸå› æ˜¯é¿å…å¤šçº¿ç¨‹å¼€å‘çš„å¹¶å‘æ§åˆ¶é—®é¢˜ã€‚å•çº¿ç¨‹çš„Redisé«˜æ€§èƒ½çš„åŸå› è·Ÿå¤šè·¯å¤ç”¨çš„IOæ¨¡å‹å¯†åˆ‡ç›¸å…³ï¼Œå› ä¸ºè¿™é¿å…äº†accept()å’Œsend()/recv()æ½œåœ¨çš„ç½‘ç»œé˜»å¡æ“ä½œã€‚ æ€»ç»“ 1ã€åœ¨RedisåŸºæœ¬IOæ¨¡å‹ä¸­ï¼Œä½ è§‰å¾—è¿˜æ½œåœ¨å“ªäº›æ€§èƒ½ç“¶é¢ˆã€‚ ä¸»è¦æ˜¯é˜»å¡æ“ä½œå¯¹Rediså•çº¿ç¨‹çš„æ€§èƒ½å½±å“ï¼Œæ¯”å¦‚ä¸»çº¿ç¨‹åœ¨æ‰§è¡Œæ“ä½œï¼Œä»»ä½•è€—æ—¶çš„æ“ä½œï¼Œæ¯”å¦‚bigKeyï¼Œå…¨é‡è¿”å›ç­‰æ“ä½œ(å¼•å…¥çš„scanæ“ä½œå¯ä»¥é¿å…)ï¼Œéƒ½æ˜¯æ½œåœ¨æ€§èƒ½ç“¶é¢ˆã€‚ 2ã€Redisä¸ºä»€ä¹ˆæ˜¯å•çº¿ç¨‹çš„ï¼ŒRedisä¸ºä»€ä¹ˆè¿™ä¹ˆå¿«ã€‚ ä½¿ç”¨å•çº¿ç¨‹åŸå› ï¼šå¤šçº¿ç¨‹å¼€é”€å¤§ï¼Œæ¶‰åŠåˆ°ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œä¸ºä¿è¯å…±äº«èµ„æºçš„æ­£ç¡®æ€§ï¼Œéœ€è¦é¢å¤–çš„é”æœºåˆ¶è¿›è¡Œä¿éšœï¼Œå¸¦æ¥äº†é¢å¤–çš„å¼€é”€ï¼Œè¿™å°±æ˜¯å¤šçº¿ç¨‹ç¼–ç¨‹é¢ä¸´çš„å…±äº«èµ„æºå¹¶å‘è®¿é—®æ§åˆ¶é—®é¢˜ï¼Œä¸ºäº†é¿å…è¿™äº›é—®é¢˜ï¼ŒRedisç›´æ¥é‡‡ç”¨å•çº¿ç¨‹æ¨¡å¼ã€‚ Rediså¿«çš„åŸå› ï¼š å•çº¿ç¨‹ï¼Œé¿å…äº†å¤šçº¿ç¨‹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”ï¼Œå…±äº«èµ„æºå¹¶å‘æ§åˆ¶å¼€é”€ Rediså¤§éƒ¨åˆ†æ“ä½œåœ¨å†…å­˜ä¸­å®Œæˆçš„ é«˜æ•ˆçš„æ•°æ®ç»“æ„ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€å“ˆå¸Œè¡¨ï¼Œåº•å±‚æ•°æ®ç»“æ„é«˜æ•ˆï¼Œå¦‚ä½¿ç”¨å“ˆå¸Œè¡¨å’Œè·³è¡¨ã€‚ å¤šè·¯å¤ç”¨æœºåˆ¶çš„IOæ¨¡å‹ 3ã€ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/AOFæ—¥å¿—.html":{"url":"Redis/AOFæ—¥å¿—.html","title":"3ã€AOFæ—¥å¿—","keywords":"","body":"AOFæ—¥å¿— Rediså¦‚ä½•å®ç°æ•°æ®æŒä¹…åŒ–ï¼ŒRedisæœåŠ¡å™¨å®•æœºï¼Œå¦‚ä½•æ¢å¤æ•°æ® Redisçš„æŒä¹…åŒ–ä¸»è¦æœ‰ä¸¤å¤§æœºåˆ¶ï¼Œå³AOFæ—¥å¿—å’ŒRDBå¿«ç…§ AOFæ—¥å¿—ä¸æ•°æ®åº“æ—¥å¿—ç›¸åï¼Œå®ƒæ˜¯å†™åæ—¥å¿—ï¼Œå³Rediså…ˆæ‰§è¡Œå‘½ä»¤ï¼ŒæŠŠæ•°æ®å†™å…¥å†…å­˜ï¼Œç„¶åæ‰è®°å½•æ—¥å¿—ã€‚ä¼ ç»Ÿæ•°æ®åº“æ—¥å¿—ï¼Œå¦‚redo log ,è®°å½•çš„æ˜¯ä¿®æ”¹åçš„æ•°æ®ï¼ŒAOFè®°å½•çš„æ˜¯Redis æ”¶åˆ°çš„æ¯æ¡å‘½ä»¤ã€‚ å¥½å¤„ï¼šåªæœ‰å‘½ä»¤æ‰§è¡ŒæˆåŠŸæ‰è®°å½•æ—¥å¿—ï¼Œé¿å…å‡ºç°è®°å½•é”™è¯¯çš„æ—¥å¿—ï¼Œå‘½ä»¤æ‰§è¡Œåæ‰è®°å½•æ—¥å¿—ï¼Œæ‰€ä»¥ä¸ä¼šé˜»å¡å½“å‰çš„å†™æ“ä½œã€‚ AOFæ—¥å¿—æ½œåœ¨çš„ä¸¤ä¸ªé£é™©ç‚¹ æ‰§è¡Œå®Œå‘½ä»¤åï¼Œæ²¡æ¥å¾—åŠè®°å½•æ—¥å¿—ï¼ŒæœåŠ¡å™¨å®•æœºäº†ï¼Œå°±æ— æ³•ç”¨æ—¥å¿—è¿›è¡Œæ¢å¤äº† AOFè™½ç„¶é¿å…äº†å½“å‰å†™æ“ä½œï¼Œä½†å¯èƒ½ä¼šç»™ä¸‹ä¸€ä¸ªæ“ä½œå¸¦æ¥é˜»å¡é£é™©ï¼Œå› ä¸ºAOFåœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œæ—¥å¿—æ–‡ä»¶å†™ç£ç›˜çš„æ…¢å¯èƒ½ä¼šå¯¼è‡´åç»­æ“ä½œæ— æ³•æ‰§è¡Œã€‚ é’ˆå¯¹æ”¹é—®é¢˜çš„è§£å†³åŠæ³• AOFæ—¥å¿—çš„ä¸‰ç§å†™å›ç­–ç•¥ Always åŒæ­¥å†™å›ï¼Œæ¯ä¸ªå‘½ä»¤æ‰§è¡Œå®Œï¼Œç«‹é©¬åŒæ­¥çš„å°†æ—¥å¿—å†™å›ç£ç›˜ã€‚ EverySec æ¯ç§’å†™å›ï¼Œæ¯ä¸ªå‘½ä»¤æ‰§è¡Œå®Œï¼Œå…ˆæŠŠæ—¥å¿—å†™åˆ°AOFæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºï¼Œæ¯éš”ä¸€ç§’æŠŠç¼“å†²åŒºçš„å†…å®¹å†™å…¥ç£ç›˜ã€‚ No æ“ä½œç³»ç»Ÿæ§åˆ¶çš„å†™å›ï¼Œæ¯ä¸ªå‘½ä»¤æ‰§è¡Œå®Œï¼Œå…ˆæŠŠæ—¥å¿—å†™åˆ°AOFæ–‡ä»¶çš„å†…å­˜ç¼“å†²åŒºï¼Œç”±æ“ä½œç³»ç»Ÿå†³å®šä½•æ—¶å†™å…¥ç£ç›˜ã€‚ ä¸‰ç§å†™å›ç­–ç•¥çš„ä¼˜ç¼ºç‚¹ã€‚ é«˜æ€§èƒ½é€‰Noç­–ç•¥ã€é«˜å¯é é€‰Alwaysç­–ç•¥ã€æŠ˜ä¸­é€‰æ¯ç§’å†™å›ç­–ç•¥ã€‚ ä»ç„¶å­˜åœ¨çš„é£é™©ç‚¹ï¼ŒAOFæ–‡ä»¶è¿‡å¤§å¸¦æ¥çš„æ€§èƒ½é—®é¢˜ã€‚ æ–‡ä»¶ç³»ç»Ÿæœ¬èº«å¯¹æ–‡ä»¶å¤§å°çš„é™åˆ¶ï¼Œæ— æ³•ä¿å­˜è¿‡å¤§æ–‡ä»¶ æ–‡ä»¶å¤ªå¤§ï¼Œè¿½åŠ å‘½ä»¤æ•ˆç‡ä½ä¸‹ã€‚ å‘ç”Ÿå®•æœºï¼Œæ—¥å¿—æ–‡ä»¶è¿‡å¤§ï¼Œæ¢å¤æ—¶é—´é•¿ï¼Œå½±å“Redisæ­£å¸¸ä½¿ç”¨ AOFæ—¥å¿—æ–‡ä»¶è¿‡å¤§è§£å†³åŠæ³•ï¼šAOFæ—¥å¿—é‡å†™ æ—¥å¿—é‡å†™ï¼Œå°±æ˜¯å°†Rediså¤šæ¡å‘½ä¸­åˆå¹¶ä¸ºä¸€æ¡å‘½ä¸­ï¼Œå¿½ç•¥ä¸­é—´è¿‡ç¨‹ï¼Œä¿è¯æœ€ç»ˆç»“æœçš„ä¸€è‡´æ€§ã€‚åœ¨æ—¥å¿—æ¢å¤æ—¶ï¼Œåªè¦æ‰§è¡Œè¿™æ¡å‘½ä»¤ï¼Œå°±å¯ä»¥æ¢å¤ã€‚ AOFæ—¥å¿—é‡å†™ä¼šé˜»å¡å—ï¼Ÿ å’ŒAOFæ—¥å¿—ç”±ä¸»çº¿ç¨‹å†™å›ä¸åŒï¼ŒAOFæ—¥å¿—é‡å†™æ˜¯ç”±åå°çº¿ç¨‹bgrewriteaofæ¥å®Œæˆçš„ï¼Œæ˜¯ä¸ºäº†é¿å…é˜»å¡ä¸»çº¿ç¨‹ã€‚ æ—¥å¿—é‡å†™è¿‡ç¨‹ï¼š ä¸€å¤„æ‹·è´ï¼š ä¸»çº¿ç¨‹forkå‡ºåå°å­çº¿ç¨‹åï¼Œä¸»çº¿ç¨‹å†…å­˜æ‹·è´ä¸€ä»½ç»™å­çº¿ç¨‹ï¼Œå­çº¿ç¨‹å°†æ‹·è´çš„æ•°æ®é‡å†™å…¥æ—¥å¿—ã€‚ ä¸¤å¤„æ—¥å¿—ï¼š æ­£åœ¨ä½¿ç”¨çš„AOFæ—¥å¿—ä¸AOFé‡å†™æ—¥å¿— é‡å†™æ—¥å¿—è¿‡ç¨‹ æ€»ç»“ 1ã€ AOFæ—¥å¿—é‡å†™è¿‡ç¨‹ä¸­æ½œåœ¨çš„é£é™©ç‚¹ã€‚ é‡å†™æ—¶ï¼Œä¸»çº¿ç¨‹ä¼šforkä¸€ä¸ªå­çº¿ç¨‹è¿›è¡Œå¤„ç†ï¼Œforkå­çº¿ç¨‹å¯èƒ½å­˜åœ¨é˜»å¡ä¸»çº¿ç¨‹çš„é£é™©ã€‚ è¯»å†™æ“ä½œbigkeyé£é™© 2ã€ AOFé‡å†™ä¹Ÿæœ‰ä¸€ä¸ªé‡å†™æ—¥å¿—ï¼Œä¸ºä»€ä¹ˆä¸å…±äº«ä½¿ç”¨AOFæœ¬èº«çš„æ—¥å¿—å‘¢ã€‚ å¦‚æœéƒ½ä½¿ç”¨AOFæ—¥å¿—çš„è¯ï¼Œä¸»çº¿ç¨‹è¦å†™ï¼Œå­çº¿ç¨‹ä¹Ÿè¦å†™ï¼Œä¸¤è€…ä¼šç«äº‰æ–‡ä»¶ç³»ç»Ÿçš„é”ï¼Œä¼šå¯¹ä¸»çº¿ç¨‹æ€§èƒ½é€ æˆå½±å“ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Rediså†…å­˜å¿«ç…§RDB.html":{"url":"Redis/Rediså†…å­˜å¿«ç…§RDB.html","title":"4ã€Rediså†…å­˜å¿«ç…§RDB","keywords":"","body":"Rediså†…å­˜å¿«ç…§RDB RedisæœåŠ¡å™¨å®•æœºï¼Œå¯ä»¥ä½¿ç”¨AOFæ—¥å¿—è¿›è¡Œæ¢å¤ï¼Œå¦‚æœAOFæ—¥å¿—è¿‡å¤§ï¼Œæ•…éšœæ¢å¤æ—¶é—´è¿‡é•¿ï¼Œå½±å“åˆ°Redisçš„æ­£å¸¸ä½¿ç”¨ã€‚ è¿™é‡Œæˆ‘ä»¬è®¨è®ºRedisçš„å¦å¤–ä¸€ç§æŒä¹…åŒ–æ–¹å¼ï¼ŒRDBå¿«ç…§ï¼Œæ‰€è°“å†…å­˜å¿«ç…§ï¼Œå°±æ˜¯æŒ‡å†…å­˜ä¸­çš„æ•°æ®åœ¨æŸä¸€æ—¶é—´çš„çŠ¶æ€è®°å½•ã€‚å¿«ç…§æ–‡ä»¶ç§°ä¸ºRDBæ–‡ä»¶(Redis DataBase) ä¸AOFçš„åŒºåˆ«æ˜¯ï¼ŒAOFè®°å½•çš„æ˜¯æ“ä½œå‘½ä»¤ï¼ŒRDBè®°å½•çš„æ˜¯æŸä¸€æ—¶åˆ»çš„æ•°æ®ï¼Œå¹¶ä¸æ˜¯æ“ä½œï¼Œåœ¨åšæ•°æ®æ¢å¤æ—¶ï¼Œå¯ä»¥ç›´æ¥å°†RDBæ–‡ä»¶è¯»å…¥å†…å­˜ï¼Œå®ç°å¿«é€Ÿæ¢å¤ã€‚ å…³é”®é—®é¢˜ï¼š å¯¹å“ªäº›æ•°æ®åšå¿«ç…§ï¼Œå¿«ç…§çš„æ‰§è¡Œæ•ˆç‡ã€‚ å…¨é‡å¿«ç…§,å¯¹æ‰€æœ‰æ•°æ®åšå¿«ç…§ã€‚ åšå¿«ç…§æ—¶ï¼Œè¿˜èƒ½è¿›è¡Œå¢åˆ æ”¹æŸ¥å—ï¼Œå…³ç³»åˆ°Redisæ˜¯å¦é˜»å¡ï¼Œèƒ½å¦åŒæ—¶å¤„ç†æ­£å¸¸è¯·æ±‚ã€‚ Rediså¦‚ä½•ç”ŸæˆRDBæ–‡ä»¶ save: åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œï¼Œä¼šå¯¼è‡´é˜»å¡ã€‚ bgsave: åˆ›å»ºä¸€ä¸ªå­çº¿ç¨‹,ä¸“é—¨ç”¨äºå†™å…¥RDBæ–‡ä»¶ï¼Œé¿å…é˜»å¡ä¸»çº¿ç¨‹ï¼ŒRedisé»˜è®¤é…ç½®ã€‚ å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹å—ï¼Ÿ å¿«ç…§æ—¶æ•°æ®èƒ½ä¿®æ”¹ï¼ŒRediså€ŸåŠ©æ“ä½œç³»ç»Ÿæä¾›çš„å†™æ—¶å¤åˆ¶æŠ€æœ¯(Copy-On-Write)åœ¨æ‰§è¡Œå¿«ç…§çš„åŒäº‹ï¼Œæ”¯æŒå¤„ç†å†™æ“ä½œ ä¸»çº¿ç¨‹åœ¨å­çº¿ç¨‹æ‰§è¡ŒRDBæ“ä½œçš„æ—¶å€™ä¿®æ”¹äº†æ•°æ®ï¼Œä¼šç”Ÿæˆä¿®æ”¹æ•°æ®çš„å‰¯æœ¬ï¼Œå­çº¿ç¨‹è¯»å–å‰¯æœ¬å†™å…¥RDBæ–‡ä»¶ã€‚ å†™æ—¶å¤åˆ¶è¿‡ç¨‹ Rediså¤šä¹…åšä¸€æ¬¡å¿«ç…§ é¢‘ç¹çš„åšå…¨é‡å¿«ç…§ï¼Œä¼šå¸¦æ¥ä¸¤æ–¹é¢çš„å¼€é”€ï¼Œå·²æ–¹é¢ï¼Œé¢‘ç¹å°†å…¨é‡æ•°æ®å†™å…¥ç£ç›˜ï¼Œç»™ç£ç›˜å¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ï¼Œå¤šä¸ªå¿«ç…§ç«äº‰æœ‰é™çš„ç£ç›˜å®½å¸¦ï¼Œå‰ä¸€ä¸ªå¿«ç…§è¿˜æ²¡åšå®Œï¼Œåä¸€ä¸ªåˆæ¥äº†ï¼Œå®¹æ˜“é€ æˆæ¶å¿ƒå¾ªç¯ï¼Œå¦å·²æ–¹é¢ï¼Œbgsaveå­çº¿ç¨‹éœ€è¦é€šè¿‡forkæ“ä½œä»ä¸»çº¿ç¨‹åˆ›å»ºå‡ºæ¥ï¼Œ forkè¿‡ç¨‹ä¼šé€ æˆä¸»çº¿ç¨‹é˜»å¡ï¼Œé¢‘ç¹forkä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ è§£å†³åŠæ³•ï¼šåšä¸€æ¬¡å…¨é‡å¿«ç…§åï¼Œåç»­çš„å¿«ç…§åªå¯¹ä¿®æ”¹çš„æ•°æ®è¿›è¡Œå¿«ç…§è®°å½•ï¼Œæˆ‘ä»¬åªéœ€è¦è®°ä½å“ªäº›æ•°æ®è¢«ä¿®æ”¹äº†ã€‚ åˆ°è¿™é‡Œä½ å¯èƒ½å‘ç°äº†ï¼Œè™½ç„¶å’ŒAOFç›¸æ¯”ï¼Œå¿«ç…§çš„æ¢å¤é€Ÿåº¦å¿«ï¼Œä½†æ˜¯å¿«ç…§çš„é¢‘ç‡ä¸å¥½æŠŠæ¡ï¼Œå¦‚æœé¢‘ç‡è¿‡ä½ï¼Œæ•°æ®ä¸¢å¤±ä¼šå¤šï¼Œé¢‘ç‡é«˜çš„è¯åˆæœ‰é¢å¤–å¼€é”€ã€‚ æ··åˆä½¿ç”¨AOFæ—¥å¿—å’Œå†…å­˜å¿«ç…§ å†…å­˜å¿«ç…§ä»¥ä¸€å®šçš„è¯„ç‡æ‰§è¡Œï¼Œåœ¨ä¸¤æ¬¡å¿«ç…§ä¹‹é—´ï¼Œä½¿ç”¨AOFæ—¥å¿—è®°å½•è¿™æœŸé—´æ‰€æœ‰å‘½ä»¤æ“ä½œã€‚ è¯¥æ–¹æ³•çš„ä¼˜ç‚¹ï¼š å¿«ç…§ä¸ç”¨é¢‘ç¹çš„æ‰§è¡Œï¼Œé¿å…äº†é¢‘ç¹forkå¯¹ä¸»çº¿ç¨‹çš„å½±å“ã€‚ AOFæ—¥å¿—åªè®°å½•ä¸¤æ¬¡å¿«ç…§ä¹‹é—´çš„æ“ä½œï¼Œä¸ä¼šå‡ºç°AOFæ–‡ä»¶è¿‡å¤§çš„æƒ…å†µï¼Œä¹Ÿé¿å…äº†AOFé‡æ–°å¸¦æ¥çš„å¼€é”€ã€‚ å°ç»“ RDBæ–‡ä»¶çš„ä¼˜åŠ¿åœ¨äºï¼Œå¯ä»¥å¿«é€Ÿæ¢å¤æ•°æ®åº“ï¼Œåªéœ€è¦æŠŠRDBæ–‡ä»¶ç›´æ¥è¯»å…¥å†…å­˜ï¼Œè¿™æ ·å¯ä»¥é¿å…AOFéœ€è¦é¡ºåºã€é€ä¸€é‡æ–°æ‰§è¡Œå‘½ä»¤å¸¦æ¥çš„ä½æ•ˆæ€§èƒ½é—®é¢˜ã€‚ ä½¿ç”¨AOFè¿˜æ˜¯RDBå¿«ç…§?é€‰å‹é—®é¢˜ æ•°æ®ä¸èƒ½ä¸¢å¤±ï¼Œå†…å­˜å¿«ç…§å’ŒAOFçš„æ··åˆä½¿ç”¨æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹© å¦‚æœå…è®¸åˆ†é’Ÿçº§åˆ«çš„æ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥åªä½¿ç”¨RDB å¦‚æœåªä½¿ç”¨AOF,ä¼˜å…ˆä½¿ç”¨everysecçš„ é…ç½®é€‰é¡¹ï¼Œå› ä¸ºä»–åœ¨å¯é æ€§å’Œæ€§èƒ½ç›´æ¥å–äº†ä¸€ä¸ªå¹³è¡¡ã€‚ æ€»ç»“ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Redisæ•°æ®åŒæ­¥ï¼šä¸»ä»æ•°æ®ä¸€è‡´æ€§é—®é¢˜.html":{"url":"Redis/Redisæ•°æ®åŒæ­¥ï¼šä¸»ä»æ•°æ®ä¸€è‡´æ€§é—®é¢˜.html","title":"5ã€Redisæ•°æ®åŒæ­¥ï¼šä¸»ä»æ•°æ®ä¸€è‡´æ€§é—®é¢˜","keywords":"","body":"Redisæ•°æ®åŒæ­¥ï¼šä¸»ä»æ•°æ®ä¸€è‡´æ€§é—®é¢˜ AOFå’ŒRDB ï¼Œå¦‚æœRediså‘ç”Ÿäº†å®•æœºï¼Œä»–ä»¬å¯ä»¥åˆ†åˆ«é€šè¿‡å›æ”¾æ—¥å¿—å’Œé‡æ–°è¯»å…¥RDBæ–‡ä»¶çš„æ–¹å¼æ¢å¤æ•°æ®ï¼Œä¿è¯å°½é‡å°‘ä¸¢å¤±æ•°æ®ï¼Œæå‡å¯é æ€§ã€‚ å¦‚æœæˆ‘ä»¬åªè¿è¡Œäº†ä¸€ä¸ªRediså®ä¾‹ï¼Œå¦‚æœå®ä¾‹å®•æœºäº†ï¼Œæ•…éšœæ¢å¤æœŸé—´å°±ä¸å¯ç”¨ï¼Œæ— æ³•å¤„ç†æ–°æ¥çš„æ•°æ®è¯·æ±‚ã€‚ ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒRedisçš„åšæ³•å°±æ˜¯å¢åŠ å‰¯æœ¬å†—ä½™é‡ï¼Œå°†ä¸€ä»½æ•°æ®åŒæ—¶ä¿å­˜åœ¨å¤šä¸ªå®ä¾‹ä¸Šï¼Œä¸€ä¸ªå®ä¾‹å®•æœºï¼Œå…¶å®ƒå®ä¾‹è¿˜å¯ä»¥æ­£å¸¸æä¾›æœåŠ¡ã€‚ Redis ä¸»ä»æ¨¡å¼ ä¸»ä»åº“ä¹‹é—´é‡‡ç”¨çš„æ˜¯è¯»å†™åˆ†ç¦»æ¨¡å¼ è¯»æ“ä½œï¼š ä¸»åº“ã€ä»åº“éƒ½å¯ä»¥æ¥æ”¶ å†™æ“ä½œï¼š é¦–å…ˆåˆ°ä¸»åº“æ‰§è¡Œï¼Œç„¶åï¼Œä¸»åº“å°†å†™æ“ä½œåŒæ­¥ç»™ä»åº“ã€‚(ä¸ºäº†é¿å…ä¸»ä»æ•°æ®ä¸€è‡´æ€§é—®é¢˜ï¼ŒåŒæ—¶å†™ä¸»åº“ä¸ä»åº“ï¼Œæ¶‰åŠåˆ°åŠ é”ç­‰é¢å¤–å¼€é”€æ“ä½œ) ä¸»ä»åº“ç›´æ¥å¦‚ä½•è¿›è¡Œç¬¬ä¸€æ¬¡åŒæ­¥ ç¬¬ä¸€é˜¶æ®µï¼šä»åº“å’Œä¸»åº“å»ºç«‹è¿æ¥ï¼Œå¹¶å‘Šè¯‰ä»åº“å³å°†è¿›è¡ŒåŒæ­¥ï¼Œä¸»åº“ç¡®è®¤å›å¤åï¼Œä¸»ä»åº“å°±å¯ä»¥å¼€å§‹åŒæ­¥äº†ã€‚ ç¬¬äºŒé˜¶æ®µï¼šä¸»ä»å°†æ‰€æœ‰æ•°æ®åŒæ­¥ç»™ä»åº“ï¼Œä»åº“æ”¶åˆ°æ•°æ®åï¼Œåœ¨æœ¬åœ°å®Œæˆæ•°æ®åŠ è½½ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¾èµ–å†…å­˜å¿«ç…§ç”Ÿæˆçš„RDBæ–‡ä»¶ã€‚ä¸»ä»æ‰§è¡Œbgsaveå‘½ä»¤ç”ŸæˆRDBæ–‡ä»¶å‘ç»™ä»åº“ï¼Œä»åº“ æ¸…ç©ºå½“å‰æ•°æ®åº“ï¼Œå†åŠ è½½RDBæ–‡ä»¶ ç¬¬ä¸‰é˜¶æ®µï¼šåŒæ­¥è¿‡ç¨‹ä¸­ï¼Œä¸»åº“ä»ç„¶æ­£å¸¸æ¥æ”¶å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå°†è¿™äº›ç¬¬äºŒé˜¶æ®µçš„è¯·æ±‚æ”¾åœ¨ç¼“å†²åŒºï¼Œå®ŒæˆRDBæ–‡ä»¶å‘é€åï¼Œå°†ç¼“å†²åŒºçš„ä¿®æ”¹æ“ä½œå†å‘ç»™ä»åº“ï¼Œä¸»ä»åº“å°±å®ç°åŒæ­¥äº†ã€‚ ä¸»ä»çº§è”æ¨¡å¼åˆ†æ‹…å…¨é‡å¤åˆ¶æ—¶ä¸»åº“å‹åŠ› ä¸»ä»åŒæ­¥æœ‰ä¸¤ä¸ªè€—æ—¶æ“ä½œï¼šç”ŸæˆRDBæ–‡ä»¶å’Œä¼ è¾“RDBæ–‡ä»¶ï¼Œå¦‚æœä»åº“æ•°é‡å¤šï¼Œéƒ½ä¸ä¸»åº“è¿›è¡Œå…¨é‡å¤åˆ¶çš„è¯ï¼Œä¸»åº“å¿™äºforkå­è¿›ç¨‹ç”ŸæˆRDBæ–‡ä»¶ï¼Œè¿›è¡Œå…¨é‡åŒæ­¥ï¼Œforkæ“ä½œä¼šé˜»å¡ä¸»çº¿ç¨‹ è¿›è¡Œå¤„ç†æ­£å¸¸è¯·æ±‚ï¼Œä¼ è¾“RDBæ–‡ä»¶ä¹Ÿä¼šå ç”¨ä¸»åº“ç½‘ç»œå¸¦å®½ã€‚ è§£å†³åŠæ³•ï¼šé€šè¿‡ä¸»-ä»-ä»æ¨¡å¼å°†ä¸»åº“ç”Ÿæˆçš„RDBå’Œä¼ è¾“RDBçš„å‹åŠ›ï¼Œä»¥çº§è”çš„æ–¹å¼åˆ†æ•£åˆ°ä»åº“ä¸Šï¼Œå®Œæˆå…¨é‡å¤åˆ¶åï¼Œä¸»ä»åº“ä¹‹é—´å°±ä¼šç»´æŠ¤ä¸€ä¸ªç½‘ç»œè¿æ¥ï¼Œé€šè¿‡è¿™ä¸ª è¿æ¥å°†åç»­çš„å‘½ä»¤åŒæ­¥ç»™ä»åº“ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºåŸºäºé•¿è¿æ¥çš„å‘½ä»¤ä¼ æ’­ã€‚ çº§è”ä¸»-ä»-ä»åŒæ­¥æ–¹å¼ ä¸»ä»åº“é—´ç½‘ç»œæ–­è¿ Redis2.8ä¹‹å‰ï¼Œä¼šé‡æ–°è¿›è¡Œä¸€æ¬¡å…¨é‡å¤åˆ¶ï¼Œ2.8ä¹‹åï¼Œé‡‡ç”¨å¢é‡å¤åˆ¶çš„æ–¹å¼ç»§ç»­åŒæ­¥ï¼Œä¸»åº“ä¼šè®°å½•è‡ªå·±å†™åˆ°çš„ä½ç½®ï¼Œä»åº“ä¼šè®°å½•è‡ªå·±å·²ç»è¯»åˆ°ã€‚ å¢é‡å¤åˆ¶è¿‡ç¨‹ å°ç»“ ä¸»ä»åŒæ­¥åŸºæœ¬åŸç†ï¼Œæœ‰ä¸‰ç§æ¨¡å¼ï¼Œå…¨é‡å¤åˆ¶(ç¬¬ä¸€æ¬¡ä¸»ä»åŒæ­¥)ã€åŸºäºé•¿è¿æ¥çš„å‘½ä»¤æ¨¡å¼(ç¬¬ä¸€æ¬¡åŒæ­¥åç»­åŒæ­¥)ã€å¢é‡å¤åˆ¶(ç½‘ç»œæ–­è¿çš„æƒ…å†µä¸‹)ã€‚ æ€»ç»“ 1ã€ä¸»ä»åŒæ­¥ä½¿ç”¨çš„æ˜¯RDBå¿«ç…§æ–‡ä»¶çš„æ–¹å¼è¿›è¡ŒåŒæ­¥ï¼ŒAOFè®°å½•çš„æ“ä½œå‘½ä»¤æ›´å…¨ï¼Œç›¸æ¯”RDBä¸¢å¤±çš„æ•°æ®æ›´å°‘ï¼Œä¸ºä»€ä¹ˆä¸ä½¿ç”¨AOFæ—¥å¿—è¿›è¡Œä¸»ä»åŒæ­¥ RDBæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ— è®ºæ˜¯å¦æŠŠRDBå†™å…¥ç£ç›˜è¿˜æ˜¯é€šè¿‡ç½‘ç»œä¼ è¾“RDB,IOæ•ˆç‡éƒ½æ¯”è®°å½•å’Œä¼ è¾“AOFçš„é«˜ ä»åº“ç«¯æ¢å¤æ—¶ï¼ŒRDBæ¢å¤æ•ˆç‡æ¯”AOFé«˜ ä¸»ä»åº“åŒæ­¥å­˜åœ¨çš„å‘ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/å“¨å…µæœºåˆ¶ã€å“¨å…µé›†ç¾¤.html":{"url":"Redis/å“¨å…µæœºåˆ¶ã€å“¨å…µé›†ç¾¤.html","title":"6ã€å“¨å…µæœºåˆ¶ã€å“¨å…µé›†ç¾¤","keywords":"","body":"6ã€å“¨å…µæœºåˆ¶ã€å“¨å…µé›†ç¾¤ ä¸»åº“æŒ‚äº†ï¼Œå¦‚ä½•ä¸é—´æ–­çš„æä¾›æœåŠ¡ å¦‚æœä¸»åº“æŒ‚äº†ï¼Œå®¢æˆ·ç«¯è¯»æ“ä½œè¿˜å¯ä»¥ç”±å…¶ä»–ä»åº“ç»§ç»­æä¾›æœåŠ¡ï¼Œ å¦‚æœæ˜¯å†™æ“ä½œè¯·æ±‚ï¼ŒæŒ‰ç…§è¯»å†™åˆ†ç¦»æ¨¡å¼ï¼Œå†™æ“ä½œç”±ä¸»åº“å®Œæˆï¼Œä¸»åº“æŒ‚äº†ï¼Œå†™æœåŠ¡å°±ä¸­æ–­äº†ï¼Œä¹Ÿæ— æ³•è¿›è¡Œä¸»ä»åŒæ­¥å·¥ä½œäº†ã€‚ è§£å†³åŠæ³•ï¼šä¸»åº“æŒ‚äº†ï¼Œéœ€è¦è¿è¡Œä¸€ä¸ªæ–°ä¸»åº“ï¼Œæ¯”å¦‚è®²ä¸€ä¸ªä»åº“åˆ‡æ¢ä¸ºä¸»åº“ï¼Œè¿™é‡Œå­˜åœ¨æœ‰ä¸‰ä¸ªé—®é¢˜ ä¸»åº“çœŸçš„æŒ‚äº†å— é€‰å–å“ªä¸ªä»åº“ä½œä¸ºæ–°çš„ä¸»åº“ æ€ä¹ˆå°†æ–°ä¸»åº“ä¿¡æ¯åŒæ­¥ç»™å®¢æˆ·ç«¯ä¸å…¶ä»–ä»åº“ å“¨å…µæœºåˆ¶çš„åŸºæœ¬æµç¨‹ å“¨å…µå…¶å®å°±æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç‰¹æ®Šæ¨¡å¼çš„Redisè¿›ç¨‹ï¼Œä¸»è¦è´Ÿè´£ä¸‰ä¸ªä»»åŠ¡ï¼šç›‘æ§ã€é€‰ä¸»ã€é€šçŸ¥ ç›‘æ§ï¼šå“¨å…µå‘¨æœŸæ€§çš„ç»™æ‰€æœ‰ä¸»ä»åº“å‘é€PINGå‘½ä»¤ï¼Œæ£€æµ‹ä»–ä»¬æ˜¯å¦ä»åœ¨è¿è¡Œã€‚å¦‚æœæ— å“åº”ï¼Œå“¨å…µä¼šæ ‡è®°ä¸ºä¸‹çº¿çŠ¶æ€ï¼Œä¸»åº“æ— å“åº”ï¼Œä¼šè¿›è¡Œè‡ªåŠ¨åˆ‡æ¢ä¸»åº“æµç¨‹ã€‚ é€‰ä¸»ï¼šå“¨å…µæŒ‰ç…§ä¸€å®šè§„åˆ™ä»å¤šä¸ªä»åº“ä¸­é€‰æ‹©ä¸€ä¸ªä»åº“ä½œä¸ºæ–°çš„ä¸»åº“ï¼Œç„¶åé›†ç¾¤ä¸­å°±æœ‰äº†æ–°çš„ä¸»åº“ã€‚ é€šçŸ¥ï¼šå“¨å…µå°†æ–°ä¸»åº“ä¿¡æ¯å‘ç»™å…¶å®ƒä»åº“ï¼Œè®©ä»–ä»¬æ‰§è¡Œreplicaofå‘½ä»¤,å’Œæ–°ä¸»åº“å»ºç«‹è¿æ¥å¹¶è¿›è¡Œæ•°æ®å¤åˆ¶ï¼ŒåŒæ—¶å“¨å…µä¼šæŠŠæ–°ä¸»åº“è¿æ¥ä¿¡æ¯é€šçŸ¥ç»™å®¢æˆ·ç«¯ï¼Œè®©å®¢æˆ·ç«¯å°†è¯·æ±‚å‘åˆ°æ–°ä¸»åº“ä¸Šã€‚ ä¸»è§‚ä¸‹çº¿å’Œå®¢è§‚ä¸‹çº¿ å“¨å…µè¿›ç¨‹ä¼šPINGå‘½ä»¤æ£€æµ‹å®ƒä¸ä¸»åº“ã€ä»åº“çš„ç½‘ç»œè¿æ¥æƒ…å†µï¼Œæ¥åˆ¤æ–­å®ä¾‹çš„çŠ¶æ€ã€‚å¦‚æœä»åº“å“åº”è¶…æ—¶ï¼Œå°±æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œä»åº“ä¸‹çº¿ï¼Œå½±å“ä¸ä¼šå¤ªå¤§ å¦‚æœæ£€æµ‹çš„æ˜¯ä¸»åº“ï¼Œä¸»åº“å“åº”è¶…æ—¶äº†ï¼Œå“¨å…µä¸èƒ½ç®€å•çš„æŠŠä¸»åº“æ ‡è®°ä¸ºä¸»è§‚ä¸‹çº¿ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨è¯¯åˆ¤çš„æƒ…å†µï¼Œä¸»åº“çš„åˆ‡æ¢ï¼Œåç»­é€‰ä¸»å’Œé€šçŸ¥ä¼šå¸¦æ¥ä¸å°çš„é€šä¿¡å¼€é”€ã€‚ ä»€ä¹ˆåŸå› ä¼šå¯¼è‡´è¯¯åˆ¤ï¼Ÿå¦‚æœé›†ç¾¤ç½‘ç»œå‹åŠ›å¤§ï¼Œç½‘ç»œæ‹¥å¡ï¼Œæˆ–è€…ä¸»åº“æœ¬èº«å‹åŠ›å¤§çš„æƒ…å†µä¸‹å°±å¯èƒ½å‡ºç°è¯¯åˆ¤ã€‚ è§£å†³åŠæ³•ï¼šå“¨å…µä½¿ç”¨å¤šä¸ªå®ä¾‹ç»„æˆçš„é›†ç¾¤æ¨¡å¼è¿›è¡Œéƒ¨ç½²ï¼Œç®€ç§°å“¨å…µé›†ç¾¤ï¼Œé€šè¿‡å“¨å…µé›†ç¾¤æŠ•ç¥¨å†³å®šï¼Œå°‘æ•°æœä»å¤šæ•°åŸåˆ™ã€‚ é€‰ä¸»æ–°åº“è§„åˆ™ é¦–å…ˆæ£€æŸ¥ä»åº“çš„å½“å‰åœ¨çº¿çŠ¶æ€ï¼Œä¸‹çº¿äº†çš„ä»åº“è¿‡æ»¤æ‰ï¼Œå†åˆ¤æ–­å®ƒä¹‹å‰çš„ç½‘ç»œè¿æ¥çŠ¶æ€ï¼Œç„¶åæ€»æ˜¯å’Œæ—§ä¸»åº“æ–­å¼€è¿æ¥ï¼Œå°±ç­›é€‰æ‰ã€‚ å¯¹æ¥ä¸‹æ¥çš„ä»åº“è¿›è¡Œæ‰“åˆ†ï¼Œå¾—åˆ†æœ€é«˜çš„å°±æ˜¯æ–°çš„ä¸»åº“ ç¬¬ä¸€è½®ï¼šä¼˜å…ˆçº§æœ€é«˜çš„ä»åº“å¾—æœ€é«˜åˆ†(redis é…ç½®é¡¹å¯ä»¥é…ç½®ä¼˜å…ˆçº§) ç¬¬äºŒè½®ï¼šå’Œæ—§ä»åº“åŒæ­¥ç¨‹åº¦æœ€æ¥è¿‘çš„ä»åº“å¾—åˆ†é«˜ ç¬¬ä¸‰è½®ï¼šIDå·å°çš„ä»åº“å¾—åˆ†é«˜ å“¨å…µé›†ç¾¤çš„å…³é”®æœºåˆ¶ åŸºäºpub/subæœºåˆ¶çš„å“¨å…µé›†ç¾¤ç»„æˆè¿‡ç¨‹ï¼Œå“¨å…µåœ¨ä¸»åº“ä¸Šå‘å¸ƒè‡ªå·±çš„è¿æ¥ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä»ä¸»åº“ä¸Šè®¢é˜…æ¶ˆæ¯ï¼Œå¤šä¸ªå“¨å…µå°±çŸ¥é“äº†å½¼æ­¤çš„é“¾æ¥ä¿¡æ¯ï¼Œå¯ä»¥è¿›è¡Œé€šä¿¡ã€‚ å“¨å…µå‘ä¸»åº“å‘é€INFOå‘½ä»¤ï¼Œä¸»åº“ä¼šæŠŠä»åº“åˆ—è¡¨è¿”å›ç»™å“¨å…µï¼Œå“¨å…µå†ä¸ä»åº“å»ºç«‹è¿æ¥ã€‚ åŸºäºå“¨å…µè‡ªèº«çš„pub/subåŠŸèƒ½ï¼Œå®ç°äº†å®¢æˆ·ç«¯ä¸å“¨å…µç›´æ¥çš„äº‹ä»¶é€šçŸ¥ã€‚ æ€»ç»“ 1ã€é€šè¿‡å“¨å…µæœºåˆ¶ï¼Œå¯ä»¥å®ç°ä¸»ä»åº“è‡ªåŠ¨åˆ‡æ¢ï¼Œä¸»ä»åº“åˆ‡æ¢éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè¿™æœŸé—´èƒ½å¦æ­£å¸¸å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚ï¼Ÿå¦‚æœæƒ³è¦å®¢æˆ·ç«¯ä¸æ„ŸçŸ¥æœåŠ¡ä¸­æ–­ï¼Œè¿˜éœ€è¦å“¨å…µå’Œå®¢æˆ·ç«¯åšä»€ä¹ˆå·¥ä½œã€‚ ä¸€æ–¹é¢ï¼Œå®¢æˆ·ç«¯éœ€è¦èƒ½ç¼“å­˜åº”ç”¨å‘é€çš„å†™è¯·æ±‚ã€‚åªè¦ä¸æ˜¯åŒæ­¥å†™æ“ä½œï¼ˆRedis åº”ç”¨åœºæ™¯ä¸€èˆ¬ä¹Ÿæ²¡æœ‰åŒæ­¥å†™ï¼‰ï¼Œå†™è¯·æ±‚é€šå¸¸ä¸ä¼šåœ¨åº”ç”¨ç¨‹åºçš„å…³é”®è·¯å¾„ä¸Šï¼Œæ‰€ä»¥ï¼Œå®¢æˆ·ç«¯ç¼“å­˜å†™è¯·æ±‚åï¼Œç»™åº”ç”¨ç¨‹åºè¿”å›ä¸€ä¸ªç¡®è®¤å°±è¡Œ ä¸»ä»åˆ‡æ¢å®Œæˆåï¼Œå®¢æˆ·ç«¯è¦èƒ½å’Œæ–°ä¸»åº“é‡æ–°å»ºç«‹è¿æ¥ï¼Œå“¨å…µéœ€è¦æä¾›è®¢é˜…é¢‘é“ï¼Œè®©å®¢æˆ·ç«¯èƒ½å¤Ÿè®¢é˜…åˆ°æ–°ä¸»åº“çš„ä¿¡æ¯ã€‚åŒæ—¶ï¼Œå®¢æˆ·ç«¯ä¹Ÿéœ€è¦èƒ½ä¸»åŠ¨å’Œå“¨å…µé€šä¿¡ï¼Œè¯¢é—®æ–°ä¸»åº“çš„ä¿¡æ¯ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/åˆ‡ç‰‡é›†ç¾¤.html":{"url":"Redis/åˆ‡ç‰‡é›†ç¾¤.html","title":"7ã€åˆ‡ç‰‡é›†ç¾¤","keywords":"","body":"7ã€åˆ‡ç‰‡é›†ç¾¤ Rediså¦‚ä½•ä¿å­˜æ›´å¤šçš„æ•°æ®ï¼Ÿ çºµå‘æ‰©å±•ï¼šå‡çº§å•ä¸ªRediså®ä¾‹èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜å®¹é‡ï¼Œç£ç›˜å®¹é‡ï¼ŒCPUç­‰ã€‚ æ¨ªå‘æ‰©å±•ï¼šå¢åŠ å½“å‰Rediså®ä¾‹çš„ä¸ªæ•°. è¿™ä¸¤ç§æ–¹å¼çš„ä¼˜ç¼ºç‚¹ï¼š çºµå‘æ‰©å±•ä¼˜ç‚¹ï¼šå®æ–½ç®€å•ï¼Œç›´æ¥ã€‚ çºµå‘æ‰©å±•ç¼ºç‚¹ï¼šä½¿ç”¨RDBå¯¹æ•°æ®æŒä¹…åŒ–æ—¶ï¼Œæ•°æ®é‡çš„å¢åŠ ï¼Œéœ€è¦çš„å†…å­˜ä¹Ÿä¼šå¢åŠ ï¼Œforkå­çº¿ç¨‹çš„æ—¶å€™å¯èƒ½ä¼šé˜»å¡ï¼Œçºµå‘æ‰©å±•ä¼šå—ç¡¬ä»¶å’Œæˆæœ¬é™åˆ¶ã€‚ æ¨ªå‘æ‰©å±•ï¼š æ•°æ®åˆ‡ç‰‡åï¼Œåœ¨å¤šä¸ªå®ä¾‹é—´å¦‚ä½•åˆ†å¸ƒ å®¢æˆ·ç«¯æ€ä¹ˆç¡®å®šæƒ³è¦è®¿é—®çš„æ•°æ®åœ¨å“ªä¸ªå®ä¾‹ä¸Šã€‚ æ•°æ®ç‰‡å’Œå®ä¾‹çš„å¯¹åº”åˆ†å¸ƒå…³ç³» Redis Clusteræ–¹æ¡ˆé‡‡ç”¨å“ˆå¸Œæ§½æ¥å¤„ç†å®ä¾‹å’Œæ•°æ®ä¹‹é—´çš„æ˜ å°„å…³ç³»ï¼Œæ–¹æ¡ˆä¸­ï¼Œä¸€ä¸ªåˆ‡ç‰‡é›†ç¾¤å…±æœ‰16384ä¸ªå“ˆå¸Œæ§½ï¼Œç±»ä¼¼äºæ•°æ®åˆ†åŒºï¼Œæ¯ä¸ªé”®å€¼éƒ½ä¼šæ ¹æ®å®ƒçš„key,è¢«æ˜ å°„åˆ°ä¸€ä¸ªå“ˆå¸Œæ§½ æ˜ å°„è¿‡ç¨‹ï¼šCRC16ç®—æ³•è®¡ç®—ä¸€ä¸ª16bitçš„å€¼ï¼Œå†ç”¨è¿™ä¸ª16bitçš„å€¼å¯¹16385å–æ¨¡ï¼Œå¾—åˆ°0-16383èŒƒå›´å†…çš„æ•°ï¼Œ åˆ†é…åˆ°å¯¹åº”çš„å“ˆå¸Œæ§½ä½ç½®ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/å¼‚æ­¥æœºåˆ¶ï¼šå¦‚ä½•é¿å…å•çº¿ç¨‹æ¨¡å‹çš„é˜»å¡.html":{"url":"Redis/å¼‚æ­¥æœºåˆ¶ï¼šå¦‚ä½•é¿å…å•çº¿ç¨‹æ¨¡å‹çš„é˜»å¡.html","title":"8ã€å¼‚æ­¥æœºåˆ¶ï¼šå¦‚ä½•é¿å…å•çº¿ç¨‹æ¨¡å‹çš„é˜»å¡","keywords":"","body":"8ã€å¼‚æ­¥æœºåˆ¶ï¼šå¦‚ä½•é¿å…å•çº¿ç¨‹æ¨¡å‹çš„é˜»å¡ Rdiså®ä¾‹æœ‰å“ªäº›é˜»å¡ç‚¹ å®¢æˆ·ç«¯ï¼šç½‘ç»œIO,é”®å€¼å¯¹å¢åˆ æ”¹æŸ¥æ“ä½œã€æ•°æ®åº“æ“ä½œ ç£ç›˜ï¼šç”ŸæˆRDBå¿«ç…§ã€è®°å½•AOFæ—¥å¿—ã€AOFæ—¥å¿—é‡å†™ ä¸»ä»èŠ‚ç‚¹ï¼šä¸»åº“ç”Ÿæˆã€ä¼ è¾“RDBæ–‡ä»¶ã€ä»åº“æ¥æ”¶RDBæ–‡ä»¶ã€æ¸…ç©ºæ•°æ®åº“ã€åŠ è½½RDBæ–‡ä»¶ åˆ‡ç‰‡é›†ç¾¤å®ä¾‹ï¼šå‘å…¶ä»–å®ä¾‹ä¼ è¾“å“ˆå¸Œæ§½ä¿¡æ¯ã€æ•°æ®è¿ç§»ã€‚ 1ã€å’Œå®¢æˆ·ç«¯äº¤äº’æ—¶çš„é˜»å¡ç‚¹ï¼šé›†åˆå…¨é‡æŸ¥è¯¢å’Œèšåˆæ“ä½œã€bigKeyåˆ é™¤æ“ä½œã€æ¸…ç©ºæ•°æ®åº“ã€‚ 2ã€å’Œç£ç›˜äº¤äº’æ—¶çš„é˜»å¡ç‚¹ï¼šAOFæ—¥å¿—åŒæ­¥å†™ 3ã€ä¸»ä»èŠ‚ç‚¹äº¤äº’æ—¶çš„é˜»å¡ç‚¹ï¼šä»åº“åŠ è½½RDBæ–‡ä»¶ å“ªäº›é˜»å¡ç‚¹å¯ä»¥å¼‚æ­¥æ“ä½œ ä¸€ä¸ªæ“ä½œå¯ä»¥è¢«å¼‚æ­¥æ‰§è¡Œï¼Œå°±æ„å‘³ç€ï¼Œå®ƒå¹¶ä¸æ˜¯ä¸»çº¿ç¨‹ä¸Šçš„å…³é”®è·¯å¾„ä¸Šçš„æ“ä½œï¼Œç»“æœä¸éœ€è¦ç«‹å³å“åº”ç»™å®¢æˆ·ç«¯ï¼Œæ¯”å¦‚è¯»æ“ä½œæ—¶å…¸å‹çš„å…³é”®è·¯å¾„ä¸Šçš„æ“ä½œï¼Œå› ä¸º å®¢æˆ·ç«¯å¼ºä¾èµ–è¿”å›ç»“æœã€‚ å¯¹äº Redis çš„äº”å¤§é˜»å¡ç‚¹æ¥è¯´ï¼Œé™¤äº†â€œé›†åˆå…¨é‡æŸ¥è¯¢å’Œèšåˆæ“ä½œâ€å’Œâ€œä»åº“åŠ è½½ RDB æ–‡ä»¶â€ï¼Œå…¶ä»–ä¸‰ä¸ªé˜»å¡ç‚¹æ¶‰åŠçš„æ“ä½œéƒ½ä¸åœ¨å…³é”®è·¯å¾„ä¸Šï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Redis çš„å¼‚æ­¥å­çº¿ç¨‹æœºåˆ¶æ¥å®ç° bigkey åˆ é™¤ï¼Œæ¸…ç©ºæ•°æ®åº“ï¼Œä»¥åŠ AOF æ—¥å¿—åŒæ­¥å†™ å¼‚æ­¥çš„å­çº¿ç¨‹æœºåˆ¶ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/å¦‚ä½•åº”å¯¹å˜æ…¢çš„Redis.html":{"url":"Redis/å¦‚ä½•åº”å¯¹å˜æ…¢çš„Redis.html","title":"9ã€å¦‚ä½•åº”å¯¹å˜æ…¢çš„Redis","keywords":"","body":"9ã€å¦‚ä½•åº”å¯¹å˜æ…¢çš„Redis ä»æ–‡ä»¶ç³»ç»Ÿå’Œæ“ä½œç³»ç»Ÿä¸¤ä¸ªæ–¹é¢è§£å†³Rediså˜æ…¢é—®é¢˜ è·å– Redis å®ä¾‹åœ¨å½“å‰ç¯å¢ƒä¸‹çš„åŸºçº¿æ€§èƒ½ã€‚ æ˜¯å¦ç”¨äº†æ…¢æŸ¥è¯¢å‘½ä»¤ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œå°±ä½¿ç”¨å…¶ä»–å‘½ä»¤æ›¿ä»£æ…¢æŸ¥è¯¢å‘½ä»¤ï¼Œæˆ–è€…æŠŠèšåˆè®¡ç®—å‘½ä»¤æ”¾åœ¨å®¢æˆ·ç«¯åšã€‚ æ˜¯å¦å¯¹è¿‡æœŸ key è®¾ç½®äº†ç›¸åŒçš„è¿‡æœŸæ—¶é—´ï¼Ÿå¯¹äºæ‰¹é‡åˆ é™¤çš„ keyï¼Œå¯ä»¥åœ¨æ¯ä¸ª key çš„è¿‡æœŸæ—¶é—´ä¸ŠåŠ ä¸€ä¸ªéšæœºæ•°ï¼Œé¿å…åŒæ—¶åˆ é™¤ã€‚ æ˜¯å¦å­˜åœ¨ bigkeyï¼Ÿ å¯¹äº bigkey çš„åˆ é™¤æ“ä½œï¼Œå¦‚æœä½ çš„ Redis æ˜¯ 4.0 åŠä»¥ä¸Šçš„ç‰ˆæœ¬ï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨å¼‚æ­¥çº¿ç¨‹æœºåˆ¶å‡å°‘ä¸»çº¿ç¨‹é˜»å¡ï¼›å¦‚æœæ˜¯ Redis 4.0 ä»¥å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥ä½¿ç”¨ SCAN å‘½ä»¤è¿­ä»£åˆ é™¤ï¼›å¯¹äº bigkey çš„é›†åˆæŸ¥è¯¢å’Œèšåˆæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨ SCAN å‘½ä»¤åœ¨å®¢æˆ·ç«¯å®Œæˆã€‚ Redis AOF é…ç½®çº§åˆ«æ˜¯ä»€ä¹ˆï¼Ÿä¸šåŠ¡å±‚é¢æ˜¯å¦çš„ç¡®éœ€è¦è¿™ä¸€å¯é æ€§çº§åˆ«ï¼Ÿå¦‚æœæˆ‘ä»¬éœ€è¦é«˜æ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿå…è®¸æ•°æ®ä¸¢å¤±ï¼Œå¯ä»¥å°†é…ç½®é¡¹ no-appendfsync-on-rewrite è®¾ç½®ä¸º yesï¼Œé¿å… AOF é‡å†™å’Œ fsync ç«äº‰ç£ç›˜ IO èµ„æºï¼Œå¯¼è‡´ Redis å»¶è¿Ÿå¢åŠ ã€‚å½“ç„¶ï¼Œ å¦‚æœæ—¢éœ€è¦é«˜æ€§èƒ½åˆéœ€è¦é«˜å¯é æ€§ï¼Œæœ€å¥½ä½¿ç”¨é«˜é€Ÿå›ºæ€ç›˜ä½œä¸º AOF æ—¥å¿—çš„å†™å…¥ Redis å®ä¾‹çš„å†…å­˜ä½¿ç”¨æ˜¯å¦è¿‡å¤§ï¼Ÿå‘ç”Ÿ swap äº†å—ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œå°±å¢åŠ æœºå™¨å†…å­˜ï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ Redis é›†ç¾¤ï¼Œåˆ†æ‘Šå•æœº Redis çš„é”®å€¼å¯¹æ•°é‡å’Œå†…å­˜å‹åŠ›ã€‚åŒæ—¶ï¼Œè¦é¿å…å‡ºç° Redis å’Œå…¶ä»–å†…å­˜éœ€æ±‚å¤§çš„åº”ç”¨å…±äº«æœºå™¨çš„æƒ…å†µã€‚ åœ¨ Redis å®ä¾‹çš„è¿è¡Œç¯å¢ƒä¸­ï¼Œæ˜¯å¦å¯ç”¨äº†é€æ˜å¤§é¡µæœºåˆ¶ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œç›´æ¥å…³é—­å†…å­˜å¤§é¡µæœºåˆ¶å°±è¡Œäº†ã€‚ æ˜¯å¦è¿è¡Œäº† Redis ä¸»ä»é›†ç¾¤ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼ŒæŠŠä¸»åº“å®ä¾‹çš„æ•°æ®é‡å¤§å°æ§åˆ¶åœ¨ 2~4GBï¼Œä»¥å…ä¸»ä»å¤åˆ¶æ—¶ï¼Œä»åº“å› åŠ è½½å¤§çš„ RDB æ–‡ä»¶è€Œé˜»å¡ã€‚ æ˜¯å¦ä½¿ç”¨äº†å¤šæ ¸ CPU æˆ– NUMA æ¶æ„çš„æœºå™¨è¿è¡Œ Redis å®ä¾‹ï¼Ÿä½¿ç”¨å¤šæ ¸ CPU æ—¶ï¼Œå¯ä»¥ç»™ Redis å®ä¾‹ç»‘å®šç‰©ç†æ ¸ï¼›ä½¿ç”¨ NUMA æ¶æ„æ—¶ï¼Œæ³¨æ„æŠŠ Redis å®ä¾‹å’Œç½‘ç»œä¸­æ–­å¤„ç†ç¨‹åºè¿è¡Œåœ¨åŒä¸€ä¸ª CPU Socket ä¸Šã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Redisç¼“å­˜æ·˜æ±°ç­–ç•¥.html":{"url":"Redis/Redisç¼“å­˜æ·˜æ±°ç­–ç•¥.html","title":"10ã€Redisç¼“å­˜æ·˜æ±°ç­–ç•¥","keywords":"","body":"10ã€Redisç¼“å­˜æ·˜æ±°ç­–ç•¥ Redisç¼“å­˜æœ‰å“ªäº›æ·˜æ±°ç­–ç•¥ Redisæä¾›äº†8ä¸­ç¼“å­˜æ·˜æ±°ç­–ç•¥ åœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„æ•°æ®ä¸­æ·˜æ±° volatile-ttl åœ¨ç­›é€‰æ—¶ï¼Œä¼šé’ˆå¯¹è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®å€¼å¯¹ï¼Œæ ¹æ®è¿‡æœŸæ—¶é—´çš„å…ˆåè¿›è¡Œåˆ é™¤ï¼Œè¶Šæ—©è¿‡æœŸçš„è¶Šå…ˆè¢«åˆ é™¤ã€‚ volatile-random å°±åƒå®ƒçš„åç§°ä¸€æ ·ï¼Œåœ¨è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®å€¼å¯¹ä¸­ï¼Œè¿›è¡Œéšæœºåˆ é™¤ã€‚ volatile-lru ä¼šä½¿ç”¨ LRU ç®—æ³•ç­›é€‰è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®å€¼å¯¹ã€‚ volatile-lfu ä¼šä½¿ç”¨ LFU ç®—æ³•é€‰æ‹©è®¾ç½®äº†è¿‡æœŸæ—¶é—´çš„é”®å€¼å¯¹ã€‚ åœ¨æ‰€æœ‰æ•°æ®ä¸­æ·˜æ±° allkeys-random ç­–ç•¥ï¼Œä»æ‰€æœ‰é”®å€¼å¯¹ä¸­éšæœºé€‰æ‹©å¹¶åˆ é™¤æ•°æ®ï¼› allkeys-lru ç­–ç•¥ï¼Œä½¿ç”¨ LRU ç®—æ³•åœ¨æ‰€æœ‰æ•°æ®ä¸­è¿›è¡Œç­›é€‰ allkeys-lfu ç­–ç•¥ï¼Œä½¿ç”¨ LFU ç®—æ³•åœ¨æ‰€æœ‰æ•°æ®ä¸­è¿›è¡Œç­›é€‰ã€‚ LRUç®—æ³• æ¦‚å¿µï¼šLRU ç®—æ³•çš„å…¨ç§°æ˜¯ Least Recently Usedï¼Œä»åå­—ä¸Šå°±å¯ä»¥çœ‹å‡ºï¼Œè¿™æ˜¯æŒ‰ç…§æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„åŸåˆ™æ¥ç­›é€‰æ•°æ®ï¼Œæœ€ä¸å¸¸ç”¨çš„æ•°æ®ä¼šè¢«ç­›é€‰å‡ºæ¥ï¼Œè€Œæœ€è¿‘é¢‘ç¹ä½¿ç”¨çš„æ•°æ®ä¼šç•™åœ¨ç¼“å­˜ä¸­ã€‚ è¿‡ç¨‹ï¼šLRUä¼šæŠŠæ‰€æœ‰æ•°æ®ç»„ç»‡æˆä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨å¤´å’Œå’Œé“¾è¡¨å°¾åˆ†åˆ«è¡¨ç¤ºMRUç«¯å’ŒLRUç«¯ï¼Œåˆ†åˆ«è¡¨ç¤ºæœ€è¿‘æœ€å¸¸ä½¿ç”¨å’Œæœ€è¿‘ä¸å¸¸ç”¨çš„æ•°æ®ï¼Œå½“ç¼“å­˜æ»¡äº†æˆ–è€…åˆ°è¾¾é˜ˆå€¼ï¼Œå°±å°†LRUç«¯çš„æ•°æ®æ·˜æ±°ã€‚ ç¼ºç‚¹ï¼šLRUç®—æ³•å®ç°æ—¶ï¼Œéœ€è¦ä½¿ç”¨é“¾è¡¨ç®¡ç†æ‰€æœ‰ç¼“å­˜æ•°æ®ï¼Œè¿™ä¼šå¸¦æ¥é¢å¤–çš„ç©ºé—´å¼€é”€ã€‚å¤§é‡çš„æ•°æ®è®¿é—®ï¼Œä¼šé¢‘ç¹çš„è¿›è¡Œç§»åŠ¨é“¾è¡¨æ“ä½œï¼Œå¾ˆè€—æ—¶ï¼Œé™ä½äº†Redisç¼“å­˜æ€§èƒ½ã€‚ Redisç®€åŒ–é‡‡ç”¨æ–¹æ¡ˆï¼šRedisé»˜è®¤è®°å½•æ¯ä¸ªæ•°æ®æœ€è¿‘ä¸€æ¬¡è®¿é—®æ—¶é—´æˆ³(RedisObjectä¸­çš„lruå­—æ®µè®°å½•)ï¼Œåœ¨ rediså†³å®šè¿›è¡Œæ·˜æ±°æ•°æ®æ—¶ï¼Œéšæœºé€‰æ‹©Nä¸ªæ•°æ®ä½œä¸ºå€™é€‰é›†ï¼Œredisä¼š æ¯”è¾ƒå€™é€‰é›†åˆä¸­lruå­—æ®µçš„å¤§å°ï¼Œå°†æœ€å°çš„å­—æ®µä»ç¼“å­˜ä¸­æ·˜æ±°å‡ºå»ã€‚ è¿™æ ·ä¸€æ¥ï¼ŒRedisç¼“å­˜ä¸ç”¨ä¸ºæ‰€æœ‰æ•°æ®ç»´æŠ¤ä¸€ä¸ªé“¾è¡¨ï¼Œä¹Ÿä¸ç”¨æ¯æ¬¡è®¿é—®æ•°æ®æ—¶éƒ½ç§»åŠ¨é“¾è¡¨ï¼Œæå‡äº†ç¼“å­˜æ€§èƒ½ã€‚ å»ºè®®ç­–ç•¥ ä¼˜å…ˆä½¿ç”¨allkeys-lruç­–ç•¥ æ•°æ®è®¿é—®é¢‘ç‡ç›¸å·®ä¸å¤§ï¼Œæ²¡æœ‰å†·çƒ­æ•°æ®åŒºåˆ†ï¼Œå»ºè®®ä½¿ç”¨allkeys-randomç­–ç•¥ï¼Œéšæœºæ·˜æ±°å³å¯ã€‚ ç½®é¡¶éœ€æ±‚ï¼Œå¯ä»¥ä½¿ç”¨volititle-lruç­–ç•¥ï¼Œå¯¹ç½®é¡¶æ•°æ®ä¸è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå…¶å®ƒæ•°æ®è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæ ¹æ®lruç­–ç•¥è¿›è¡Œæ·˜æ±° LURç®—æ³•å®ç° public class LRUCache { class DLinkedNode { int key; int value; DLinkedNode prev; DLinkedNode next; public DLinkedNode() {} public DLinkedNode(int _key, int _value) {key = _key; value = _value;} } private Map cache = new HashMap(); private int size; private int capacity; private DLinkedNode head, tail; public LRUCache(int capacity) { this.size = 0; this.capacity = capacity; // ä½¿ç”¨ä¼ªå¤´éƒ¨å’Œä¼ªå°¾éƒ¨èŠ‚ç‚¹ head = new DLinkedNode(); tail = new DLinkedNode(); head.next = tail; tail.prev = head; } public int get(int key) { DLinkedNode node = cache.get(key); if (node == null) { return -1; } // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ç§»åˆ°å¤´éƒ¨ moveToHead(node); return node.value; } public void put(int key, int value) { DLinkedNode node = cache.get(key); if (node == null) { // å¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ DLinkedNode newNode = new DLinkedNode(key, value); // æ·»åŠ è¿›å“ˆå¸Œè¡¨ cache.put(key, newNode); // æ·»åŠ è‡³åŒå‘é“¾è¡¨çš„å¤´éƒ¨ addToHead(newNode); ++size; if (size > capacity) { // å¦‚æœè¶…å‡ºå®¹é‡ï¼Œåˆ é™¤åŒå‘é“¾è¡¨çš„å°¾éƒ¨èŠ‚ç‚¹ DLinkedNode tail = removeTail(); // åˆ é™¤å“ˆå¸Œè¡¨ä¸­å¯¹åº”çš„é¡¹ cache.remove(tail.key); --size; } } else { // å¦‚æœ key å­˜åœ¨ï¼Œå…ˆé€šè¿‡å“ˆå¸Œè¡¨å®šä½ï¼Œå†ä¿®æ”¹ valueï¼Œå¹¶ç§»åˆ°å¤´éƒ¨ node.value = value; moveToHead(node); } } private void addToHead(DLinkedNode node) { node.prev = head; node.next = head.next; head.next.prev = node; head.next = node; } private void removeNode(DLinkedNode node) { node.prev.next = node.next; node.next.prev = node.prev; } private void moveToHead(DLinkedNode node) { removeNode(node); addToHead(node); } private DLinkedNode removeTail() { DLinkedNode res = tail.prev; removeNode(res); return res; } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜.html":{"url":"Redis/ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜.html","title":"11ã€ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜","keywords":"","body":"11ã€ç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ å¦‚ä½•è§£å†³ç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ ç¼“å­˜å’Œæ•°æ®åº“æ•°æ®ä¸ä¸€è‡´æ˜¯å¦‚ä½•å‘ç”Ÿçš„ ç¼“å­˜ä¸€è‡´æ€§æ¦‚å¿µï¼šç¼“å­˜ä¸­æœ‰æ•°æ®ï¼Œé‚£ä¹ˆç¼“å­˜ä¸­çš„æ•°æ®å€¼éœ€è¦å’Œæ•°æ®åº“ä¸­çš„æ•°æ®å€¼ç›¸åŒï¼Œç¼“å­˜ä¸­æœ¬èº«æ²¡æœ‰æ•°æ®,é‚£ä¹ˆæ•°æ®åº“ä¸­çš„å€¼å¿…é¡»æ˜¯æœ€æ–°çš„å€¼ã€‚ è¯»å†™ç¼“å­˜ åŒæ­¥ç›´å†™ç­–ç•¥ï¼šå†™ç¼“å­˜æ—¶ï¼Œä¹ŸåŒæ­¥å†™æ•°æ®åº“ï¼Œç¼“å­˜å’Œæ•°æ®åº“ä¸­çš„æ•°æ®ä¸€è‡´ã€‚ å¼‚æ­¥å†™å›ç­–ç•¥ï¼šå†™ç¼“å­˜æ—¶å€™ä¸åŒæ­¥å†™æ•°æ®åº“ï¼Œç­‰åˆ°æ•°æ®ä»ç¼“å­˜ä¸­æ·˜æ±°æ—¶ï¼Œå†å†™å›æ•°æ®åº“ï¼Œä½¿ç”¨è¿™ç§ç­–ç•¥æ—¶ï¼Œå¦‚æœæ•°æ®è¿˜æ²¡å†™å›æ•°æ®åº“ï¼Œç¼“å­˜å°±å‘ç”Ÿäº†æ•…éšœï¼Œé‚£ä¹ˆæ­¤æ—¶æ•°æ®åº“å°±æ²¡æœ‰æœ€æ–°æ•°æ®äº†ã€‚ ä½¿ç”¨äº‹ç‰©æœºåˆ¶ï¼Œå†™ç¼“å­˜æ—¶åŒæ—¶å†™æ•°æ®åº“ï¼Œæ¥ä¿è¯ç¼“å­˜å’Œæ•°æ®åº“çš„æ›´æ–°å…·æœ‰åŸå­æ€§ï¼Œé¿å…æ•°æ®ä¸ä¸€è‡´é—®é¢˜ã€‚ å¦‚æœå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚ä¸é«˜ï¼Œæ¯”å¦‚ä¿®æ”¹ä¸€ä¸‹éå…³é”®æ€§å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨å¼‚æ­¥å†™å›ç­–ç•¥ã€‚ åªè¯»ç¼“å­˜ æ–°å¢ã€åˆ é™¤ã€ä¿®æ”¹æ•°æ®ï¼Œéƒ½ä¼šç›´æ¥åœ¨æ•°æ®åº“ä¸­è¿›è¡Œæ“ä½œï¼Œåˆ é™¤ã€ä¿®æ”¹æ•°æ®æ—¶ï¼Œè¿˜ä¼šå°†ç¼“å­˜ä¸­çš„æ•°æ®åˆ é™¤ï¼Œç½®ä½æ— æ•ˆã€‚ æ–°å¢æ•°æ®çš„æƒ…å†µï¼Œæ•°æ®ç›´æ¥å†™åˆ°æ•°æ®åº“ä¸­ï¼Œä¸å¯¹ç¼“å­˜åšä»»ä½•æ“ä½œï¼Œç¼“å­˜ä¸­æœ¬èº«æ²¡æœ‰æ–°å¢çš„æ•°æ®ï¼Œç¼“å­˜å’Œæ•°æ®åº“çš„æ•°æ®æ˜¯ä¸€è‡´çš„ã€‚ åˆ æ”¹æ•°æ®çš„æƒ…å†µï¼Œåˆ æ”¹æ•°æ®ï¼Œéœ€è¦æ›´æ–°æ•°æ®åº“ï¼ŒåŒæ—¶éœ€è¦åœ¨ç¼“å­˜ä¸­åˆ é™¤æ•°æ®ï¼Œå¦‚æœä¸¤ä¸ªæ“ä½œæ— æ³•ä¿è¯åŸå­æ€§ï¼Œå°±ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´çš„é—®é¢˜ã€‚æ— è®ºå…ˆæ“ä½œç¼“å­˜è¿˜æ˜¯å…ˆæ“ä½œæ•°æ®åº“ åªè¦æœ‰ä¸€ä¸ªå¤±è´¥äº†ï¼Œå°±ä¼šå­˜åœ¨æ•°æ®ä¸ä¸€è‡´é—®é¢˜ï¼Œå’Œæ“ä½œé¡ºåºæ— å…³ã€‚ å¦‚ä½•è§£å†³æ•°æ®ä¸ä¸€è‡´é—®é¢˜ æ–¹æ¡ˆä¸€ï¼šé‡è¯•æœºåˆ¶ï¼ŒæŠŠè¦åˆ é™¤æˆ–è€…æ›´æ–°çš„å€¼æš‚å­˜åœ¨æ¶ˆæ¯é˜Ÿåˆ—ä¸­ï¼Œæ¯”å¦‚kafka,å½“åˆ æ”¹å¤±è´¥ï¼Œä»æ¶ˆæ¯é˜Ÿåˆ—ä¸­é‡æ–°è¯»å–ï¼Œå†è¿›è¡Œåˆ æ”¹æ“ä½œï¼Œå¦‚æœåˆ æ”¹æˆåŠŸï¼Œå°†æ¶ˆæ¯å»é™¤ï¼Œé¿å…é‡å¤æ“ä½œï¼Œå¦‚æœå¤±è´¥ è¿›è¡Œé‡è¯•ï¼Œé‡è¯•ä¸€å®šæ¬¡æ•°è¿˜æ˜¯å¤±è´¥ï¼Œå°†é”™è¯¯ä¿¡æ¯æŠ›å‡ºç»™ä¸šåŠ¡å±‚ï¼Œè®°å½•é”™è¯¯æ—¥å¿—ï¼Œåç»­è¿›è¡Œæ•°æ®æ¢å¤ã€‚ *æƒ…å†µä¸€ï¼šå…ˆåˆ é™¤ç¼“å­˜ã€å†æ›´æ–°æ•°æ®åº“ è§£å†³åŠæ³•ï¼šå»¶è¿ŸåŒåˆ  redis.delKey(x) db.update(x) Thread.sleep(n) redis.delKey(x) æƒ…å†µäºŒï¼šå…ˆæ›´æ–°æ•°æ®åº“å€¼ï¼Œå†åˆ é™¤ç¼“å­˜å€¼ è§£å†³æ–¹æ¡ˆï¼š åˆ é™¤ç¼“å­˜å€¼æˆ–æ›´æ–°æ•°æ®åº“å¤±è´¥è€Œå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ï¼Œä½ å¯ä»¥ä½¿ç”¨é‡è¯•æœºåˆ¶ç¡®ä¿åˆ é™¤æˆ–æ›´æ–°æ“ä½œæˆåŠŸ åœ¨åˆ é™¤ç¼“å­˜å€¼ã€æ›´æ–°æ•°æ®åº“çš„è¿™ä¸¤æ­¥æ“ä½œä¸­ï¼Œæœ‰å…¶ä»–çº¿ç¨‹çš„å¹¶å‘è¯»æ“ä½œï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹è¯»å–åˆ°æ—§å€¼ï¼Œåº”å¯¹æ–¹æ¡ˆæ˜¯å»¶è¿ŸåŒåˆ  å°ç»“ å»ºè®®ä½¿ç”¨ä¼˜å…ˆåˆ é™¤æ•°æ®åº“ï¼Œå†åˆ é™¤ç¼“å­˜çš„æ–¹æ³•ï¼› å…ˆåˆ é™¤ç¼“å­˜å†æ›´æ–°æ•°æ®åº“ï¼Œæœ‰å¯èƒ½å¯¼è‡´ç¬é—´è®¿é—®æ•°æ®åº“çš„é‡å¤ªå¤§ï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›è¿‡å¤§ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/ç¼“å­˜é›ªå´©ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€é—®é¢˜.html":{"url":"Redis/ç¼“å­˜é›ªå´©ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€é—®é¢˜.html","title":"12ã€ç¼“å­˜é›ªå´©ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€é—®é¢˜","keywords":"","body":"12ã€ç¼“å­˜é›ªå´©ã€ç¼“å­˜å‡»ç©¿ã€ç¼“å­˜ç©¿é€é—®é¢˜ ç¼“å­˜é›ªå´© æ¦‚å¿µï¼šç¼“å­˜é›ªå´©æ˜¯æŒ‡å¤§é‡çš„åº”ç”¨è¯·æ±‚æ— æ³•åœ¨ Redis ç¼“å­˜ä¸­è¿›è¡Œå¤„ç†ï¼Œç´§æ¥ç€ï¼Œåº”ç”¨å°†å¤§é‡è¯·æ±‚å‘é€åˆ°æ•°æ®åº“å±‚ï¼Œå¯¼è‡´æ•°æ®åº“å±‚çš„å‹åŠ›æ¿€å¢ã€‚ å¯¼è‡´ç¼“å­˜é›ªå´©çš„åŸå› ï¼š ç¬¬ä¸€ä¸ªåŸå› ï¼šç¼“å­˜ä¸­æœ‰å¤§é‡çš„æ•°æ®åŒæ—¶è¿‡æœŸï¼Œå¯¼è‡´å¤§é‡è¯·æ±‚æ— æ³•å¾—åˆ°å¤„ç†ã€‚ è§£å†³æ–¹æ¡ˆï¼š å¾®è°ƒè¿‡æœŸæ—¶é—´ï¼Œè®¾ç½®è¿‡æœŸæ—¶é—´æ—¶ï¼Œç»™è¿™äº›æ•°æ®çš„è¿‡æœŸæ—¶å€™å¢åŠ ä¸€ä¸ªè¾ƒå°çš„éšæœºæ•°ï¼Œå¯ä»¥é¿å…å¤§é‡æ•°æ®åŒä¸€æ—¶é—´è¿‡æœŸï¼Œä¹Ÿä¿è¯äº†è¿™äº›æ•°æ®åŸºæœ¬åœ¨ç›¸è¿‘çš„è¿‡æœŸæ—¶é—´å†…ã€‚ æœåŠ¡é™çº§ï¼š å½“è®¿é—®çš„æ˜¯éæ ¸å¿ƒæ•°æ®æ—¶ï¼Œæ¯”å¦‚è¯„è®ºã€å•†å“å±æ€§ã€æš‚åœä»ç¼“å­˜ä¸­æŸ¥è¯¢è¿™äº›æ•°æ®ï¼Œè€Œæ˜¯ç›´æ¥è¿”å›é¢„å®šä¹‰çš„å€¼æˆ–è€…é”™è¯¯ä¿¡æ¯ï¼Œä¸å»è¯·æ±‚redisï¼Œå¦‚æœè®¿é—®çš„æ˜¯ æ ¸å¿ƒæ•°æ®æ—¶ï¼Œæ¯”å¦‚å•†å“åº“å­˜ï¼Œä»ç„¶å…è®¸æŸ¥è¯¢ç¼“å­˜ï¼Œç¼“å­˜ç¼ºå¤±ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ã€‚ ç¬¬äºŒä¸ªåŸå› ï¼šRedisç¼“å­˜å®ä¾‹å‘ç”Ÿå®•æœºäº†ï¼Œæ— æ³•å¤„ç†è¯·æ±‚ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½æ‰“åˆ°äº†æ•°æ®åº“ä¸Šï¼Œå‘ç”Ÿç¼“å­˜é›ªå´©ã€‚ è§£å†³æ–¹æ¡ˆï¼š åœ¨ä¸šåŠ¡ç³»ç»Ÿä¸­å®ç°æœåŠ¡ç†”æ–­æˆ–è€…è¯·æ±‚é™æµæœºåˆ¶ã€‚æš‚åœæ•°æ®åº“è¯·æ±‚è®¿é—®ç¼“å­˜å’Œæ•°æ®åº“ï¼Œç­‰å®ä¾‹æ¢å¤æœåŠ¡åï¼Œå†å…è®¸å°†è¯·æ±‚å‘é€åˆ°ç¼“å­˜ã€‚ è¯·æ±‚é™æµï¼šæ¯”å¦‚è®¾ç½®æ¯ç§’è¯·æ±‚é‡æœ€å¤šä¸º1000ï¼Œå¤§äº1000çš„è¯·æ±‚ç›´æ¥æ‹’ç»æœåŠ¡ï¼Œæ¯”å¦‚æç¤ºç½‘ç»œç¹å¿™ï¼Œè¯·ç¨åé‡è¯•ã€‚ äº‹å‰é¢„é˜²ï¼šæ„å»ºredisé«˜å¯é é›†ç¾¤ï¼Œä¸»èŠ‚ç‚¹å®•æœºï¼Œè¿›è¡Œä¸»ä»åˆ‡æ¢ã€‚ ç¼“å­˜å‡»ç©¿ æ¦‚å¿µï¼šç¼“å­˜å‡»ç©¿æ˜¯æŒ‡ï¼Œé’ˆå¯¹æŸä¸ªè®¿é—®éå¸¸é¢‘ç¹çš„çƒ­ç‚¹æ•°æ®çš„è¯·æ±‚ï¼Œæ— æ³•åœ¨ç¼“å­˜ä¸­è¿›è¡Œå¤„ç†ï¼Œç´§æ¥ç€ï¼Œè®¿é—®è¯¥æ•°æ®çš„å¤§é‡è¯·æ±‚ï¼Œä¸€ä¸‹å­éƒ½å‘é€åˆ°äº†åç«¯æ•°æ®åº“ï¼Œå¯¼è‡´äº†æ•°æ®åº“å‹åŠ›æ¿€å¢ï¼Œä¼šå½±å“æ•°æ®åº“å¤„ç†å…¶ä»–è¯·æ±‚ã€‚ç¼“å­˜å‡»ç©¿çš„æƒ…å†µï¼Œç»å¸¸å‘ç”Ÿåœ¨çƒ­ç‚¹æ•°æ®è¿‡æœŸå¤±æ•ˆæ—¶ã€‚ è§£å†³åŠæ³•ï¼šå¯¹äºè®¿é—®ç‰¹åˆ«é¢‘ç¹çš„çƒ­ç‚¹æ•°æ®ï¼Œå°±ä¸è®¾ç½®è¿‡æœŸæ—¶é—´äº†ã€‚ ç¼“å­˜ç©¿é€ æ¦‚å¿µï¼šç¼“å­˜ç©¿é€æ˜¯æŒ‡è¦è®¿é—®çš„æ•°æ®æ—¢ä¸åœ¨ Redis ç¼“å­˜ä¸­ï¼Œä¹Ÿä¸åœ¨æ•°æ®åº“ä¸­ï¼Œå¯¼è‡´è¯·æ±‚åœ¨è®¿é—®ç¼“å­˜æ—¶ï¼Œå‘ç”Ÿç¼“å­˜ç¼ºå¤±ï¼Œå†å»è®¿é—®æ•°æ®åº“æ—¶ï¼Œå‘ç°æ•°æ®åº“ä¸­ä¹Ÿæ²¡æœ‰è¦è®¿é—®çš„æ•°æ®ã€‚æ­¤æ—¶ï¼Œåº”ç”¨ä¹Ÿæ— æ³•ä»æ•°æ®åº“ä¸­è¯»å–æ•°æ®å†å†™å…¥ç¼“å­˜ï¼Œæ¥æœåŠ¡åç»­è¯·æ±‚ï¼Œè¿™æ ·ä¸€æ¥ï¼Œç¼“å­˜ä¹Ÿå°±æˆäº†â€œæ‘†è®¾â€ï¼Œå¦‚æœåº”ç”¨æŒç»­æœ‰å¤§é‡è¯·æ±‚è®¿é—®æ•°æ®ï¼Œå°±ä¼šåŒæ—¶ç»™ç¼“å­˜å’Œæ•°æ®åº“å¸¦æ¥å·¨å¤§å‹åŠ›ã€‚ ç¼“å­˜ç©¿é€å‘ç”Ÿçš„åœºæ™¯ ä¸šåŠ¡å±‚æ“ä½œé”™è¯¯ï¼Œç¼“å­˜ä¸­çš„æ•°æ®å’Œæ•°æ®åº“ä¸­çš„æ•°æ®è¢«è¯¯åˆ é™¤äº†ï¼Œæ‰€ä»¥ç¼“å­˜ä¸­å’Œæ•°æ®åº“ä¸­æ²¡æœ‰æ•°æ®ã€‚ æ¶æ„æ”»å‡»,ä¸“é—¨è®¿é—®æ•°æ®åº“ä¸­æ²¡æœ‰çš„æ•°æ®ã€‚ è§£å†³æ–¹æ¡ˆï¼š ç¼“å­˜ç©ºå€¼æˆ–è€…ç¼ºçœå€¼ï¼Œä¸€æ—¦å‘ç”Ÿç¼“å­˜ç©¿é€ ï¼Œé’ˆå¯¹æŸ¥è¯¢çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨redisä¸­ç¼“å­˜ä¸€ä¸ªç©ºå€¼æˆ–è€…ç¼ºçœå€¼ï¼Œåç»­æ“ä½œè¯»å–ç©ºå€¼æˆ–è€…ç¼ºçœå€¼ã€‚ ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨å¿«é€Ÿåˆ¤æ–­æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œé¿å…ä»æ•°æ®åº“ä¸­æŸ¥è¯¢æ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œå‡è½»æ•°æ®åº“å‹åŠ›ã€‚ å‰ç«¯è¿›è¡Œè¯·æ±‚æ£€æµ‹ï¼Œæ‹¦æˆªæ‰æ¶æ„è¯·æ±‚ã€‚ å°ç»“ äº‹å‰é¢„é˜²ï¼Œä½¿ç”¨é¢„å®‰ï¼ŒæœåŠ¡ç†”æ–­ã€æœåŠ¡é™ä½ã€æœåŠ¡é™æµéƒ½å¯¹ä¸šåŠ¡ç³»ç»Ÿå­˜åœ¨ä¸€å®šçš„å½±å“ï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚ é’ˆå¯¹ç¼“å­˜é›ªå´©ã€åˆç†è®¾ç½®æ•°æ®è¿‡æœŸæ—¶é—´ã€æ­å»ºé«˜å¯ç”¨ç¼“å­˜é›†ç¾¤ã€‚ é’ˆå¯¹ç¼“å­˜å‡»ç©¿ã€åœ¨ç¼“å­˜è®¿é—®éå¸¸é¢‘ç¹çš„çƒ­ç‚¹æ•°æ®æ—¶ã€ä¸è®¾ç½®æ•°æ®è¿‡æœŸæ—¶é—´ã€‚ é’ˆå¯¹ç¼“å­˜ç©¿é€ã€æå‰åœ¨å…¥å£å‰ç«¯åšå¥½å……åˆ†çš„æ¶æ„è¯·æ±‚æ£€æµ‹ã€æ‹¦æˆªæ¶æ„è¯·æ±‚ï¼Œè§„èŒƒæ•°æ®åº“çš„åˆ é™¤æ“ä½œã€é¿å…å‡ºç°è¯¯æ“ä½œã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Rediså¦‚ä½•åº”å¯¹å¹¶å‘è®¿é—®.html":{"url":"Redis/Rediså¦‚ä½•åº”å¯¹å¹¶å‘è®¿é—®.html","title":"13ã€Rediså¦‚ä½•åº”å¯¹å¹¶å‘è®¿é—®","keywords":"","body":"13ã€Rediså¦‚ä½•åº”å¯¹å¹¶å‘è®¿é—® è§£å†³å¹¶å‘è®¿é—®åŠæ³•ï¼š åŠ é”å’ŒåŸå­æ“ä½œï¼ŒåŠ é”ä¼šé™ä½ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½ã€‚ Redisçš„ä¸¤ç§åŸå­æ“ä½œæ–¹æ³• ä¸ºäº†å®ç°å¹¶å‘æ§åˆ¶è¦æ±‚çš„ä¸´ç•ŒåŒºä»£ç äº’æ–¥æ‰§è¡Œï¼ŒRedisçš„åŸå­æ“ä½œé‡‡ç”¨äº†ä¸¤ç§æ–¹æ³• æŠŠå¤šä¸ªæ“ä½œåœ¨Redisä¸­å®ç°æˆä¸€ä¸ªæ“ä½œï¼Œä¹Ÿå°±æ˜¯å•å‘½ä»¤æ“ä½œ æŠŠå¤šä¸ªæ“ä½œå†™åˆ°ä¸€ä¸ªLuaè„šæœ¬ä¸­ï¼Œä»¥åŸå­æ–¹å¼æ‰§è¡Œå•ä¸ªLuaè„šæœ¬ å¦‚ä½•ä½¿ç”¨Rediså®ç°åˆ†å¸ƒå¼é” å®ç°åˆ†å¸ƒå¼é”çš„ä¸¤ä¸ªè¦æ±‚ åˆ†å¸ƒå¼é”çš„åŠ é”å’Œé‡Šæ”¾é”çš„è¿‡ç¨‹ï¼Œè®¾è®¡å¤šä¸ªæ“ä½œã€æ‰€ä»¥åœ¨å®ç°åˆ†å¸ƒå¼é”æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿éšœè¿™äº›é”æ“ä½œçš„åŸå­æ€§ã€‚ å…±äº«å­˜å‚¨ç³»ç»Ÿä¿å­˜äº†é”å˜é‡ï¼Œå¦‚æœå…±äº«å­˜å‚¨ç³»ç»Ÿå‘ç”Ÿæ•…éšœæˆ–å®•æœºï¼Œé‚£ä¹ˆå®¢æˆ·ç«¯ä¹Ÿå°±æ— æ³•è¿›è¡Œé”æ“ä½œäº†ï¼Œåœ¨å®ç°åˆ†å¸ƒå¼é”æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¿éšœå…±äº«å­˜å‚¨ç³»ç»Ÿçš„å¯é æ€§ï¼Œè¿›è€Œä¿éšœé”çš„å¯é æ€§ã€‚ åŸºäºå•ä¸ªrediså®ç°åˆ†å¸ƒå¼é” //åŠ é” SETNX lock_key 1 //ä¸šåŠ¡é€»è¾‘ DO THINGS //é‡Šæ”¾é” DEL lock_key ç»™é”è®¾ç½®è¿‡æœŸæ—¶é—´ åŒºåˆ†æ¥è‡ªä¸åŒçš„é”æ“ä½œ åŸºäºå¤šä¸ªredisèŠ‚ç‚¹å®ç°é«˜å¯é çš„åˆ†å¸ƒå¼é” å®¢æˆ·ç«¯è·å–å½“å‰æ—¶å€™ å®¢æˆ·ç«¯æŒ‰é¡ºåºä¾æ¬¡å‘Nä¸ªRediså®ä¾‹æ‰§è¡ŒåŠ é”æ“ä½œ ä¸€æ—¦å®¢æˆ·ç«¯å®Œæˆäº†å’Œæ‰€æœ‰Rediså®ä¾‹çš„åŠ é”æ“ä½œï¼Œå®¢æˆ·ç«¯å°±è¦è®¡ç®—æ•´ä¸ªåŠ é”è¿‡ç¨‹çš„æ€»è€—æ—¶ã€‚ å°ç»“ åˆ†å¸ƒå¼é”æ˜¯ç”±å…±äº«å­˜å‚¨ç³»ç»Ÿç»´æŠ¤çš„å˜é‡ï¼Œå¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥å‘å…±äº«å­˜å‚¨ç³»ç»Ÿå‘é€å‘½ä»¤è¿›è¡ŒåŠ é”æˆ–é‡Šæ”¾é”æ“ä½œã€‚Redis ä½œä¸ºä¸€ä¸ªå…±äº«å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥ç”¨æ¥å®ç°åˆ†å¸ƒå¼é”ã€‚ åœ¨åŸºäºå•ä¸ª Redis å®ä¾‹å®ç°åˆ†å¸ƒå¼é”æ—¶ï¼Œå¯¹äºåŠ é”æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ã€‚ åŠ é”åŒ…æ‹¬äº†è¯»å–é”å˜é‡ã€æ£€æŸ¥é”å˜é‡å€¼å’Œè®¾ç½®é”å˜é‡å€¼ä¸‰ä¸ªæ“ä½œï¼Œä½†éœ€è¦ä»¥åŸå­æ“ä½œçš„æ–¹å¼å®Œæˆï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ SET å‘½ä»¤å¸¦ä¸Š NX é€‰é¡¹æ¥å®ç°åŠ é”ï¼› é”å˜é‡éœ€è¦è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œä»¥å…å®¢æˆ·ç«¯æ‹¿åˆ°é”åå‘ç”Ÿå¼‚å¸¸ï¼Œå¯¼è‡´é”ä¸€ç›´æ— æ³•é‡Šæ”¾ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åœ¨ SET å‘½ä»¤æ‰§è¡Œæ—¶åŠ ä¸Š EX/PX é€‰é¡¹ï¼Œè®¾ç½®å…¶è¿‡æœŸæ—¶é—´ï¼› é”å˜é‡çš„å€¼éœ€è¦èƒ½åŒºåˆ†æ¥è‡ªä¸åŒå®¢æˆ·ç«¯çš„åŠ é”æ“ä½œï¼Œä»¥å…åœ¨é‡Šæ”¾é”æ—¶ï¼Œå‡ºç°è¯¯é‡Šæ”¾æ“ä½œï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ SET å‘½ä»¤è®¾ç½®é”å˜é‡å€¼æ—¶ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯è®¾ç½®çš„å€¼æ˜¯ä¸€ä¸ªå”¯ä¸€å€¼ï¼Œç”¨äºæ ‡è¯†å®¢æˆ·ç«¯ã€‚ å’ŒåŠ é”ç±»ä¼¼ï¼Œé‡Šæ”¾é”ä¹ŸåŒ…å«äº†è¯»å–é”å˜é‡å€¼ã€åˆ¤æ–­é”å˜é‡å€¼å’Œåˆ é™¤é”å˜é‡ä¸‰ä¸ªæ“ä½œï¼Œä¸è¿‡ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨å•ä¸ªå‘½ä»¤æ¥å®ç°ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨ Lua è„šæœ¬æ‰§è¡Œé‡Šæ”¾é”æ“ä½œï¼Œé€šè¿‡ Redis åŸå­æ€§åœ°æ‰§è¡Œ Lua è„šæœ¬ï¼Œæ¥ä¿è¯é‡Šæ”¾é”æ“ä½œçš„åŸå­æ€§ã€‚ ä¸è¿‡ï¼ŒåŸºäºå•ä¸ª Redis å®ä¾‹å®ç°åˆ†å¸ƒå¼é”æ—¶ï¼Œä¼šé¢ä¸´å®ä¾‹å¼‚å¸¸æˆ–å´©æºƒçš„æƒ…å†µï¼Œè¿™ä¼šå¯¼è‡´å®ä¾‹æ— æ³•æä¾›é”æ“ä½œï¼Œæ­£å› ä¸ºæ­¤ï¼ŒRedis ä¹Ÿæä¾›äº† Redlock ç®—æ³•ï¼Œç”¨æ¥å®ç°åŸºäºå¤šä¸ªå®ä¾‹çš„åˆ†å¸ƒå¼é”ã€‚è¿™æ ·ä¸€æ¥ï¼Œé”å˜é‡ç”±å¤šä¸ªå®ä¾‹ç»´æŠ¤ï¼Œå³ä½¿æœ‰å®ä¾‹å‘ç”Ÿäº†æ•…éšœï¼Œé”å˜é‡ä»ç„¶æ˜¯å­˜åœ¨çš„ï¼Œå®¢æˆ·ç«¯è¿˜æ˜¯å¯ä»¥å®Œæˆé”æ“ä½œã€‚Redlock ç®—æ³•æ˜¯å®ç°é«˜å¯é åˆ†å¸ƒå¼é”çš„ä¸€ç§æœ‰æ•ˆè§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥åœ¨å®é™…åº”ç”¨ä¸­æŠŠå®ƒç”¨èµ·æ¥ã€‚ ã€ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Redis/Redisè„‘è£‚.html":{"url":"Redis/Redisè„‘è£‚.html","title":"14ã€Redisè„‘è£‚","keywords":"","body":"14ã€Redisè„‘è£‚ æ‰€è°“çš„è„‘è£‚ï¼Œå°±æ˜¯æŒ‡åœ¨ä¸»ä»é›†ç¾¤ä¸­ï¼ŒåŒæ—¶æœ‰ä¸¤ä¸ªä¸»èŠ‚ç‚¹ï¼Œå®ƒä»¬éƒ½èƒ½æ¥æ”¶å†™è¯·æ±‚ã€‚è€Œè„‘è£‚æœ€ç›´æ¥çš„å½±å“ï¼Œå°±æ˜¯å®¢æˆ·ç«¯ä¸çŸ¥é“åº”è¯¥å¾€å“ªä¸ªä¸»èŠ‚ç‚¹å†™å…¥æ•°æ®ï¼Œç»“æœå°±æ˜¯ä¸åŒçš„å®¢æˆ·ç«¯ä¼šå¾€ä¸åŒçš„ä¸»èŠ‚ç‚¹ä¸Šå†™å…¥æ•°æ®ã€‚è€Œä¸”ï¼Œä¸¥é‡çš„è¯ï¼Œè„‘è£‚ä¼šè¿›ä¸€æ­¥å¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚ è„‘è£‚ç»å¸¸ä¼šå‘ç”Ÿæ•°æ®ä¸¢å¤± ä¸ºä»€ä¹ˆä¼šå‘ç”Ÿè„‘è£‚ ç¬¬ä¸€æ­¥ï¼šç¡®è®¤æ˜¯ä¸æ˜¯æ•°æ®åŒæ­¥å‡ºç°äº†é—®é¢˜ ä¸»åº“çš„æ•°æ®è¿˜æ²¡æœ‰åŒæ­¥åˆ°ä»åº“ï¼Œç»“æœä¸»åº“å‘ç”Ÿäº†æ•…éšœï¼Œç­‰ä»åº“å‡çº§ä¸ºä¸»åº“åï¼ŒæœªåŒæ­¥çš„æ•°æ®å°±ä¸¢å¤±äº†ã€‚ è„‘è£‚å‘ç”Ÿçš„è¿‡ç¨‹ ä¸ºä»€ä¹ˆè„‘è£‚ä¼šä¸¢å¤±æ•°æ® ä¸»ä»åˆ‡æ¢åï¼Œä»åº“ä¸€æ—¦å‡çº§ä¸ºæ–°ä¸»åº“ï¼Œå“¨å…µå°±ä¼šè®©åŸä¸»åº“æ‰§è¡Œ slave of å‘½ä»¤ï¼Œå’Œæ–°ä¸»åº“é‡æ–°è¿›è¡Œå…¨é‡åŒæ­¥ã€‚è€Œåœ¨å…¨é‡åŒæ­¥æ‰§è¡Œçš„æœ€åé˜¶æ®µï¼ŒåŸä¸»åº“éœ€è¦æ¸…ç©ºæœ¬åœ°çš„æ•°æ®ï¼ŒåŠ è½½æ–°ä¸»åº“å‘é€çš„ RDB æ–‡ä»¶ï¼Œè¿™æ ·ä¸€æ¥ï¼ŒåŸä¸»åº“åœ¨ä¸»ä»åˆ‡æ¢æœŸé—´ä¿å­˜çš„æ–°å†™æ•°æ®å°±ä¸¢å¤±äº†ã€‚ å¦‚ä½•åº”å¯¹è„‘è£‚é—®é¢˜ min-slaves-to-writeï¼šè¿™ä¸ªé…ç½®é¡¹è®¾ç½®äº†ä¸»åº“èƒ½è¿›è¡Œæ•°æ®åŒæ­¥çš„æœ€å°‘ä»åº“æ•°é‡ï¼› min-slaves-max-lagï¼šè¿™ä¸ªé…ç½®é¡¹è®¾ç½®äº†ä¸»ä»åº“é—´è¿›è¡Œæ•°æ®å¤åˆ¶æ—¶ï¼Œä»åº“ç»™ä¸»åº“å‘é€ ACK æ¶ˆæ¯çš„æœ€å¤§å»¶è¿Ÿï¼ˆä»¥ç§’ä¸ºå•ä½ï¼‰ã€‚ è„‘è£‚ä¸»åº“å‡æ•…éšœåŸå›  å’Œä¸»åº“éƒ¨ç½²åœ¨åŒä¸€å°æœåŠ¡å™¨ä¸Šçš„å…¶ä»–ç¨‹åºä¸´æ—¶å ç”¨äº†å¤§é‡èµ„æºï¼ˆä¾‹å¦‚ CPU èµ„æºï¼‰ï¼Œå¯¼è‡´ä¸»åº“èµ„æºä½¿ç”¨å—é™ï¼ŒçŸ­æ—¶é—´å†…æ— æ³•å“åº”å¿ƒè·³ã€‚å…¶å®ƒç¨‹åºä¸å†ä½¿ç”¨èµ„æºæ—¶ï¼Œä¸»åº“åˆæ¢å¤æ­£å¸¸ã€‚ ä¸»åº“è‡ªèº«é‡åˆ°äº†é˜»å¡çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼Œå¤„ç† bigkey æˆ–æ˜¯å‘ç”Ÿå†…å­˜ swap, çŸ­æ—¶é—´å†…æ— æ³•å“åº”å¿ƒè·³ï¼Œç­‰ä¸»åº“é˜»å¡è§£é™¤åï¼Œåˆæ¢å¤æ­£å¸¸çš„è¯·æ±‚å¤„ç†äº†. Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/Kafka.html":{"url":"ç®€ä»‹/Kafka.html","title":"Kafka","keywords":"","body":"Kafka Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"Kafka/kafkaæ¶ˆæ¯æ¶æ„.html":{"url":"Kafka/kafkaæ¶ˆæ¯æ¶æ„.html","title":"kafkaæ¶ˆæ¯æ¶æ„","keywords":"","body":"kafkaæ¶ˆæ¯æ¶æ„ ç”Ÿäº§è€…æ¶ˆæ¯åˆ†åŒºæœºåˆ¶åŸç†å‰–æ Kafkaè½®è¯¢ç­–ç•¥:è½®è¯¢ç­–ç•¥æ˜¯Kafka Javaç”Ÿäº§è€…APIé»˜è®¤æä¾›çš„åˆ†åŒºç­–ç•¥ã€‚å¦‚æœä½ æœªæŒ‡å®špartitioner.classå‚æ•°ï¼Œé‚£ä¹ˆä½ çš„ç”Ÿäº§è€…ç¨‹åºä¼šæŒ‰ç…§è½®è¯¢çš„æ–¹å¼åœ¨ä¸»é¢˜çš„æ‰€æœ‰åˆ†åŒºé—´å‡åŒ€åœ°â€œç æ”¾â€æ¶ˆæ¯, è½®è¯¢ç­–ç•¥æœ‰éå¸¸ä¼˜ç§€çš„è´Ÿè½½å‡è¡¡è¡¨ç°ï¼Œå®ƒæ€»æ˜¯èƒ½ä¿è¯æ¶ˆæ¯æœ€å¤§é™åº¦åœ°è¢«å¹³å‡åˆ†é…åˆ°æ‰€æœ‰åˆ†åŒºä¸Šï¼Œæ•…é»˜è®¤æƒ…å†µä¸‹å®ƒæ˜¯æœ€åˆç†çš„åˆ†åŒºç­–ç•¥ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬æœ€å¸¸ç”¨çš„åˆ†åŒºç­–ç•¥ä¹‹ä¸€ã€‚ éšæœºç­–ç•¥:ä¹Ÿç§°Randomnessç­–ç•¥ã€‚æ‰€è°“éšæœºå°±æ˜¯æˆ‘ä»¬éšæ„åœ°å°†æ¶ˆæ¯æ”¾ç½®åˆ°ä»»æ„ä¸€ä¸ªåˆ†åŒºä¸Š. æŒ‰æ¶ˆæ¯é”®ä¿åºç­–ç•¥: ç”Ÿäº§è€…å‹ç¼©ç®—æ³• åœ¨ç”Ÿäº§è€…å¯ç”¨å‹ç¼©ç®—æ³•ï¼Œä½¿ç”¨gzipå‹ç¼©ï¼Œç”Ÿäº§è€…ç«¯å¯ç”¨å‹ç¼©ï¼Œåœ¨Brokerç«¯ä¹Ÿå¯èƒ½è¿›è¡Œå‹ç¼© Properties props = new Properties(); props.put(\"bootstrap.servers\", \"localhost:9092\"); props.put(\"acks\", \"all\"); props.put(\"key.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\"); props.put(\"value.serializer\", \"org.apache.kafka.common.serialization.StringSerializer\"); // å¼€å¯GZIPå‹ç¼© props.put(\"compression.type\", \"gzip\"); Producer producer = new KafkaProducer<>(props); æ€»ç»“ï¼šProducerç«¯å‹ç¼©ã€Brokerç«¯ä¿æŒã€Consumerç«¯è§£å‹ç¼© å¦‚ä½•é…ç½®Kafkaæ— æ¶ˆæ¯ä¸¢å¤± ä¸€å¥è¯æ¦‚æ‹¬ï¼ŒKafkaåªå¯¹â€œå·²æäº¤â€çš„æ¶ˆæ¯ï¼ˆcommitted messageï¼‰åšæœ‰é™åº¦çš„æŒä¹…åŒ–ä¿è¯ Produceræ°¸è¿œè¦ä½¿ç”¨å¸¦æœ‰å›è°ƒé€šçŸ¥çš„å‘é€APIï¼Œä¹Ÿå°±æ˜¯è¯´ä¸è¦ä½¿ç”¨producer.send(msg)ï¼Œè€Œè¦ä½¿ç”¨producer.send(msg, callback) è§£å†³æ¶ˆè´¹è€…ç¨‹åºä¸¢å¤±æ•°æ®:ç»´æŒå…ˆæ¶ˆè´¹æ¶ˆæ¯ï¼Œå†æ›´æ–°ä½ç§»çš„é¡ºåºã€‚ å¦‚æœæ˜¯å¤šçº¿ç¨‹å¼‚æ­¥å¤„ç†æ¶ˆè´¹æ¶ˆæ¯ï¼ŒConsumerç¨‹åºä¸è¦å¼€å¯è‡ªåŠ¨æäº¤ä½ç§»ï¼Œè€Œæ˜¯è¦åº”ç”¨ç¨‹åºæ‰‹åŠ¨æäº¤ä½ç§» æ€»ç»“ï¼šæœ€ä½³å®è·µ ä¸è¦ä½¿ç”¨producer.send(msg)ï¼Œè€Œè¦ä½¿ç”¨producer.send(msg, callback)ã€‚è®°ä½ï¼Œä¸€å®šè¦ä½¿ç”¨å¸¦æœ‰å›è°ƒé€šçŸ¥çš„sendæ–¹æ³• è®¾ç½®acks = allã€‚acksæ˜¯Producerçš„ä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨äº†ä½ å¯¹â€œå·²æäº¤â€æ¶ˆæ¯çš„å®šä¹‰ã€‚å¦‚æœè®¾ç½®æˆallï¼Œåˆ™è¡¨æ˜æ‰€æœ‰å‰¯æœ¬Brokeréƒ½è¦æ¥æ”¶åˆ°æ¶ˆæ¯ï¼Œè¯¥æ¶ˆæ¯æ‰ç®—æ˜¯â€œå·²æäº¤â€ã€‚è¿™æ˜¯æœ€é«˜ç­‰çº§çš„â€œå·²æäº¤â€å®šä¹‰ã€‚ è®¾ç½®retriesä¸ºä¸€ä¸ªè¾ƒå¤§çš„å€¼ã€‚è¿™é‡Œçš„retriesåŒæ ·æ˜¯Producerçš„å‚æ•°ï¼Œå¯¹åº”å‰é¢æåˆ°çš„Producerè‡ªåŠ¨é‡è¯•ã€‚å½“å‡ºç°ç½‘ç»œçš„ç¬æ—¶æŠ–åŠ¨æ—¶ï¼Œæ¶ˆæ¯å‘é€å¯èƒ½ä¼šå¤±è´¥ï¼Œæ­¤æ—¶é…ç½®äº†retries > 0çš„Producerèƒ½å¤Ÿè‡ªåŠ¨é‡è¯•æ¶ˆæ¯å‘é€ï¼Œé¿å…æ¶ˆæ¯ä¸¢å¤± è®¾ç½®unclean.leader.election.enable = false è®¾ç½®replication.factor >= 3ã€‚è¿™ä¹Ÿæ˜¯Brokerç«¯çš„å‚æ•°ã€‚å…¶å®è¿™é‡Œæƒ³è¡¨è¿°çš„æ˜¯ï¼Œæœ€å¥½å°†æ¶ˆæ¯å¤šä¿å­˜å‡ ä»½ï¼Œæ¯•ç«Ÿç›®å‰é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±çš„ä¸»è¦æœºåˆ¶å°±æ˜¯å†—ä½™ è®¾ç½®min.insync.replicas > 1ã€‚è¿™ä¾ç„¶æ˜¯Brokerç«¯å‚æ•°ï¼Œæ§åˆ¶çš„æ˜¯æ¶ˆæ¯è‡³å°‘è¦è¢«å†™å…¥åˆ°å¤šå°‘ä¸ªå‰¯æœ¬æ‰ç®—æ˜¯â€œå·²æäº¤â€ã€‚è®¾ç½®æˆå¤§äº1å¯ä»¥æå‡æ¶ˆæ¯æŒä¹…æ€§ã€‚åœ¨å®é™…ç¯å¢ƒä¸­åƒä¸‡ä¸è¦ä½¿ç”¨é»˜è®¤å€¼1ã€‚ ç¡®ä¿replication.factor > min.insync.replicasã€‚å¦‚æœä¸¤è€…ç›¸ç­‰ï¼Œé‚£ä¹ˆåªè¦æœ‰ä¸€ä¸ªå‰¯æœ¬æŒ‚æœºï¼Œæ•´ä¸ªåˆ†åŒºå°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚æˆ‘ä»¬ä¸ä»…è¦æ”¹å–„æ¶ˆæ¯çš„æŒä¹…æ€§ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ï¼Œè¿˜è¦åœ¨ä¸é™ä½å¯ç”¨æ€§çš„åŸºç¡€ä¸Šå®Œæˆã€‚æ¨èè®¾ç½®æˆreplication.factor = min.insync.replicas + 1 ç¡®ä¿æ¶ˆæ¯æ¶ˆè´¹å®Œæˆå†æäº¤ã€‚Consumerç«¯æœ‰ä¸ªå‚æ•°enable.auto.commitï¼Œæœ€å¥½æŠŠå®ƒè®¾ç½®æˆfalseï¼Œå¹¶é‡‡ç”¨æ‰‹åŠ¨æäº¤ä½ç§»çš„æ–¹å¼ã€‚å°±åƒå‰é¢è¯´çš„ï¼Œè¿™å¯¹äºå•Consumerå¤šçº¿ç¨‹å¤„ç†çš„åœºæ™¯è€Œè¨€æ˜¯è‡³å…³é‡è¦çš„ã€‚ Kafkaæ‹¦æˆªå™¨ Kafkaæ‹¦æˆªå™¨åˆ†ä¸ºç”Ÿäº§è€…æ‹¦æˆªå™¨å’Œæ¶ˆè´¹è€…æ‹¦æˆªå™¨ Kafkaæ‹¦æˆªå™¨å¯ä»¥åº”ç”¨äºåŒ…æ‹¬å®¢æˆ·ç«¯ç›‘æ§ã€ç«¯åˆ°ç«¯ç³»ç»Ÿæ€§èƒ½æ£€æµ‹ã€æ¶ˆæ¯å®¡è®¡ç­‰å¤šç§åŠŸèƒ½åœ¨å†…çš„åœºæ™¯ Javaç”Ÿäº§è€…æ˜¯å¦‚ä½•ç®¡ç†TCPè¿æ¥çš„ KafkaProducerå®ä¾‹åˆ›å»ºæ—¶å¯åŠ¨Senderçº¿ç¨‹ï¼Œä»è€Œåˆ›å»ºä¸bootstrap.serversä¸­æ‰€æœ‰Brokerçš„TCPè¿æ¥ KafkaProducerå®ä¾‹é¦–æ¬¡æ›´æ–°å…ƒæ•°æ®ä¿¡æ¯ä¹‹åï¼Œè¿˜ä¼šå†æ¬¡åˆ›å»ºä¸é›†ç¾¤ä¸­æ‰€æœ‰Brokerçš„TCPè¿æ¥ å¦‚æœProducerç«¯å‘é€æ¶ˆæ¯åˆ°æŸå°Brokeræ—¶å‘ç°æ²¡æœ‰ä¸è¯¥Brokerçš„TCPè¿æ¥ï¼Œé‚£ä¹ˆä¹Ÿä¼šç«‹å³åˆ›å»ºè¿æ¥ã€‚ å¦‚æœè®¾ç½®Producerç«¯connections.max.idle.mså‚æ•°å¤§äº0ï¼Œåˆ™æ­¥éª¤1ä¸­åˆ›å»ºçš„TCPè¿æ¥ä¼šè¢«è‡ªåŠ¨å…³é—­ï¼›å¦‚æœè®¾ç½®è¯¥å‚æ•°=-1ï¼Œé‚£ä¹ˆæ­¥éª¤1ä¸­åˆ›å»ºçš„TCPè¿æ¥å°†æ— æ³•è¢«å…³é—­ï¼Œä»è€Œæˆä¸ºâ€œåƒµå°¸â€è¿æ¥ã€‚ Producerç«¯å…³é—­TCPè¿æ¥çš„æ–¹å¼æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ç”¨æˆ·ä¸»åŠ¨å…³é—­ï¼›ä¸€ç§æ˜¯Kafkaè‡ªåŠ¨å…³é—­ã€‚ Kafkaæ¶ˆæ¯äº¤ä»˜å¯é æ€§ä¿éšœä»¥åŠç²¾ç¡®å¤„ç†ä¸€æ¬¡è¯­ä¹‰çš„å®ç°ã€‚ æœ€å¤šä¸€æ¬¡ï¼ˆat most onceï¼‰ï¼šæ¶ˆæ¯å¯èƒ½ä¼šä¸¢å¤±ï¼Œä½†ç»ä¸ä¼šè¢«é‡å¤å‘é€ã€‚ è‡³å°‘ä¸€æ¬¡ï¼ˆat least onceï¼‰ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä½†æœ‰å¯èƒ½è¢«é‡å¤å‘é€ã€‚ ç²¾ç¡®ä¸€æ¬¡ï¼ˆexactly onceï¼‰ï¼šæ¶ˆæ¯ä¸ä¼šä¸¢å¤±ï¼Œä¹Ÿä¸ä¼šè¢«é‡å¤å‘é€ã€‚ kafkaé»˜è®¤æä¾›çš„äº¤ä»˜å¯é ä¿éšœæ˜¯ç¬¬äºŒé’ˆï¼šè‡³å°‘ä¸€æ¬¡ã€‚ Kafkaå¦‚ä½•åšåˆ°ç²¾ç¡®ä¸€æ¬¡çš„æ¶ˆæ¯äº¤ä»˜ï¼šè¿™æ˜¯é€šè¿‡ä¸¤ç§æœºåˆ¶ï¼šå¹‚ç­‰æ€§ï¼ˆIdempotenceï¼‰å’Œäº‹åŠ¡ï¼ˆTransactionï¼‰ å¹‚ç­‰æ€§Produceråªèƒ½ä¿è¯å•åˆ†åŒºã€å•ä¼šè¯ä¸Šçš„æ¶ˆæ¯å¹‚ç­‰æ€§ï¼›è€Œäº‹åŠ¡èƒ½å¤Ÿä¿è¯è·¨åˆ†åŒºã€è·¨ä¼šè¯é—´çš„å¹‚ç­‰æ€§ã€‚ä»äº¤ä»˜è¯­ä¹‰ä¸Šæ¥çœ‹ï¼Œè‡ªç„¶æ˜¯äº‹åŠ¡å‹Producerèƒ½åšçš„æ›´å¤šã€‚ æ¶ˆè´¹è€…ç»„åˆ°åº•æ˜¯ä»€ä¹ˆ Kafkaä¸­ä½ç§»æäº¤é‚£äº›äº‹å„¿ Kafka Consumerçš„ä½ç§»æäº¤ï¼Œæ˜¯å®ç°Consumerç«¯è¯­ä¹‰ä¿éšœçš„é‡è¦æ‰‹æ®µã€‚ä½ç§»æäº¤åˆ†ä¸ºè‡ªåŠ¨æäº¤å’Œæ‰‹åŠ¨æäº¤ï¼Œè€Œæ‰‹åŠ¨æäº¤åˆåˆ†ä¸ºåŒæ­¥æäº¤å’Œå¼‚æ­¥æäº¤ã€‚åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæ¨èä½ ä½¿ç”¨æ‰‹åŠ¨æäº¤æœºåˆ¶ï¼Œå› ä¸ºå®ƒæ›´åŠ å¯æ§ï¼Œä¹Ÿæ›´åŠ çµæ´»ã€‚å¦å¤–ï¼Œå»ºè®®ä½ åŒæ—¶é‡‡ç”¨åŒæ­¥æäº¤å’Œå¼‚æ­¥æäº¤ä¸¤ç§æ–¹å¼ï¼Œè¿™æ ·æ—¢ä¸å½±å“TPSï¼Œåˆæ”¯æŒè‡ªåŠ¨é‡è¯•ï¼Œæ”¹å–„Consumeråº”ç”¨çš„é«˜å¯ç”¨æ€§ã€‚æ€»ä¹‹ï¼ŒKafka Consumer APIæä¾›äº†å¤šç§çµæ´»çš„æäº¤æ–¹æ³•ï¼Œæ–¹ä¾¿ä½ æ ¹æ®è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯å®šåˆ¶ä½ çš„æäº¤ç­–ç•¥ã€‚ Kafkaå‰¯æœ¬æœºåˆ¶è¯¦è§£ æ‰€è°“çš„å‰¯æœ¬æœºåˆ¶ï¼ˆReplicationï¼‰ï¼Œä¹Ÿå¯ä»¥ç§°ä¹‹ä¸ºå¤‡ä»½æœºåˆ¶ï¼Œé€šå¸¸æ˜¯æŒ‡åˆ†å¸ƒå¼ç³»ç»Ÿåœ¨å¤šå°ç½‘ç»œäº’è”çš„æœºå™¨ä¸Šä¿å­˜æœ‰ç›¸åŒçš„æ•°æ®æ‹·è´ã€‚å‰¯æœ¬æœºåˆ¶æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ æä¾›æ•°æ®å†—ä½™ã€‚å³ä½¿ç³»ç»Ÿéƒ¨åˆ†ç»„ä»¶å¤±æ•ˆï¼Œç³»ç»Ÿä¾ç„¶èƒ½å¤Ÿç»§ç»­è¿è½¬ï¼Œå› è€Œå¢åŠ äº†æ•´ä½“å¯ç”¨æ€§ä»¥åŠæ•°æ®æŒä¹…æ€§ã€‚ æä¾›é«˜ä¼¸ç¼©æ€§ã€‚æ”¯æŒæ¨ªå‘æ‰©å±•ï¼Œèƒ½å¤Ÿé€šè¿‡å¢åŠ æœºå™¨çš„æ–¹å¼æ¥æå‡è¯»æ€§èƒ½ï¼Œè¿›è€Œæé«˜è¯»æ“ä½œååé‡ã€‚ æ”¹å–„æ•°æ®å±€éƒ¨æ€§ã€‚å…è®¸å°†æ•°æ®æ”¾å…¥ä¸ç”¨æˆ·åœ°ç†ä½ç½®ç›¸è¿‘çš„åœ°æ–¹ï¼Œä»è€Œé™ä½ç³»ç»Ÿå»¶æ—¶ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/JavaåŸºç¡€ä¸è¿›é˜¶.html":{"url":"ç®€ä»‹/JavaåŸºç¡€ä¸è¿›é˜¶.html","title":"JavaåŸºç¡€ä¸è¿›é˜¶","keywords":"","body":"JavaåŸºç¡€ä¸è¿›é˜¶ çº¿ç¨‹æ±  import java.util.Date; import java.util.concurrent.*; public class ThreadPoolDemo { private static final int CORE_POOL_SIZE = 5; private static final int MAX_POOL_SIZE = 10; private static final int QUEUE_CAPACITY = 100; private static final Long KEEP_ALIVE_TIME = 1L; private static ThreadPoolDemo instance = null; private ExecutorService executors; static { instance = new ThreadPoolDemo(); } private ThreadPoolDemo() { executors = new ThreadPoolExecutor( CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.SECONDS, new ArrayBlockingQueue<>(QUEUE_CAPACITY), new ThreadPoolExecutor.CallerRunsPolicy()); } public void executeTask(Runnable task) { executors.execute(task); } public static ThreadPoolDemo getInstance() { return instance; } public static void main(String[] args) { for (int i = 0; i { System.out.println(Thread.currentThread().getName() + \" Start. Time = \" + new Date()); try { Thread.sleep(5000); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(Thread.currentThread().getName() + \" End. Time = \" + new Date()); }); } } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/JavaåŸºç¡€çŸ¥è¯†.html":{"url":"ç®€ä»‹/JavaåŸºç¡€çŸ¥è¯†.html","title":"JavaåŸºç¡€çŸ¥è¯†","keywords":"","body":"JavaåŸºç¡€çŸ¥è¯† Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/Javaé›†åˆæ¡†æ¶.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/Javaé›†åˆæ¡†æ¶.html","title":"Javaé›†åˆæ¡†æ¶","keywords":"","body":"Javaé›†åˆæ¡†æ¶ å¯¹æ¯” Vectorã€ArrayListã€LinkedList æœ‰ä½•åŒºåˆ«ï¼Ÿ Vector æ˜¯ Java æ—©æœŸæä¾›çš„çº¿ç¨‹å®‰å…¨çš„åŠ¨æ€æ•°ç»„ï¼ŒVector å†…éƒ¨æ˜¯ä½¿ç”¨å¯¹è±¡æ•°ç»„æ¥ä¿å­˜æ•°æ®ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è‡ªåŠ¨çš„å¢åŠ å®¹é‡ï¼Œå½“æ•°ç»„å·²æ»¡æ—¶ï¼Œä¼šåˆ›å»ºæ–°çš„æ•°ç»„ï¼Œå¹¶æ‹·è´åŸæœ‰æ•°ç»„æ•°æ®ã€‚ Vector åœ¨æ‰©å®¹æ—¶ä¼šæé«˜ 1 å€ï¼Œæ¯”å¦‚å½“å‰å®¹é‡ä¸º10ï¼Œæ‰©å®¹åå˜æˆ20ï¼Œè€Œ ArrayList åˆ™æ˜¯å¢åŠ  50% ArrayList æ˜¯åº”ç”¨æ›´åŠ å¹¿æ³›çš„åŠ¨æ€æ•°ç»„å®ç°ï¼Œå®ƒæœ¬èº«ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒArrayList ä¹Ÿæ˜¯å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´å®¹é‡ï¼Œæ‰©å®¹å¢åŠ 50%ã€‚ Vector ä¸ArrayList ä½œä¸ºåŠ¨æ€æ•°æ®ï¼Œå†…éƒ¨å…ƒç´ ä»¥æ•°ç»„å½¢å¼é¡ºåºå­˜å‚¨çš„ï¼Œæ‰€ä»¥éå¸¸é€‚åˆéšæœºè®¿é—®çš„åœºåˆã€‚ LinkedList æ˜¯åŸºäºåŒå‘é“¾è¡¨å®ç°çš„ è¿›è¡ŒèŠ‚ç‚¹æ’å…¥ã€åˆ é™¤å´è¦é«˜æ•ˆå¾—å¤šï¼Œä½†æ˜¯éšæœºè®¿é—®æ€§èƒ½åˆ™è¦æ¯”åŠ¨æ€æ•°ç»„æ…¢ã€‚ é›†åˆæ¡†æ¶ Listï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å‰é¢ä»‹ç»æœ€å¤šçš„æœ‰åºé›†åˆï¼Œå®ƒæä¾›äº†æ–¹ä¾¿çš„è®¿é—®ã€æ’å…¥ã€åˆ é™¤ç­‰æ“ä½œ Setï¼ŒSet æ˜¯ä¸å…è®¸é‡å¤å…ƒç´ çš„ï¼Œè¿™æ˜¯å’Œ List æœ€æ˜æ˜¾çš„åŒºåˆ«ï¼Œä¹Ÿå°±æ˜¯ä¸å­˜åœ¨ä¸¤ä¸ªå¯¹è±¡ equals è¿”å› trueã€‚æˆ‘ä»¬åœ¨æ—¥å¸¸å¼€å‘ä¸­æœ‰å¾ˆå¤šéœ€è¦ä¿è¯å…ƒç´ å”¯ä¸€æ€§çš„åœºåˆ Queue/Dequeï¼Œåˆ™æ˜¯ Java æä¾›çš„æ ‡å‡†é˜Ÿåˆ—ç»“æ„çš„å®ç°ï¼Œé™¤äº†é›†åˆçš„åŸºæœ¬åŠŸèƒ½ï¼Œå®ƒè¿˜æ”¯æŒç±»ä¼¼å…ˆå…¥å…ˆå‡ºï¼ˆFIFOï¼Œ First-in-First-Outï¼‰æˆ–è€…åå…¥å…ˆå‡ºï¼ˆLIFOï¼ŒLast-In-First-Outï¼‰ç­‰ç‰¹å®šè¡Œä¸ºã€‚è¿™é‡Œä¸åŒ…æ‹¬ BlockingQueueï¼Œå› ä¸ºé€šå¸¸æ˜¯å¹¶å‘ç¼–ç¨‹åœºåˆï¼Œæ‰€ä»¥è¢«æ”¾ç½®åœ¨å¹¶å‘åŒ…é‡Œã€‚ ArrayList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ArrayListï¼Ÿ æ–¹æ³•ä¸€ ï¼šåŒæ­¥çš„ArrayListæ–¹æ³• å®ƒçš„å®ç°ï¼ŒåŸºæœ¬å°±æ˜¯å°†æ¯ä¸ªåŸºæœ¬æ–¹æ³•ï¼Œæ¯”å¦‚ getã€setã€add ä¹‹ç±»ï¼Œéƒ½é€šè¿‡ synchronizd æ·»åŠ åŸºæœ¬çš„åŒæ­¥æ”¯æŒ List objects = Collections.synchronizedList(new ArrayList<>()); æ–¹æ³•äºŒ CopyOnWriteArrayList CopyOnWriteArrayList copyOnWriteArrayList = new CopyOnWriteArrayList<>(); ä¸¤ç§æ–¹æ³•çš„åŒºåˆ«ï¼š CopyOnWriteArrayListçš„å†™æ“ä½œæ€§èƒ½è¾ƒå·®ï¼Œè€Œå¤šçº¿ç¨‹çš„è¯»æ“ä½œæ€§èƒ½è¾ƒå¥½ã€‚è€ŒCollections.synchronizedListçš„å†™æ“ä½œæ€§èƒ½æ¯”CopyOnWriteArrayListåœ¨å¤šçº¿ç¨‹æ“ä½œçš„æƒ…å†µä¸‹è¦å¥½å¾ˆå¤šï¼Œè€Œè¯»æ“ä½œå› ä¸ºæ˜¯é‡‡ç”¨äº†synchronizedå…³é”®å­—çš„æ–¹å¼ï¼Œå…¶è¯»æ“ä½œæ€§èƒ½å¹¶ä¸å¦‚CopyOnWriteArrayListã€‚ CopyOnWriteArrayListé€‚åˆè¯»å¤šå†™å°‘çš„åœºæ™¯ï¼ŒCollections.synchronizedListé€‚åˆè¯»å†™æ¯”è¾ƒå‡è¡¡çš„åœºæ™¯ï¼ŒCollections.synchronizedListæ€§èƒ½è¾ƒå‡è¡¡ã€‚ æ•°ç»„é»˜è®¤æ’åºæ–¹å¼ä¸è®¾è®¡æ€è·¯ æ•°ç»„æ’åºæ–¹å¼ //æ•°ç»„æ’åº Arrays.sort(new int[]{1,5,4}); //List æ’åº List list = new ArrayList<>(); Collections.sort(list); Collections.sort() åº•å±‚æ˜¯è°ƒç”¨ Arrays.sort() å¯¹äºåŸå§‹æ•°æ®ç±»å‹ï¼Œç›®å‰ä½¿ç”¨çš„æ˜¯æ‰€è°“åŒè½´å¿«é€Ÿæ’åºï¼ˆDual-Pivot QuickSortï¼‰ï¼Œæ˜¯ä¸€ç§æ”¹è¿›çš„å¿«é€Ÿæ’åºç®—æ³•ï¼Œæ—©æœŸç‰ˆæœ¬æ˜¯ç›¸å¯¹ä¼ ç»Ÿçš„å¿«é€Ÿæ’åºï¼Œä½ å¯ä»¥é˜…è¯»æºç ã€‚ è€Œå¯¹äºå¯¹è±¡æ•°æ®ç±»å‹ï¼Œç›®å‰åˆ™æ˜¯ä½¿ç”¨TimSortï¼Œæ€æƒ³ä¸Šä¹Ÿæ˜¯ä¸€ç§å½’å¹¶å’ŒäºŒåˆ†æ’å…¥æ’åºï¼ˆbinarySortï¼‰ç»“åˆçš„ä¼˜åŒ–æ’åºç®—æ³•ã€‚TimSort å¹¶ä¸æ˜¯ Java çš„ç‹¬åˆ›ï¼Œç®€å•è¯´å®ƒçš„æ€è·¯æ˜¯æŸ¥æ‰¾æ•°æ®é›†ä¸­å·²ç»æ’å¥½åºçš„åˆ†åŒºï¼ˆè¿™é‡Œå« runï¼‰ï¼Œç„¶ååˆå¹¶è¿™äº›åˆ†åŒºæ¥è¾¾åˆ°æ’åºçš„ç›®çš„ã€‚ å¯¹æ¯” Hashtableã€HashMapã€TreeMap æœ‰ä»€ä¹ˆä¸åŒï¼Ÿ Hashtableã€HashMapã€TreeMap éƒ½æ˜¯æœ€å¸¸è§çš„ä¸€äº› Map å®ç°ï¼Œæ˜¯ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜å‚¨å’Œæ“ä½œæ•°æ®çš„å®¹å™¨ç±»å‹ã€‚ Hashtable æ˜¯æ—©æœŸ Java ç±»åº“æä¾›çš„ä¸€ä¸ªå“ˆå¸Œè¡¨å®ç°ï¼Œæœ¬èº«æ˜¯åŒæ­¥çš„ï¼Œä¸æ”¯æŒ null é”®å’Œå€¼ï¼Œç”±äºåŒæ­¥å¯¼è‡´çš„æ€§èƒ½å¼€é”€ï¼Œæ‰€ä»¥å·²ç»å¾ˆå°‘è¢«æ¨èä½¿ç”¨ã€‚ HashMap æ˜¯åº”ç”¨æ›´åŠ å¹¿æ³›çš„å“ˆå¸Œè¡¨å®ç°ï¼Œè¡Œä¸ºä¸Šå¤§è‡´ä¸Šä¸ HashTable ä¸€è‡´ï¼Œä¸»è¦åŒºåˆ«åœ¨äº HashMap ä¸æ˜¯åŒæ­¥çš„ï¼Œæ”¯æŒ null é”®å’Œå€¼ç­‰ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼ŒHashMap è¿›è¡Œ put æˆ–è€… get æ“ä½œï¼Œå¯ä»¥è¾¾åˆ°å¸¸æ•°æ—¶é—´çš„æ€§èƒ½ï¼Œæ‰€ä»¥å®ƒæ˜¯ç»å¤§éƒ¨åˆ†åˆ©ç”¨é”®å€¼å¯¹å­˜å–åœºæ™¯çš„é¦–é€‰ï¼Œæ¯”å¦‚ï¼Œå®ç°ä¸€ä¸ªç”¨æˆ· ID å’Œç”¨æˆ·ä¿¡æ¯å¯¹åº”çš„è¿è¡Œæ—¶å­˜å‚¨ç»“æ„ã€‚ TreeMap åˆ™æ˜¯åŸºäºçº¢é»‘æ ‘çš„ä¸€ç§æä¾›é¡ºåºè®¿é—®çš„ Mapï¼Œå’Œ HashMap ä¸åŒï¼Œå®ƒçš„ getã€putã€remove ä¹‹ç±»æ“ä½œéƒ½æ˜¯ Oï¼ˆlog(n)ï¼‰çš„æ—¶é—´å¤æ‚åº¦ï¼Œå…·ä½“é¡ºåºå¯ä»¥ç”±æŒ‡å®šçš„ Comparator æ¥å†³å®šï¼Œæˆ–è€…æ ¹æ®é”®çš„è‡ªç„¶é¡ºåºæ¥åˆ¤æ–­ã€‚ å¦‚ä½•ä¿è¯é›†åˆæ˜¯çº¿ç¨‹å®‰å…¨çš„? ConcurrentHashMapå¦‚ä½•å®ç°é«˜æ•ˆåœ°çº¿ç¨‹å®‰å…¨ï¼Ÿ Javaæä¾›äº†ä¸åŒå±‚é¢çš„çº¿ç¨‹å®‰å…¨æ”¯æŒï¼Œé™¤äº†HashTableåŒæ­¥å®¹å™¨ï¼Œè¿˜æä¾›äº†åŒæ­¥åŒ…å®¹å™¨ï¼ˆSynchronized Wrapper),æˆ‘ä»¬å¯ä»¥è°ƒç”¨ Collections å·¥å…·ç±»æä¾›çš„åŒ…è£…æ–¹æ³•ï¼Œæ¥è·å–ä¸€ä¸ªåŒæ­¥çš„åŒ…è£…å®¹å™¨ï¼ˆå¦‚ Collections.synchronizedMapï¼‰,è°ƒç”¨Collections.synchronizedList(new ArrayList<>())å®ç°çº¿ç¨‹å®‰å…¨çš„list.ä½†è¿™ç§æ–¹æ³•æ˜¯éå¸¸ç²—ç²’åº¦çš„åŒæ­¥æ–¹å¼ï¼Œé«˜å¹¶å‘ä¸‹æ€§èƒ½ä¸é«˜. æ™®é€šé€‰æ‹©åˆ©ç”¨å¹¶å‘åŒ…ä¸‹æä¾›çš„çº¿ç¨‹å®‰å…¨å®¹å™¨ç±»ï¼Œæ€§èƒ½æ›´é«˜ã€‚ å„ç§å¹¶å‘å®¹å™¨ï¼Œ æ¯”å¦‚ ConcurrentHashMapã€CopyOnWriteArrayListã€‚ å„ç§çº¿ç¨‹å®‰å…¨é˜Ÿåˆ—ï¼ˆQueue/Dequeï¼‰ï¼Œå¦‚ ArrayBlockingQueueã€SynchronousQueueã€‚ å¦‚ä½•æ­£ç¡®çš„å°†æ•°ç»„è½¬æ¢ä¸ºArrayList? List list = new ArrayList<>(Arrays.asList(\"a\", \"b\", \"c\")) java8 Integer [] myArray = { 1, 2, 3 }; List myList = Arrays.stream(myArray).collect(Collectors.toList()); //åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥å®ç°è½¬æ¢ï¼ˆä¾èµ–boxedçš„è£…ç®±æ“ä½œï¼‰ int [] myArray2 = { 1, 2, 3 }; List myList = Arrays.stream(myArray2).boxed().collect(Collectors.toList()); ä½¿ç”¨ Apache Commons Collections List list = new ArrayList(); CollectionUtils.addAll(list, str); ä½¿ç”¨ Java9 çš„ List.of()æ–¹æ³• Integer[] array = {1, 2, 3}; List list = List.of(array); System.out.println(list); /* [1, 2, 3] */ Collection.toArray()æ–¹æ³•ä½¿ç”¨çš„å‘&å¦‚ä½•åè½¬æ•°ç»„ String [] s= new String[]{ \"dog\", \"lazy\", \"a\", \"over\", \"jumps\", \"fox\", \"brown\", \"quick\", \"A\" }; List list = Arrays.asList(s); Collections.reverse(list); s=list.toArray(new String[0]);//æ²¡æœ‰æŒ‡å®šç±»å‹çš„è¯ä¼šæŠ¥é”™ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/Java IO.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/Java IO.html","title":"Java IO","keywords":"","body":"Java IO æ¦‚å¿µ Java IO æ˜¯ä¸€å¥—Javaç”¨æ¥è¯»å†™æ•°æ®ï¼ˆè¾“å…¥å’Œè¾“å‡ºï¼‰çš„APIã€‚å¤§éƒ¨åˆ†ç¨‹åºéƒ½è¦å¤„ç†ä¸€äº›è¾“å…¥ï¼Œå¹¶ç”±è¾“å…¥äº§ç”Ÿä¸€äº›è¾“å‡ºã€‚Javaä¸ºæ­¤æä¾›äº†java.ioåŒ… ç£ç›˜æ“ä½œï¼šFile File è¡¨ç¤ºæ–‡ä»¶ç›®å½•ï¼Œä½†ä¸è¡¨ç¤ºæ–‡ä»¶å†…å®¹ï¼Œä»¥ä¸‹ä»£ç é€’å½’çš„å±•ç¤ºä¸€ä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ public static void main(String[] args) { listAllFiles(new File(\"/Users/gaohueric/Documents/SublimeWorkStation\")); } public static void listAllFiles(File dir) { if (dir == null || !dir.exists()) { return; } if (dir.isFile()) { System.out.println(dir.getName()); return; } for (File file : dir.listFiles()) { listAllFiles(file); } } å­—èŠ‚æ“ä½œ æ–‡ä»¶æ‹·è´çš„å‡ ç§æ–¹å¼ å®ç°æ–‡ä»¶å¤åˆ¶,è¯»å–ä¸€ä¸ªæ–‡ä»¶å†™å…¥å¦å¤–ä¸€ä¸ªæ–‡ä»¶ï¼Œå°†å­—ç¬¦è½¬æ¢ä¸ºå­—èŠ‚ï¼Œå†å†™å…¥æ–‡ä»¶ã€‚ public static void main(String[] args) throws IOException { FileInputStream fileInputStream = new FileInputStream(\"/Users/gaohueric/Documents/known_hosts\"); FileOutputStream fileOutputStream = new FileOutputStream(\"/Users/gaohueric/Documents/new_known_hosts\"); byte[] buffer = new byte[20*1024]; int cnt; while((cnt = fileInputStream.read(buffer,0,buffer.length)) != -1){ fileOutputStream.write(buffer,0,cnt); } fileInputStream.close(); fileOutputStream.close(); } ç»“æœè¾“å‡ºåˆ°æ–‡ä»¶ public static void main(String[] args) throws IOException { FileOutputStream fileOutputStream = new FileOutputStream(\"/Users/gaohueric/Documents/test.txt\"); for(int i=0;i é€šè¿‡æ™®é€šçš„ç¼“å†²è¾“å…¥è¾“å‡ºæµæ‹·è´æ–‡ä»¶ public static void main(String[] args) throws IOException { InputStream in = null; OutputStream out = null; try { in = new BufferedInputStream(new FileInputStream(\"/Users/gaohueric/Documents/known_hosts\")); out = new BufferedOutputStream(new FileOutputStream(\"/Users/gaohueric/Documents/new_test.txt\")); byte[] buffer = new byte[2048]; int i; while ((i = in.read(buffer)) != -1) { out.write(buffer, 0, i); } } catch (Exception e) { System.out.println(1); } finally { in.close(); out.close(); } } é€šè¿‡æ–‡ä»¶ç®¡é“çš„æ–¹å¼å¤åˆ¶æ–‡ä»¶ åŸºäºNIOçš„æ–¹å¼ public static void main(String[] args) throws IOException { FileChannel in = new FileInputStream(\"/Users/gaohueric/Documents/known_hosts\").getChannel(); FileChannel out = new FileOutputStream(\"/Users/gaohueric/Documents/new_test.txt\").getChannel(); in.transferTo(0,in.size(),out); } é€šè¿‡ç®¡é“æ–¹å¼å¤åˆ¶æ–‡ä»¶æ¯”ç¼“å†²æµå¿«äº†ä¸‰åˆ†ä¹‹ä¸€ åŸå› åˆ†æï¼šå½“æˆ‘ä»¬ä½¿ç”¨è¾“å…¥è¾“å‡ºæµè¿›è¡Œè¯»å†™æ—¶ï¼Œå®é™…ä¸Šæ˜¯è¿›è¡Œäº†å¤šæ¬¡ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæ¯”å¦‚åº”ç”¨è¯»å–æ•°æ®æ—¶ï¼Œå…ˆåœ¨å†…æ ¸æ€å°†æ•°æ®ä»ç£ç›˜è¯»å–åˆ°å†…æ ¸ç¼“å­˜ï¼Œå†åˆ‡æ¢åˆ°ç”¨æˆ·æ€å°†æ•°æ®ä»å†…æ ¸ç¼“å­˜è¯»å–åˆ°ç”¨æˆ·ç¼“å­˜ã€‚ é€šè¿‡ç¼“å†²æµæ–¹å¼ä¼šå¸¦æ¥ä¸€å®šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€ï¼Œä¼šé™ä½IOæ•ˆç‡ã€‚ è€ŒåŸºäº NIO transferTo çš„å®ç°æ–¹å¼ï¼Œåœ¨ Linux å’Œ Unix ä¸Šï¼Œåˆ™ä¼šä½¿ç”¨åˆ°é›¶æ‹·è´æŠ€æœ¯ï¼Œæ•°æ®ä¼ è¾“å¹¶ä¸éœ€è¦ç”¨æˆ·æ€å‚ä¸ï¼Œçœå»äº†ä¸Šä¸‹æ–‡åˆ‡æ¢çš„å¼€é”€å’Œä¸å¿…è¦çš„å†…å­˜æ‹·è´ï¼Œè¿›è€Œå¯èƒ½æé«˜åº”ç”¨æ‹·è´æ€§èƒ½ã€‚æ³¨æ„ï¼ŒtransferTo ä¸ä»…ä»…æ˜¯å¯ä»¥ç”¨åœ¨æ–‡ä»¶æ‹·è´ä¸­ï¼Œä¸å…¶ç±»ä¼¼çš„ï¼Œä¾‹å¦‚è¯»å–ç£ç›˜æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œ Socket å‘é€ï¼ŒåŒæ ·å¯ä»¥äº«å—è¿™ç§æœºåˆ¶å¸¦æ¥çš„æ€§èƒ½å’Œæ‰©å±•æ€§æé«˜ã€‚ å­—ç¬¦æ“ä½œ Stringçš„ç¼–ç æ–¹å¼ï¼šç¼–ç ä¸è§£ç  String str1 = \"æµ‹è¯•\"; byte[] bytes = str1.getBytes(\"UTF-8\"); String str2 = new String(bytes, \"UTF-8\"); System.out.println(str2); Reader ä¸ Writer ä»æ–‡ä»¶ä¸­è¯»å–å­—èŠ‚æµï¼Œè½¬æ¢ä¸ºå­—ç¬¦ è¾“å‡º InputStreamReader å®ç°ä»å­—èŠ‚æµè§£ç æˆå­—ç¬¦æµï¼› OutputStreamWriter å®ç°å­—ç¬¦æµç¼–ç æˆä¸ºå­—èŠ‚æµã€‚ ä¸€ä¸‹ä»£ç å®ç°é€è¡Œè¾“å‡ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ public static void main(String[] args) throws IOException { FileReader fileReader = new FileReader(\"/Users/gaohueric/Documents/known_hosts\"); BufferedReader bufferedReader = new BufferedReader(fileReader); String line; while((line = bufferedReader.readLine()) != null){ System.out.println(line); } bufferedReader.close(); fileReader.close(); } IOæ¨¡å‹ Javaä¸­IOç³»ç»Ÿå¯ä»¥åˆ†ä¸ºBIOï¼ŒNIOï¼ŒAIOä¸‰ç§IOæ¨¡å‹ BIO(blocking I/O) åŒæ­¥é˜»å¡IO BIOæ˜¯åŒæ­¥é˜»å¡IOï¼ŒJDK1.4ä¹‹å‰åªæœ‰è¿™ä¸€ä¸ªIOæ¨¡å‹ï¼ŒBIOæ“ä½œçš„å¯¹è±¡æ˜¯æµï¼Œä¸€ä¸ªçº¿ç¨‹åªèƒ½å¤„ç†ä¸€ä¸ªæµçš„IOè¯·æ±‚ï¼Œå¦‚æœæƒ³è¦åŒæ—¶å¤„ç†å¤šä¸ªæµå°±éœ€è¦ä½¿ç”¨å¤šçº¿ç¨‹ NIO(Non-blocking I/O) åŒæ­¥éé˜»å¡IO,æœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå³å®¢æˆ·ç«¯å‘é€çš„è¿æ¥è¯·æ±‚éƒ½ä¼šæ³¨å†Œåˆ°å¤šè·¯å¤ç”¨å™¨ä¸Šï¼Œå¤šè·¯å¤ç”¨å™¨è½®è¯¢åˆ°è¿æ¥æœ‰I/Oè¯·æ±‚æ—¶æ‰å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œå¤„ç†ã€‚ AIO(NIO.2) (Asynchronous I/O) å¼‚æ­¥éé˜»å¡ï¼ŒæœåŠ¡å™¨å®ç°æ¨¡å¼ä¸ºä¸€ä¸ªæœ‰æ•ˆè¯·æ±‚ä¸€ä¸ªçº¿ç¨‹ï¼Œå®¢æˆ·ç«¯çš„I/Oè¯·æ±‚éƒ½æ˜¯ç”±OSå…ˆå®Œæˆäº†å†é€šçŸ¥æœåŠ¡å™¨åº”ç”¨å»å¯åŠ¨çº¿ç¨‹è¿›è¡Œå¤„ç†. Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/åå°„.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/åå°„.html","title":"åå°„","keywords":"","body":"åå°„çš„æ¦‚å¿µ åå°„æœ€å¤§çš„ä½œç”¨ä¹‹ä¸€å°±åœ¨äºæˆ‘ä»¬å¯ä»¥ä¸åœ¨ç¼–è¯‘æ—¶çŸ¥é“æŸä¸ªå¯¹è±¡çš„ç±»å‹ï¼Œè€Œåœ¨è¿è¡Œæ—¶é€šè¿‡æä¾›å®Œæ•´çš„â€åŒ…å+ç±»å.classâ€å¾—åˆ°ã€‚æ³¨æ„ï¼šä¸æ˜¯åœ¨ç¼–è¯‘æ—¶ï¼Œè€Œæ˜¯åœ¨è¿è¡Œæ—¶ã€‚ åå°„ä¹‹æ‰€ä»¥è¢«ç§°ä¸ºæ¡†æ¶çš„çµé­‚ï¼Œä¸»è¦æ˜¯å› ä¸ºå®ƒèµ‹äºˆäº†æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åˆ†æç±»ä»¥åŠæ‰§è¡Œç±»ä¸­æ–¹æ³•çš„èƒ½åŠ›ã€‚ é€šè¿‡åå°„ä½ å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä½ è¿˜å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•å’Œå±æ€§ã€‚ åå°„æœºåˆ¶çš„åŠŸèƒ½ Javaåå°„æœºåˆ¶ä¸»è¦æä¾›äº†ä»¥ä¸‹åŠŸèƒ½ï¼š åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ã€‚ åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ã€‚ åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ã€‚ åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚ ç”ŸæˆåŠ¨æ€ä»£ç†ã€‚ å®ç°åå°„æœºåˆ¶çš„ç±» Javaä¸­ä¸»è¦ç”±ä»¥ä¸‹çš„ç±»æ¥å®ç°Javaåå°„æœºåˆ¶ï¼ˆè¿™äº›ç±»éƒ½ä½äºjava.lang.reflectåŒ…ä¸­ï¼‰ï¼š Classç±»ï¼šä»£è¡¨ä¸€ä¸ªç±»ã€‚ Fieldç±»ï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡ï¼ˆæˆå‘˜å˜é‡ä¹Ÿç§°ä¸ºç±»çš„å±æ€§ï¼‰ã€‚ Methodç±»ï¼šä»£è¡¨ç±»çš„æ–¹æ³•ã€‚ Constructorç±»ï¼šä»£è¡¨ç±»çš„æ„é€ æ–¹æ³• Arrayç±»ï¼šæä¾›äº†åŠ¨æ€åˆ›å»ºæ•°ç»„ï¼Œä»¥åŠè®¿é—®æ•°ç»„çš„å…ƒç´ çš„é™æ€æ–¹æ³•ã€‚ åŠ¨æ€ä»£ç† é¦–å…ˆï¼Œå®ƒæ˜¯ä¸€ä¸ªä»£ç†æœºåˆ¶ï¼Œå¦‚æœç†Ÿæ‚‰è®¾è®¡æ¨¡å¼ä¸­çš„ä»£ç†æ¨¡å¼ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“ï¼Œä»£ç†å¯ä»¥çœ‹ä½œæ˜¯å¯¹è°ƒç”¨ç›®æ ‡çš„ä¸€ä¸ªåŒ…è£…ï¼Œè¿™æ ·æˆ‘ä»¬å¯¹ç›®æ ‡ä»£ç çš„è°ƒç”¨ä¸æ˜¯ç›´æ¥å‘ç”Ÿçš„ï¼Œè€Œæ˜¯é€šè¿‡ä»£ç†å®Œæˆã€‚å…¶å®å¾ˆå¤šåŠ¨æ€ä»£ç†åœºæ™¯ï¼Œæˆ‘è®¤ä¸ºä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯è£…é¥°å™¨ï¼ˆDecoratorï¼‰æ¨¡å¼çš„åº”ç”¨ã€‚ é€šè¿‡ä»£ç†å¯ä»¥è®©è°ƒç”¨è€…ä¸å®ç°è€…ä¹‹é—´è§£è€¦ã€‚æ¯”å¦‚è¿›è¡Œ RPC è°ƒç”¨ï¼Œæ¡†æ¶å†…éƒ¨çš„å¯»å€ã€åºåˆ—åŒ–ã€ååºåˆ—åŒ–ç­‰ï¼Œå¯¹äºè°ƒç”¨è€…å¾€å¾€æ˜¯æ²¡æœ‰å¤ªå¤§æ„ä¹‰çš„ï¼Œé€šè¿‡ä»£ç†ï¼Œå¯ä»¥æä¾›æ›´åŠ å‹å–„çš„ç•Œé¢ã€‚ ä¸‹é¢æ˜¯JDKåŠ¨æ€ä»£ç†çš„ä¸€ä¸ªç®€å•å®ä¾‹ï¼Œåœ¨ç”Ÿäº§ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾æ‰©å±•ç±»ä¼¼é€»è¾‘è¿›è¡Œè¯Šæ–­ã€é™æµç­‰ã€‚ å®šä¹‰ä¸€ä¸ªæ¥å£ public interface Hello { void sayHello(); } æ¥å£å®ç° public class HelloImpl implements Hello{ @Override public void sayHello() { System.out.println(\"hello world\"); } } å®šä¹‰ä¸€ä¸ªä»£ç†å¤„ç†å™¨ import java.lang.reflect.InvocationHandler; import java.lang.reflect.Method; public class MyInvocationHandler implements InvocationHandler { private Object target; public MyInvocationHandler(Object target) { this.target = target; } @Override public Object invoke(Object proxy, Method method, Object[] args) throws Throwable { System.out.println(\"è¿™é‡Œå¯ä»¥åšé™æµã€æ‰“æ—¥å¿—ç­‰æ“ä½œ\"); Object invoke = method.invoke(target, args); return invoke; } } è°ƒç”¨, è¿™é‡Œæˆ‘ä»¬ä¸æ˜¯ç›´æ¥è°ƒç”¨ Hello çš„æ–¹æ³•ï¼Œè€Œæ˜¯é€šè¿‡ä»£ç†è§£è€¦çš„å»è°ƒç”¨ï¼Œåœ¨ä»£ç†ä¸­å¯ä»¥åšä¸€äº›å…¶ä»–æ“ä½œï¼Œæ¯”å¦‚æ—¥å¿—æ‰“ç‚¹ã€é™æµã€è¯Šæ–­ç­‰æ“ä½œã€‚ import java.lang.reflect.Proxy; public class MyDynamicProxy { public static void main(String[] args) { HelloImpl hello = new HelloImpl(); MyInvocationHandler handler = new MyInvocationHandler(hello); Hello proxyHello = (Hello) Proxy.newProxyInstance(HelloImpl.class.getClassLoader(), HelloImpl.class.getInterfaces(), handler); proxyHello.sayHello(); } } åå°„å¸¸ç”¨API ä¸‹é¢è¿™ä¸ªç±»ç”¨æ¥æ¼”ç¤ºReflection APIçš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ã€‚è¿™é‡Œè‡ªå®šä¹‰çš„copyæ–¹æ³•æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªå’Œå‚æ•°objcetåŒæ ·ç±»å‹çš„å¯¹è±¡ï¼Œç„¶åæŠŠobjectå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§æ‹·è´åˆ°æ–°å»ºçš„å¯¹è±¡ä¸­ï¼Œå¹¶å°†å…¶è¿”å›ã€‚ public class ReflectTester { public Object copy(Object object) throws Exception { Class classType = object.getClass(); //æ„é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ Object objectCopy=classType.getConstructor(new Class[]{}).newInstance(new Object[]{}); //è·å–å¯¹è±¡çš„æ‰€æœ‰å±æ€§ Field[] declaredFields = classType.getDeclaredFields(); for (Field field: declaredFields) { String name = field.getName(); String firstLetter = name.substring(0,1).toUpperCase(); //è·å¾—å’Œå±æ€§å¯¹åº”çš„getXXX()æ–¹æ³•çš„åå­— String getMethodName = \"get\"+firstLetter+name.substring(1); //è·å¾—å’Œå±æ€§å¯¹åº”çš„setXXX()æ–¹æ³•çš„åå­— String setMethodName=\"set\"+firstLetter+name.substring(1); //è·å¾—å’Œå±æ€§å¯¹åº”çš„getXXX()æ–¹æ³• Method getMethod = classType.getMethod(getMethodName, new Class[]{}); //è·å¾—å’Œå±æ€§å¯¹åº”çš„setXXX()æ–¹æ³• Method setMethod = classType.getMethod(setMethodName,new Class[]{field.getType()}); //è°ƒç”¨åŸå¯¹è±¡çš„getXXX()æ–¹æ³• Object value = getMethod.invoke(object, new Object[]{}); System.out.println(name+\":\"+value); //è°ƒç”¨æ‹·è´å¯¹è±¡çš„setXXX()æ–¹æ³• setMethod.invoke(objectCopy,new Object[]{value}); } return objectCopy; } public static void main(String[] args) throws Exception { Student student = new Student(); student.setName(\"å¼ ä¸‰\"); Object copy = new ReflectTester().copy(req); System.out.println(copy); } } è·å–åå°„ä¸­çš„Classå¯¹è±¡ ç¬¬ä¸€ç§ï¼Œä½¿ç”¨ Class.forName é™æ€æ–¹æ³•ã€‚å½“ä½ çŸ¥é“è¯¥ç±»çš„å…¨è·¯å¾„åæ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•è·å– Class ç±»å¯¹è±¡ã€‚ Class clz = Class.forName(\"java.lang.String\"); ç¬¬äºŒç§ï¼Œä½¿ç”¨ .class æ–¹æ³•ã€‚ Class clz = String.class; ç¬¬ä¸‰ç§ï¼Œä½¿ç”¨ç±»å¯¹è±¡çš„ getClass() æ–¹æ³•ã€‚ String str = new String(\"Hello\"); Class clz = str.getClass(); é€šè¿‡åå°„åˆ›å»ºç±»å¯¹è±¡ ç¬¬ä¸€ç§ï¼šé€šè¿‡ Class å¯¹è±¡çš„ newInstance() æ–¹æ³•ã€‚ Class clz = Student.class; Student student = (Student)clz.newInstance(); ç¬¬äºŒç§ï¼šé€šè¿‡ Constructor å¯¹è±¡çš„ newInstance() æ–¹æ³• Class clz = Student.class; Constructor constructor = clz.getConstructor(); Student apple = (Student)constructor.newInstance(); é€šè¿‡ Constructor å¯¹è±¡åˆ›å»ºç±»å¯¹è±¡å¯ä»¥é€‰æ‹©ç‰¹å®šæ„é€ æ–¹æ³•ï¼Œè€Œé€šè¿‡ Class å¯¹è±¡åˆ™åªèƒ½ä½¿ç”¨é»˜è®¤çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚ä¸‹é¢çš„ä»£ç å°±è°ƒç”¨äº†ä¸€ä¸ªæœ‰å‚æ•°çš„æ„é€ æ–¹æ³•è¿›è¡Œäº†ç±»å¯¹è±¡çš„åˆå§‹åŒ–ã€‚ Class clz = Student.class; Constructor constructor = clz.getConstructor(String.class, int.class); Student student = (Student)constructor.newInstance(\"å¼ ä¸‰\", 15); é€šè¿‡åå°„è·å–ç±»å±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ æˆ‘ä»¬é€šè¿‡ Class å¯¹è±¡çš„ getFields() æ–¹æ³•å¯ä»¥è·å– Class ç±»çš„å±æ€§ï¼Œä½†æ— æ³•è·å–ç§æœ‰å±æ€§ã€‚ Class clz = Student.class; Field[] fields = clz.getFields(); for (Field field : fields) { System.out.println(field.getName()); } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/çº¿ç¨‹æ± .html":{"url":"JavaåŸºç¡€çŸ¥è¯†/çº¿ç¨‹æ± .html","title":"çº¿ç¨‹æ± ","keywords":"","body":"çº¿ç¨‹æ±  ä½¿ç”¨çº¿ç¨‹æ± çš„å¥½å¤„ é™ä½èµ„æºæ¶ˆè€—ã€‚é€šè¿‡é‡å¤åˆ©ç”¨å·²åˆ›å»ºçš„çº¿ç¨‹é™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—ã€‚ æé«˜å“åº”é€Ÿåº¦ã€‚å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦çš„ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œã€‚ æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§ã€‚çº¿ç¨‹æ˜¯ç¨€ç¼ºèµ„æºï¼Œå¦‚æœæ— é™åˆ¶çš„åˆ›å»ºï¼Œä¸ä»…ä¼šæ¶ˆè€—ç³»ç»Ÿèµ„æºï¼Œè¿˜ä¼šé™ä½ç³»ç»Ÿçš„ç¨³å®šæ€§ï¼Œä½¿ç”¨çº¿ç¨‹æ± å¯ä»¥è¿›è¡Œç»Ÿä¸€çš„åˆ†é…ï¼Œè°ƒä¼˜å’Œç›‘æ§ã€‚ å¦‚ä½•åˆ›å»ºçº¿ç¨‹æ±  Javaé€šè¿‡Executorsåˆ›å»ºçº¿ç¨‹æ± çš„å‡ ç§æ–¹å¼ newCachedThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå¯ç¼“å­˜çº¿ç¨‹æ± ï¼Œå¦‚æœçº¿ç¨‹æ± é•¿åº¦è¶…è¿‡å¤„ç†éœ€è¦ï¼Œå¯çµæ´»å›æ”¶ç©ºé—²çº¿ç¨‹ï¼Œè‹¥æ— å¯å›æ”¶ï¼Œåˆ™æ–°å»ºçº¿ç¨‹ã€‚ newFixedThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œå¯æ§åˆ¶çº¿ç¨‹æœ€å¤§å¹¶å‘æ•°ï¼Œè¶…å‡ºçš„çº¿ç¨‹ä¼šåœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…ã€‚ newScheduledThreadPoolï¼šåˆ›å»ºä¸€ä¸ªå®šé•¿çº¿ç¨‹æ± ï¼Œæ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ newSingleThreadExecutorï¼š åˆ›å»ºä¸€ä¸ªå•çº¿ç¨‹åŒ–çš„çº¿ç¨‹æ± ï¼Œå®ƒåªä¼šç”¨å”¯ä¸€çš„å·¥ä½œçº¿ç¨‹æ¥æ‰§è¡Œä»»åŠ¡ï¼Œä¿è¯æ‰€æœ‰ä»»åŠ¡æŒ‰ç…§æŒ‡å®šé¡ºåº(FIFO, LIFO, ä¼˜å…ˆçº§)æ‰§è¡Œã€‚ new ThreadPoolExecutor(CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.MINUTES, new ArrayBlockingQueue<>(QUEUE_CAPACITY), new ThreadPoolExecutor.AbortPolicy())ï¼šæ¨èä½¿ç”¨ThreadPoolExecutoræ–¹æ³•åˆ›å»ºçº¿ç¨‹æ± ã€‚ Executors è¿”å›çº¿ç¨‹æ± å¯¹è±¡çš„å¼Šç«¯å¦‚ä¸‹ FixedThreadPool å’Œ SingleThreadExecutor ï¼š å…è®¸è¯·æ±‚çš„é˜Ÿåˆ—é•¿åº¦ä¸º Integer.MAX_VALUE ï¼Œå¯èƒ½å †ç§¯å¤§é‡çš„è¯·æ±‚ï¼Œä»è€Œå¯¼è‡´ OOMã€‚ CachedThreadPool å’Œ ScheduledThreadPool ï¼š å…è®¸åˆ›å»ºçš„çº¿ç¨‹æ•°é‡ä¸º Integer.MAX_VALUE ï¼Œå¯èƒ½ä¼šåˆ›å»ºå¤§é‡çº¿ç¨‹ï¼Œä»è€Œå¯¼è‡´ OOMã€‚ çº¿ç¨‹æ± å‚æ•°è¯¦è§£ int corePoolSize: çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•° int maximumPoolSize:çº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•° long keepAliveTimeï¼šå½“çº¿ç¨‹é—²ç½®æ—¶ï¼Œä¿æŒçº¿ç¨‹å­˜æ´»çš„æ—¶é—´ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåªæœ‰å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°å¤§äºcorePoolSizeæ—¶ï¼ŒkeepAliveTimeæ‰ä¼šèµ·ä½œç”¨ï¼Œç›´åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸å¤§äºcorePoolSizeï¼Œå³å½“çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°å¤§äºcorePoolSizeæ—¶ï¼Œå¦‚æœä¸€ä¸ªçº¿ç¨‹ç©ºé—²çš„æ—¶é—´è¾¾åˆ°keepAliveTimeï¼Œåˆ™ä¼šç»ˆæ­¢ï¼Œç›´åˆ°çº¿ç¨‹æ± ä¸­çš„çº¿ç¨‹æ•°ä¸è¶…è¿‡corePoolSize TimeUnit unitï¼škeepAliveTimeçš„æ—¶é—´å•ä½ ThreadFactory threadFactoryï¼šçº¿ç¨‹å·¥å‚ BlockingQueue workQueueï¼š ç”¨æ¥å‚¨å­˜ç­‰å¾…æ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ— RejectedExecutionHandler handlerï¼šæ‹’ç»ç­–ç•¥ çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥ å¦‚æœå½“å‰åŒæ—¶è¿è¡Œçš„çº¿ç¨‹æ•°é‡è¾¾åˆ°æœ€å¤§çº¿ç¨‹æ•°é‡å¹¶ä¸”é˜Ÿåˆ—ä¹Ÿå·²ç»è¢«æ”¾æ»¡äº†ä»»æ—¶ï¼ŒThreadPoolTaskExecutor å®šä¹‰ä¸€äº›ç­–ç•¥: ThreadPoolExecutor.AbortPolicyï¼š æŠ›å‡º RejectedExecutionExceptionæ¥æ‹’ç»æ–°ä»»åŠ¡çš„å¤„ç† ThreadPoolExecutor.CallerRunsPolicyï¼š è°ƒç”¨æ‰§è¡Œè‡ªå·±çš„çº¿ç¨‹è¿è¡Œä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯ç›´æ¥åœ¨è°ƒç”¨executeæ–¹æ³•çš„çº¿ç¨‹ä¸­è¿è¡Œ(run)è¢«æ‹’ç»çš„ä»»åŠ¡ï¼Œå¦‚æœæ‰§è¡Œç¨‹åºå·²å…³é—­ï¼Œåˆ™ä¼šä¸¢å¼ƒè¯¥ä»»åŠ¡ã€‚å› æ­¤è¿™ç§ç­–ç•¥ä¼šé™ä½å¯¹äºæ–°ä»»åŠ¡æäº¤é€Ÿåº¦ï¼Œå½±å“ç¨‹åºçš„æ•´ä½“æ€§èƒ½ã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥æ‰¿å—æ­¤å»¶è¿Ÿå¹¶ä¸”ä½ è¦æ±‚ä»»ä½•ä¸€ä¸ªä»»åŠ¡è¯·æ±‚éƒ½è¦è¢«æ‰§è¡Œçš„è¯ï¼Œä½ å¯ä»¥é€‰æ‹©è¿™ä¸ªç­–ç•¥ ThreadPoolExecutor.DiscardPolicyï¼š ä¸å¤„ç†æ–°ä»»åŠ¡ï¼Œç›´æ¥ä¸¢å¼ƒæ‰ ThreadPoolExecutor.DiscardOldestPolicyï¼š æ­¤ç­–ç•¥å°†ä¸¢å¼ƒæœ€æ—©çš„æœªå¤„ç†çš„ä»»åŠ¡è¯·æ±‚ çº¿ç¨‹æ± æ‰§è¡Œå…³ç³» ä½¿ç”¨æ–¹æ³•ï¼š public class ThreadUtil { /** * æ ¸å¿ƒçº¿ç¨‹æ•° */ private static final int CORE_POOL_SIZE = 5; /** * æœ€å¤§çº¿ç¨‹æ•° */ private static final int MAX_POOL_SIZE = 10; /** * ä»»åŠ¡é˜Ÿåˆ— */ private static final int QUEUE_CAPACITY = 100; /** *å½“çº¿ç¨‹æ•°å¤§äºæ ¸å¿ƒæ—¶ï¼Œå¤šä½™çš„ç©ºé—²çº¿ç¨‹ç­‰å¾…æ–°ä»»åŠ¡çš„å­˜æ´»æ—¶é—´ã€‚ */ private static final Long KEEP_ALIVE_TIME = 1L; /** * ç¼“å­˜çº¿ç¨‹æ± æ–¹å¼ */ private ExecutorService cacheThreadPool; /** * å®šé•¿çº¿ç¨‹æ±  */ private ExecutorService fixedThreadPool; /** * å•çº¿ç¨‹åŒ–çº¿ç¨‹æ±  */ private ExecutorService singleThreadPool; /** * æ”¯æŒå®šæ—¶åŠå‘¨æœŸæ€§ä»»åŠ¡æ‰§è¡Œ */ private ExecutorService scheduledThreadPool; /** * threadPoolExecutoræ–¹å¼åˆ›å»ºçº¿ç¨‹æ±  */ private ExecutorService threadPoolExecutor; /** * å•ä¾‹è·å–çº¿ç¨‹æ±  * @return */ public static ThreadUtil getInstance(){ return ThreadPoolManagerHolder.instance; } private static class ThreadPoolManagerHolder { public static ThreadUtil instance = new ThreadUtil(); } private ThreadUtil(){ cacheThreadPool = Executors.newCachedThreadPool(); fixedThreadPool = Executors.newFixedThreadPool(3); singleThreadPool = Executors.newSingleThreadExecutor(); scheduledThreadPool = Executors.newScheduledThreadPool(5); threadPoolExecutor = new ThreadPoolExecutor( CORE_POOL_SIZE, MAX_POOL_SIZE, KEEP_ALIVE_TIME, TimeUnit.MINUTES, new ArrayBlockingQueue<>(QUEUE_CAPACITY), new ThreadPoolExecutor.AbortPolicy()); } public void executeTask(Runnable task){ threadPoolExecutor.execute(task); } public void cacheExecuteTask(Runnable task){ cacheThreadPool.execute(task); } public static void main(String[] args) { for(int i=0;i{ System.out.println(Thread.currentThread().getName()); }); } } } ä¾‹å­2ï¼š public class ThreadLocalMain { private static final ThreadLocal threadLocal =new ThreadLocal<>(); private ExecutorService executorService; private ThreadLocalMain(){ executorService = new ThreadPoolExecutor(5,10,1L, TimeUnit.MINUTES, new ArrayBlockingQueue<>(20),new ThreadPoolExecutor.AbortPolicy()); } public static ThreadLocalMain getInstance(){ return ThreadPoolManageHolder.instance; } private static class ThreadPoolManageHolder{ public static ThreadLocalMain instance = new ThreadLocalMain(); } public void executorPool(Runnable task){ executorService.execute(task); } public static void main(String[] args) throws Exception { new ThreadLocalMain().execute(); } public void execute() throws Exception{ threadLocal.set(\"æµ‹è¯•threadLocal\"); System.out.println(Thread.currentThread().getName()+\"çº¿ç¨‹ä¸­ThreadLocalçš„å€¼:\"+threadLocal.get()); ThreadLocalMain.getInstance().executorPool(()->{ System.out.println(Thread.currentThread().getName()+\"çº¿ç¨‹ä¸­ThreadLocalçš„å€¼:\"+threadLocal.get()); threadLocal.set(\"æµ‹è¯•2\"); System.out.println(Thread.currentThread().getName()+\"é‡æ–°è®¾ç½®åçº¿ç¨‹ä¸­ThreadLocalçš„å€¼:\"+threadLocal.get()); System.out.println(Thread.currentThread().getName()+\"çº¿ç¨‹æ‰§è¡Œç»“æŸ\"); threadLocal.remove(); System.out.println(Thread.currentThread().getName()+\"removeåçº¿ç¨‹ä¸­ThreadLocalçš„å€¼:\"+threadLocal.get()); }); Thread.sleep(1000L); System.out.println(Thread.currentThread().getName()+\"çº¿ç¨‹ä¸­ThreadLocalçš„å€¼:\"+threadLocal.get()); } } CountDownLatchå®ä¾‹ public class ThreadLocalMain { private static final ThreadLocal threadLocal =new ThreadLocal<>(); private ExecutorService executorService; private ThreadLocalMain(){ executorService = new ThreadPoolExecutor(5,10,1L, TimeUnit.MINUTES, new ArrayBlockingQueue<>(20),new ThreadPoolExecutor.AbortPolicy()); } public static ThreadLocalMain getInstance(){ return ThreadPoolManageHolder.instance; } private static class ThreadPoolManageHolder{ public static ThreadLocalMain instance = new ThreadLocalMain(); } public void executorPool(Runnable task){ executorService.execute(task); } public static void main(String[] args) throws Exception { new ThreadLocalMain().execute(); } public void execute() throws Exception{ final CountDownLatch latch = new CountDownLatch(3); for(int i=0;i{ System.out.println(\"å­çº¿ç¨‹\" + Thread.currentThread().getName() + \"å¼€å§‹æ‰§è¡Œ\"); try { Thread.sleep(30000); } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"å­çº¿ç¨‹\"+Thread.currentThread().getName()+\"æ‰§è¡Œå®Œæˆ\"); latch.countDown();//å½“å‰çº¿ç¨‹è°ƒç”¨æ­¤æ–¹æ³•ï¼Œåˆ™è®¡æ•°å‡ä¸€ }); } System.out.println(\"ä¸»çº¿ç¨‹\"+Thread.currentThread().getName()+\"ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆ...\"); latch.await();//é˜»å¡å½“å‰çº¿ç¨‹ï¼Œç›´åˆ°è®¡æ•°å™¨çš„å€¼ä¸º0 System.out.println(\"ä¸»çº¿ç¨‹\"+Thread.currentThread().getName()+\"å¼€å§‹æ‰§è¡Œ...\"); } } Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/åˆ†å¸ƒå¼é”.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/åˆ†å¸ƒå¼é”.html","title":"åˆ†å¸ƒå¼é”","keywords":"","body":"åˆ†å¸ƒå¼é” åŸºäºæ•°æ®åº“åšåˆ†å¸ƒå¼é” åŸºäºä¹è§‚é”ï¼šåˆ©ç”¨è¡¨ä¸»é”®å”¯ä¸€æˆ–è€…å”¯ä¸€æ€§çº¦æŸåšåˆ†å¸ƒå¼é” åˆ©ç”¨ä¸»é”®å”¯ä¸€çš„ç‰¹æ€§ï¼Œå¦‚æœæœ‰å¤šä¸ªè¯·æ±‚åŒæ—¶æäº¤åˆ°æ•°æ®åº“çš„è¯ï¼Œæ•°æ®åº“ä¼šä¿è¯åªæœ‰ä¸€ä¸ªæ“ä½œå¯ä»¥æˆåŠŸï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥è®¤ä¸ºæ“ä½œæˆåŠŸçš„é‚£ä¸ªçº¿ç¨‹è·å¾—äº†è¯¥æ–¹æ³•çš„é”ï¼Œå½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæƒ³è¦é‡Šæ”¾é”çš„è¯ï¼Œåˆ é™¤è¿™æ¡æ•°æ®åº“è®°å½•å³å¯ã€‚ å­˜åœ¨çš„é—®é¢˜ï¼š è¿™æŠŠé”å¼ºä¾èµ–æ•°æ®åº“çš„å¯ç”¨æ€§ï¼Œæ•°æ®åº“æ˜¯ä¸€ä¸ªå•ç‚¹ï¼Œä¸€æ—¦æ•°æ®åº“æŒ‚æ‰ï¼Œä¼šå¯¼è‡´ä¸šåŠ¡ç³»ç»Ÿä¸å¯ç”¨ã€‚ è¿™æŠŠé”æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Œä¸€æ—¦è§£é”æ“ä½œå¤±è´¥ï¼Œå°±ä¼šå¯¼è‡´é”è®°å½•ä¸€ç›´åœ¨æ•°æ®åº“ä¸­ï¼Œå…¶ä»–çº¿ç¨‹æ— æ³•å†è·å¾—åˆ°é”ã€‚ è¿™æŠŠé”åªèƒ½æ˜¯éé˜»å¡çš„ï¼Œå› ä¸ºæ•°æ®çš„ insert æ“ä½œï¼Œä¸€æ—¦æ’å…¥å¤±è´¥å°±ä¼šç›´æ¥æŠ¥é”™ã€‚æ²¡æœ‰è·å¾—é”çš„çº¿ç¨‹å¹¶ä¸ä¼šè¿›å…¥æ’é˜Ÿé˜Ÿåˆ—ï¼Œè¦æƒ³å†æ¬¡è·å¾—é”å°±è¦å†æ¬¡è§¦å‘è·å¾—é”æ“ä½œ è¿™æŠŠé”æ˜¯éé‡å…¥çš„ï¼ŒåŒä¸€ä¸ªçº¿ç¨‹åœ¨æ²¡æœ‰é‡Šæ”¾é”ä¹‹å‰æ— æ³•å†æ¬¡è·å¾—è¯¥é”ã€‚å› ä¸ºæ•°æ®ä¸­æ•°æ®å·²ç»å­˜åœ¨äº† è¿™æŠŠé”æ˜¯éå…¬å¹³é”ï¼Œæ‰€æœ‰ç­‰å¾…é”çš„çº¿ç¨‹å‡­è¿æ°”å»äº‰å¤ºé”ã€‚ åœ¨ MySQL æ•°æ®åº“ä¸­é‡‡ç”¨ä¸»é”®å†²çªé˜²é‡ï¼Œåœ¨å¤§å¹¶å‘æƒ…å†µä¸‹æœ‰å¯èƒ½ä¼šé€ æˆé”è¡¨ç°è±¡ è§£å†³ä¸Šé¢é—®é¢˜çš„æ–¹æ¡ˆï¼š æ•°æ®åº“æ˜¯å•ç‚¹ï¼Ÿæä¸¤ä¸ªæ•°æ®åº“ï¼Œæ•°æ®ä¹‹å‰åŒå‘åŒæ­¥ï¼Œä¸€æ—¦æŒ‚æ‰å¿«é€Ÿåˆ‡æ¢åˆ°å¤‡åº“ä¸Š æ²¡æœ‰å¤±æ•ˆæ—¶é—´ï¼Ÿåªè¦åšä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæ¯éš”ä¸€å®šæ—¶é—´æŠŠæ•°æ®åº“ä¸­çš„è¶…æ—¶æ•°æ®æ¸…ç†ä¸€é éé˜»å¡çš„ï¼Ÿæä¸€ä¸ª while å¾ªç¯ï¼Œç›´åˆ° insert æˆåŠŸå†è¿”å›æˆåŠŸ éé‡å…¥çš„ï¼Ÿåœ¨æ•°æ®åº“è¡¨ä¸­åŠ ä¸ªå­—æ®µï¼Œè®°å½•å½“å‰è·å¾—é”çš„æœºå™¨çš„ä¸»æœºä¿¡æ¯å’Œçº¿ç¨‹ä¿¡æ¯ï¼Œé‚£ä¹ˆä¸‹æ¬¡å†è·å–é”çš„æ—¶å€™å…ˆæŸ¥è¯¢æ•°æ®åº“ï¼Œå¦‚æœå½“å‰æœºå™¨çš„ä¸»æœºä¿¡æ¯å’Œçº¿ç¨‹ä¿¡æ¯åœ¨æ•°æ®åº“å¯ä»¥æŸ¥åˆ°çš„è¯ï¼Œç›´æ¥æŠŠé”åˆ†é…ç»™ä»–å°±å¯ä»¥äº†ã€‚ éå…¬å¹³çš„ï¼Ÿå†å»ºä¸€å¼ ä¸­é—´è¡¨ï¼Œå°†ç­‰å¾…é”çš„çº¿ç¨‹å…¨è®°å½•ä¸‹æ¥ï¼Œå¹¶æ ¹æ®åˆ›å»ºæ—¶é—´æ’åºï¼Œåªæœ‰æœ€å…ˆåˆ›å»ºçš„å…è®¸è·å–é”ã€‚ æ¯”è¾ƒå¥½çš„åŠæ³•æ˜¯åœ¨ç¨‹åºä¸­ç”Ÿäº§ä¸»é”®è¿›è¡Œé˜²é‡ã€‚ åŸºäºRedisåšåˆ†å¸ƒå¼é” åŸºäºRedisçš„setnx()ã€expire()åšåˆ†å¸ƒå¼é” setnx çš„å«ä¹‰å°±æ˜¯ SET if Not Existsï¼Œå…¶ä¸»è¦æœ‰ä¸¤ä¸ªå‚æ•° setnx(key, value)ã€‚è¯¥æ–¹æ³•æ˜¯åŸå­çš„ï¼Œå¦‚æœ key ä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®å½“å‰ key æˆåŠŸï¼Œè¿”å› 1ï¼›å¦‚æœå½“å‰ key å·²ç»å­˜åœ¨ï¼Œåˆ™è®¾ç½®å½“å‰ key å¤±è´¥ï¼Œè¿”å› 0ã€‚ expire è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè¦æ³¨æ„çš„æ˜¯ setnx å‘½ä»¤ä¸èƒ½è®¾ç½® key çš„è¶…æ—¶æ—¶é—´ï¼Œåªèƒ½é€šè¿‡ expire() æ¥å¯¹ key è®¾ç½®ã€‚ setnxä¸expire ä¸¤ä¸ªå‘½ä»¤æ˜¯éåŸå­æ€§çš„ï¼Œå¯èƒ½å‡ºç°æ­»é”é—®é¢˜ï¼Œä½¿ç”¨setå‘½åçš„åŸå­æ“ä½œå¯ä»¥å®ç°åˆ†å¸ƒå¼é” set key value [EX seconds] [PX milliseconds] [NX|XX] å­˜åœ¨çš„é—®é¢˜ï¼š é”è¯¯è§£é™¤ï¼š å¦‚æœçº¿ç¨‹ A æˆåŠŸè·å–åˆ°äº†é”ï¼Œå¹¶ä¸”è®¾ç½®äº†è¿‡æœŸæ—¶é—´ 30 ç§’ï¼Œä½†çº¿ç¨‹ A æ‰§è¡Œæ—¶é—´è¶…è¿‡äº† 30 ç§’ï¼Œé”è¿‡æœŸè‡ªåŠ¨é‡Šæ”¾ï¼Œæ­¤æ—¶çº¿ç¨‹ B è·å–åˆ°äº†é”ï¼›éšå A æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹ A ä½¿ç”¨ DEL å‘½ä»¤æ¥é‡Šæ”¾é”ï¼Œä½†æ­¤æ—¶çº¿ç¨‹ B åŠ çš„é”è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæˆï¼Œçº¿ç¨‹ A å®é™…é‡Šæ”¾çš„çº¿ç¨‹ B åŠ çš„é”ã€‚ è§£å†³åŠæ³•ï¼šé€šè¿‡åœ¨ value ä¸­è®¾ç½®å½“å‰çº¿ç¨‹åŠ é”çš„æ ‡è¯†ï¼Œåœ¨åˆ é™¤ä¹‹å‰éªŒè¯ key å¯¹åº”çš„ value åˆ¤æ–­é”æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹æŒæœ‰ã€‚å¯ç”Ÿæˆä¸€ä¸ª UUID æ ‡è¯†å½“å‰çº¿ç¨‹ï¼Œä½¿ç”¨ lua è„šæœ¬åšéªŒè¯æ ‡è¯†å’Œè§£é”æ“ä½œã€‚ è¶…æ—¶è§£é”å¯¼è‡´å¹¶å‘ï¼šå¦‚æœçº¿ç¨‹ A æˆåŠŸè·å–é”å¹¶è®¾ç½®è¿‡æœŸæ—¶é—´ 30 ç§’ï¼Œä½†çº¿ç¨‹ A æ‰§è¡Œæ—¶é—´è¶…è¿‡äº† 30 ç§’ï¼Œé”è¿‡æœŸè‡ªåŠ¨é‡Šæ”¾ï¼Œæ­¤æ—¶çº¿ç¨‹ B è·å–åˆ°äº†é”ï¼Œçº¿ç¨‹ A å’Œçº¿ç¨‹ B å¹¶å‘æ‰§è¡Œã€‚ è§£å†³åŠæ³•ï¼š å°†è¿‡æœŸæ—¶é—´è®¾ç½®è¶³å¤Ÿé•¿ï¼Œç¡®ä¿ä»£ç é€»è¾‘åœ¨é”é‡Šæ”¾ä¹‹å‰èƒ½å¤Ÿæ‰§è¡Œå®Œæˆã€‚ ä¸ºè·å–é”çš„çº¿ç¨‹å¢åŠ å®ˆæŠ¤çº¿ç¨‹ï¼Œä¸ºå°†è¦è¿‡æœŸä½†æœªé‡Šæ”¾çš„é”å¢åŠ æœ‰æ•ˆæ—¶é—´ã€‚ å¦ä¸€ç§æ–¹å¼ï¼šä½¿ç”¨å¼€æºæ¡†æ¶Redissonå®ç°åˆ†å¸ƒå¼é” Config config = new Config(); config.useClusterServers() .addNodeAddress(\"redis://192.168.31.101:7001\") .addNodeAddress(\"redis://192.168.31.101:7002\") .addNodeAddress(\"redis://192.168.31.101:7003\") .addNodeAddress(\"redis://192.168.31.102:7001\") .addNodeAddress(\"redis://192.168.31.102:7002\") .addNodeAddress(\"redis://192.168.31.102:7003\"); RedissonClient redisson = Redisson.create(config); RLock lock = redisson.getLock(\"anyLock\"); lock.lock(); lock.unlock(); Redisson æ‰€æœ‰æŒ‡ä»¤éƒ½é€šè¿‡ Lua è„šæœ¬æ‰§è¡Œï¼ŒRedis æ”¯æŒ Lua è„šæœ¬åŸå­æ€§æ‰§è¡Œ Redisson è®¾ç½®ä¸€ä¸ª Key çš„é»˜è®¤è¿‡æœŸæ—¶é—´ä¸º 30sï¼Œå¦‚æœæŸä¸ªå®¢æˆ·ç«¯æŒæœ‰ä¸€ä¸ªé”è¶…è¿‡äº† 30s æ€ä¹ˆåŠï¼Ÿ Redisson ä¸­æœ‰ä¸€ä¸ª Watchdog çš„æ¦‚å¿µï¼Œç¿»è¯‘è¿‡æ¥å°±æ˜¯çœ‹é—¨ç‹—ï¼Œå®ƒä¼šåœ¨ä½ è·å–é”ä¹‹åï¼Œæ¯éš” 10s å¸®ä½ æŠŠ Key çš„è¶…æ—¶æ—¶é—´è®¾ä¸º 30sã€‚ è¿™æ ·çš„è¯ï¼Œå°±ç®—ä¸€ç›´æŒæœ‰é”ä¹Ÿä¸ä¼šå‡ºç° Key è¿‡æœŸäº†ï¼Œå…¶ä»–çº¿ç¨‹è·å–åˆ°é”çš„é—®é¢˜äº†ã€‚ -Redisson çš„â€œçœ‹é—¨ç‹—â€é€»è¾‘ä¿è¯äº†æ²¡æœ‰æ­»é”å‘ç”Ÿã€‚(å¦‚æœæœºå™¨å®•æœºäº†ï¼Œçœ‹é—¨ç‹—ä¹Ÿå°±æ²¡äº†ã€‚æ­¤æ—¶å°±ä¸ä¼šå»¶é•¿ Key çš„è¿‡æœŸæ—¶é—´ï¼Œåˆ°äº† 30s ä¹‹åå°±ä¼šè‡ªåŠ¨è¿‡æœŸäº†ï¼Œå…¶ä»–çº¿ç¨‹å¯ä»¥è·å–åˆ°é”) åŸºäº Redlock åšåˆ†å¸ƒå¼é” åŸºäºZKåšåˆ†å¸ƒå¼é” åˆ†å¸ƒå¼é”çš„æ€è·¯æ˜¯æ¯ä¸ªå®¢æˆ·ç«¯éƒ½åœ¨æŸä¸ªç›®å½•ä¸‹æ³¨å†Œä¸€ä¸ªä¸´æ—¶æœ‰åºèŠ‚ç‚¹ï¼Œæ¯æ¬¡æœ€å°çš„èŠ‚ç‚¹ä¼šè·å–é”ï¼Œå½“å‰èŠ‚ç‚¹ä¼šå»ç›‘å¬ä¸Šä¸€ä¸ªè¾ƒå°èŠ‚ç‚¹ï¼Œå¦‚æœè¾ƒå°èŠ‚ç‚¹å¤±æ•ˆä¹‹åï¼Œå°±ä¼šå»è·å–é”ã€‚ åˆ›å»ºä¸´æ—¶æœ‰åºèŠ‚ç‚¹æ˜¯å…¬å¹³é”ï¼Œæ¯æ¬¡æœ€å°çš„èŠ‚ç‚¹è·å–é”ã€‚ ç›‘å¬é”çš„é‡Šæ”¾ã€‚ç”±äºæ˜¯ä¸´æ—¶èŠ‚ç‚¹ï¼Œzkæ–­å¼€çš„è¯èŠ‚ç‚¹ä¼šè¢«åˆ é™¤ï¼Œé¿å…äº†æ­»é”ã€‚ åˆ›å»ºä¸´æ—¶æœ‰åºèŠ‚ç‚¹å¯ä»¥é¿å…ç¾Šç¾¤æ•ˆåº”ã€‚ åˆ›å»ºå•ä¸ªèŠ‚ç‚¹æ˜¯éå…¬å¹³é”ï¼Œä¼šå­˜åœ¨ç¾Šç¾¤æ•ˆåº”ã€‚ åŸºäºzookeeperå®ç°å’Œrediså®ç°åœ¨æ€§èƒ½ä¸Šæœ‰ä»€ä¹ˆå·®å¼‚ å¯¹äº Redis çš„åˆ†å¸ƒå¼é”è€Œè¨€ï¼Œå®ƒæœ‰ä»¥ä¸‹ç¼ºç‚¹ï¼š å®ƒè·å–é”çš„æ–¹å¼ç®€å•ç²—æš´ï¼Œè·å–ä¸åˆ°é”ç›´æ¥ä¸æ–­å°è¯•è·å–é”ï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚ å¦å¤–æ¥è¯´çš„è¯ï¼ŒRedis çš„è®¾è®¡å®šä½å†³å®šäº†å®ƒçš„æ•°æ®å¹¶ä¸æ˜¯å¼ºä¸€è‡´æ€§çš„ï¼Œåœ¨æŸäº›æç«¯æƒ…å†µä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°é—®é¢˜ã€‚é”çš„æ¨¡å‹ä¸å¤Ÿå¥å£® Redis åˆ†å¸ƒå¼é”ï¼Œå…¶å®éœ€è¦è‡ªå·±ä¸æ–­å»å°è¯•è·å–é”ï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚ æ‰€ä»¥ä½¿ç”¨ Redis ä½œä¸ºåˆ†å¸ƒå¼é”ä¹Ÿä¸å¤±ä¸ºä¸€ç§å¥½çš„æ–¹æ¡ˆï¼Œæœ€é‡è¦çš„ä¸€ç‚¹æ˜¯ Redis çš„æ€§èƒ½å¾ˆé«˜ï¼Œå¯ä»¥æ”¯æ’‘é«˜å¹¶å‘çš„è·å–ã€é‡Šæ”¾é”æ“ä½œã€‚ å¯¹äº ZK åˆ†å¸ƒå¼é”è€Œè¨€: ZK å¤©ç”Ÿè®¾è®¡å®šä½å°±æ˜¯åˆ†å¸ƒå¼åè°ƒï¼Œå¼ºä¸€è‡´æ€§ã€‚é”çš„æ¨¡å‹å¥å£®ã€ç®€å•æ˜“ç”¨ã€é€‚åˆåšåˆ†å¸ƒå¼é”ã€‚ å¦‚æœè·å–ä¸åˆ°é”ï¼Œåªéœ€è¦æ·»åŠ ä¸€ä¸ªç›‘å¬å™¨å°±å¯ä»¥äº†ï¼Œä¸ç”¨ä¸€ç›´è½®è¯¢ï¼Œæ€§èƒ½æ¶ˆè€—è¾ƒå°ã€‚ ä½†æ˜¯ ZK ä¹Ÿæœ‰å…¶ç¼ºç‚¹ï¼šå¦‚æœæœ‰è¾ƒå¤šçš„å®¢æˆ·ç«¯é¢‘ç¹çš„ç”³è¯·åŠ é”ã€é‡Šæ”¾é”ï¼Œå¯¹äº ZK é›†ç¾¤çš„å‹åŠ›ä¼šæ¯”è¾ƒå¤§ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/CASè¯¦è§£.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/CASè¯¦è§£.html","title":"CASè¯¦è§£","keywords":"","body":"CASè¯¦è§£ CASçš„å…¨ç§°æ˜¯Compare And Swap å³æ¯”è¾ƒäº¤æ¢ï¼Œå…¶ç®—æ³•æ ¸å¿ƒæ€æƒ³å¦‚ä¸‹ æ‰§è¡Œå‡½æ•°ï¼šCAS(V,E,N) å…¶åŒ…å«3ä¸ªå‚æ•° Vè¡¨ç¤ºè¦æ›´æ–°çš„å˜é‡,å†…å­˜åœ°å€V æ—§çš„é¢„æœŸå€¼E Nè¡¨ç¤ºæ–°å€¼ å¦‚æœVå€¼ç­‰äºEå€¼ï¼Œåˆ™å°†Vçš„å€¼è®¾ä¸ºNã€‚è‹¥Vå€¼å’ŒEå€¼ä¸åŒï¼Œåˆ™è¯´æ˜å·²ç»æœ‰å…¶ä»–çº¿ç¨‹åšäº†æ›´æ–°,CASæ“ä½œéœ€è¦æˆ‘ä»¬æä¾›ä¸€ä¸ªæœŸæœ›å€¼ï¼Œ å½“æœŸæœ›å€¼ä¸å½“å‰çº¿ç¨‹çš„å˜é‡å€¼ç›¸åŒæ—¶ï¼Œè¯´æ˜è¿˜æ²¡çº¿ç¨‹ä¿®æ”¹è¯¥å€¼ï¼Œå½“å‰çº¿ç¨‹å¯ä»¥è¿›è¡Œä¿®æ”¹ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡ŒCASæ“ä½œï¼Œä½†å¦‚æœæœŸæœ›å€¼ä¸å½“å‰çº¿ç¨‹ä¸ç¬¦ï¼Œåˆ™è¯´æ˜è¯¥å€¼å·²è¢«å…¶ä»–çº¿ç¨‹ä¿®æ”¹ï¼Œæ­¤æ—¶ä¸æ‰§è¡Œæ›´æ–°æ“ä½œï¼Œä½†å¯ä»¥é€‰æ‹©é‡æ–°è¯»å–è¯¥å˜é‡å†å°è¯•å†æ¬¡ä¿®æ”¹è¯¥å˜é‡ï¼Œä¹Ÿå¯ä»¥æ”¾å¼ƒæ“ä½œï¼ŒåŸç†å›¾å¦‚ä¸‹ CASæ˜¯ä¸€æ¡CPUçš„åŸå­æŒ‡ä»¤ï¼Œä¸ä¼šé€ æˆæ‰€è°“çš„æ•°æ®ä¸ä¸€è‡´é—®é¢˜ å¹¶å‘åŒ…ä¸­çš„åŸå­æ“ä½œç±»(Atomicç³»åˆ—) AtomicBooleanï¼šåŸå­æ›´æ–°å¸ƒå°”ç±»å‹ AtomicIntegerï¼šåŸå­æ›´æ–°æ•´å‹ AtomicLongï¼šåŸå­æ›´æ–°é•¿æ•´å‹ æºç åˆ†æï¼š public class AtomicInteger extends Number implements java.io.Serializable { private static final long serialVersionUID = 6214790243416807050L; // è·å–æŒ‡é’ˆç±»Unsafe private static final Unsafe unsafe = Unsafe.getUnsafe(); //ä¸‹è¿°å˜é‡valueåœ¨AtomicIntegerå®ä¾‹å¯¹è±¡å†…çš„å†…å­˜åç§»é‡ private static final long valueOffset; static { try { //é€šè¿‡unsafeç±»çš„objectFieldOffset()æ–¹æ³•ï¼Œè·å–valueå˜é‡åœ¨å¯¹è±¡å†…å­˜ä¸­çš„åç§» //é€šè¿‡è¯¥åç§»é‡valueOffsetï¼Œunsafeç±»çš„å†…éƒ¨æ–¹æ³•å¯ä»¥è·å–åˆ°å˜é‡valueå¯¹å…¶è¿›è¡Œå–å€¼æˆ–èµ‹å€¼æ“ä½œ valueOffset = unsafe.objectFieldOffset (AtomicInteger.class.getDeclaredField(\"value\")); } catch (Exception ex) { throw new Error(ex); } } //å½“å‰AtomicIntegerå°è£…çš„intå˜é‡value private volatile int value; public AtomicInteger(int initialValue) { value = initialValue; } public AtomicInteger() { } //è·å–å½“å‰æœ€æ–°å€¼ï¼Œ public final int get() { return value; } //è®¾ç½®å½“å‰å€¼ï¼Œå…·å¤‡volatileæ•ˆæœï¼Œæ–¹æ³•ç”¨finalä¿®é¥°æ˜¯ä¸ºäº†æ›´è¿›ä¸€æ­¥çš„ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚ public final void set(int newValue) { value = newValue; } //æœ€ç»ˆä¼šè®¾ç½®æˆnewValueï¼Œä½¿ç”¨è¯¥æ–¹æ³•åå¯èƒ½å¯¼è‡´å…¶ä»–çº¿ç¨‹åœ¨ä¹‹åçš„ä¸€å°æ®µæ—¶é—´å†…å¯ä»¥è·å–åˆ°æ—§å€¼ï¼Œæœ‰ç‚¹ç±»ä¼¼äºå»¶è¿ŸåŠ è½½ public final void lazySet(int newValue) { unsafe.putOrderedInt(this, valueOffset, newValue); } //è®¾ç½®æ–°å€¼å¹¶è·å–æ—§å€¼ï¼Œåº•å±‚è°ƒç”¨çš„æ˜¯CASæ“ä½œå³unsafe.compareAndSwapInt()æ–¹æ³• public final int getAndSet(int newValue) { return unsafe.getAndSetInt(this, valueOffset, newValue); } //å¦‚æœå½“å‰å€¼ä¸ºexpectï¼Œåˆ™è®¾ç½®ä¸ºupdate(å½“å‰å€¼æŒ‡çš„æ˜¯valueå˜é‡) public final boolean compareAndSet(int expect, int update) { return unsafe.compareAndSwapInt(this, valueOffset, expect, update); } //å½“å‰å€¼åŠ 1è¿”å›æ—§å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int getAndIncrement() { return unsafe.getAndAddInt(this, valueOffset, 1); } //å½“å‰å€¼å‡1ï¼Œè¿”å›æ—§å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int getAndDecrement() { return unsafe.getAndAddInt(this, valueOffset, -1); } //å½“å‰å€¼å¢åŠ deltaï¼Œè¿”å›æ—§å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int getAndAdd(int delta) { return unsafe.getAndAddInt(this, valueOffset, delta); } //å½“å‰å€¼åŠ 1ï¼Œè¿”å›æ–°å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int incrementAndGet() { return unsafe.getAndAddInt(this, valueOffset, 1) + 1; } //å½“å‰å€¼å‡1ï¼Œè¿”å›æ–°å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int decrementAndGet() { return unsafe.getAndAddInt(this, valueOffset, -1) - 1; } //å½“å‰å€¼å¢åŠ deltaï¼Œè¿”å›æ–°å€¼ï¼Œåº•å±‚CASæ“ä½œ public final int addAndGet(int delta) { return unsafe.getAndAddInt(this, valueOffset, delta) + delta; } //çœç•¥ä¸€äº›ä¸å¸¸ç”¨çš„æ–¹æ³•.... } å¯çœ‹å‡ºgetAndAddInté€šè¿‡ä¸€ä¸ªwhileå¾ªç¯ä¸æ–­çš„é‡è¯•æ›´æ–°è¦è®¾ç½®çš„å€¼ï¼Œç›´åˆ°æˆåŠŸä¸ºæ­¢ï¼Œè°ƒç”¨çš„æ˜¯Unsafeç±»ä¸­çš„compareAndSwapIntæ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªCASæ“ä½œæ–¹æ³• CASçš„ç¼ºç‚¹ CPUå¼€é”€è¾ƒå¤§ï¼šåœ¨å¹¶å‘é‡æ¯”è¾ƒé«˜çš„æƒ…å†µä¸‹ï¼Œå¦‚æœè®¸å¤šçº¿ç¨‹åå¤å°è¯•æ›´æ–°æŸä¸€ä¸ªå˜é‡ï¼Œå´åˆä¸€ç›´æ›´æ–°ä¸æˆåŠŸï¼Œå¾ªç¯å¾€å¤ï¼Œä¼šç»™CPUå¸¦æ¥å¾ˆå¤§çš„å‹åŠ›ã€‚do whileå¾ªç¯ä¸€ç›´å°è¯• ä¸èƒ½ä¿è¯ä»£ç å—çš„åŸå­æ€§ï¼šCASæœºåˆ¶æ‰€ä¿è¯çš„åªæ˜¯ä¸€ä¸ªå˜é‡çš„åŸå­æ€§æ“ä½œï¼Œè€Œä¸èƒ½ä¿è¯æ•´ä¸ªä»£ç å—çš„åŸå­æ€§ã€‚æ¯”å¦‚éœ€è¦ä¿è¯3ä¸ªå˜é‡å…±åŒè¿›è¡ŒåŸå­æ€§çš„æ›´æ–°ï¼Œå°±ä¸å¾—ä¸ä½¿ç”¨Synchronizedäº†ã€‚ ABAé—®é¢˜ CASçš„ABAé—®é¢˜åŠå…¶è§£å†³æ–¹æ¡ˆ AtomicStampedReferenceç±»:AtomicStampedReferenceåŸå­ç±»æ˜¯ä¸€ä¸ªå¸¦æœ‰æ—¶é—´æˆ³çš„å¯¹è±¡å¼•ç”¨ï¼Œåœ¨æ¯æ¬¡ä¿®æ”¹åï¼ŒAtomicStampedReferenceä¸ä»…ä¼šè®¾ç½®æ–°å€¼è€Œä¸”è¿˜ä¼šè®°å½•æ›´æ”¹çš„æ—¶é—´ã€‚å½“AtomicStampedReferenceè®¾ç½®å¯¹è±¡å€¼æ—¶ï¼Œå¯¹è±¡å€¼ä»¥åŠæ—¶é—´æˆ³éƒ½å¿…é¡»æ»¡è¶³æœŸæœ›å€¼æ‰èƒ½å†™å…¥æˆåŠŸï¼Œè¿™ä¹Ÿå°±è§£å†³äº†åå¤è¯»å†™æ—¶ï¼Œæ— æ³•é¢„çŸ¥å€¼æ˜¯å¦å·²è¢«ä¿®æ”¹çš„çª˜å¢ƒ AtomicMarkableReferenceç±»:AtomicMarkableReferenceç»´æŠ¤çš„æ˜¯ä¸€ä¸ªbooleanå€¼çš„æ ‡è¯†ï¼Œä¹Ÿå°±æ˜¯è¯´è‡³äºtrueå’Œfalseä¸¤ç§åˆ‡æ¢çŠ¶æ€,è€Œå¯¹äºAtomicMarkableReferenceæ¥è¯´åªèƒ½å‡å°‘ABAé—®é¢˜çš„å‘ç”Ÿæ¦‚ç‡ï¼Œå¹¶ä¸èƒ½æœç»ã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/ESæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/ESæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜.html","title":"ESæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜","keywords":"","body":"ESæ ¸å¿ƒæŠ€æœ¯ä¸å®æˆ˜ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/JVM.html":{"url":"ç®€ä»‹/JVM.html","title":"JVM","keywords":"","body":"JVM JVMçš„ç»„æˆæ„é€  JVMä¸»è¦ç”±ç±»åŠ è½½å™¨ã€è¿è¡Œæ—¶æ•°æ®åŒºã€æ‰§è¡Œå¼•æ“ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆã€‚ ç¨‹åºè®¡æ•°å™¨ï¼šè®°å½•ç¨‹åºæ‰§è¡Œçš„ä½ç½®ï¼Œæœ‰äº†ç¨‹åºè®¡æ•°å™¨ï¼Œå°±å¯ä»¥ä¿è¯åœ¨æ¶‰åŠçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç¨‹åºä¾ç„¶èƒ½å¤Ÿæ­£ç¡®æ— è¯¯åœ°è¿è¡Œä¸‹å»ã€‚ Javaè™šæ‹Ÿæœºæ ˆï¼šå­˜ç€ç¨‹åºè¿è¡Œæ—¶çš„å±€éƒ¨å˜é‡ï¼Œä¸»è¦åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼šä¸ºnativeæ–¹æ³•æœåŠ¡ æ–¹æ³•åŒºï¼šçº¿ç¨‹å…±äº«ï¼Œç”¨äºå­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ã€é™æ€å˜é‡ã€å¸¸é‡ã€å…¨å±€å˜é‡ã€æ™®é€šæ–¹æ³•çš„å­—èŠ‚ç ç­‰å†…å®¹ã€‚ å †ï¼šçº¿ç¨‹å…±äº«ã€å­˜å‚¨å®ä¾‹å¯¹è±¡å’Œæ•°ç»„ JVMçš„åƒåœ¾å›æ”¶ JVMé€šè¿‡ä¸€ç§å¯è¾¾æ€§åˆ†æç®—æ³•(GC-ROOT)è¿›è¡Œåƒåœ¾å¯¹è±¡çš„è¯†åˆ«ï¼Œå¯¹è±¡å¼•ç”¨è¿›è¡Œæ ‡è®°ï¼Œæ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡å°±æ˜¯å¯ä»¥å›æ”¶çš„ã€‚ æ ‡è®°æ¸…é™¤ç®—æ³• æ ‡è®°æ•´ç†ç®—æ³• å¤åˆ¶ç®—æ³• Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"JavaåŸºç¡€çŸ¥è¯†/JVMå†…å­˜æ’æŸ¥.html":{"url":"JavaåŸºç¡€çŸ¥è¯†/JVMå†…å­˜æ’æŸ¥.html","title":"JVMé—®é¢˜æ’æŸ¥","keywords":"","body":"JVMé—®é¢˜æ’æŸ¥ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/å¹¶å‘ç¼–ç¨‹.html":{"url":"ç®€ä»‹/å¹¶å‘ç¼–ç¨‹.html","title":"å¹¶å‘ç¼–ç¨‹","keywords":"","body":"å¹¶å‘ç¼–ç¨‹ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/è®¾è®¡æ¨¡å¼.html":{"url":"ç®€ä»‹/è®¾è®¡æ¨¡å¼.html","title":"è®¾è®¡æ¨¡å¼","keywords":"","body":"è®¾è®¡æ¨¡å¼ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"ç®€ä»‹/é¢ç»æ€»ç»“.html":{"url":"ç®€ä»‹/é¢ç»æ€»ç»“.html","title":"é¢ç»æ€»ç»“","keywords":"","body":"é¢ç»æ€»ç»“ hashmapçš„åº•å±‚æ•°æ®ç»“æ„ï¼Œputçš„è¿‡ç¨‹ã€‚ JDK1.7 ,HashMapåº•å±‚æ˜¯æ•°æ®å’Œé“¾è¡¨ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨æ•£åˆ— JDK1.8 ,HashMapåº•å±‚æ˜¯æ•°æ®å’Œé“¾è¡¨å’Œçº¢é»‘æ ‘ç»“åˆä¸€èµ·ä½¿ç”¨ jdk1.8åœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚ putè¿‡ç¨‹ Hashmapæ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ä¸‹ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼ŸconcurrentHashMapåº•å±‚æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ã€‚ HashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTable å’ŒconcurrentHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTable æ˜¯å…¨å±€é”ï¼ŒHashTableå®¹å™¨ä½¿ç”¨synchronizedæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ŒconcurrentHashMapåˆ†æ®µé”ï¼Œæ€§èƒ½æ›´é«˜ã€‚ HashMapåœ¨å¤šçº¿ç¨‹ä¸‹ä¼šå‡ºç°æ­»å¾ªç¯é—®é¢˜ åŸå› ï¼šHashMapå‡ºç°æ­»å¾ªç¯çš„æ¡ä»¶æ˜¯ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹åŸæœ‰çš„æ—§çš„Hashè¡¨æ‰©å®¹æ—¶ï¼Œå½“å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨æ‰©å®¹æ—¶ï¼ˆéå†å•å‘é“¾è¡¨ï¼‰åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œå¹¶ä¸”åœ¨çº¿ç¨‹äºŒä¸­å®Œæˆäº†æ‰€æœ‰çš„æ‰©å®¹æ“ä½œï¼Œæ­¤æ—¶å†åˆ‡æ¢åˆ°çº¿ç¨‹1ä¸­å°±å¯èƒ½é€ æˆå•å‘é“¾è¡¨å½¢æˆä¸€ä¸ªç¯ï¼Œä»è€Œåœ¨ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ“ä½œæ—¶å°±å¯èƒ½å‘ç”Ÿæ­»å¾ªç¯ã€‚ concurrentHashMapåº•å±‚æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ ConcurrentHashMapé‡‡ç”¨çš„æ˜¯åˆ†æ®µå¼é”ï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠä¸€ä¸ªå¤§çš„Mapæ‹†å°æˆNä¸ªå°çš„Segmentï¼Œåœ¨putæ•°æ®æ—¶ä¼šæ ¹æ®hashæ¥ç¡®å®šå…·ä½“å­˜æ”¾åœ¨å“ªä¸ªSegmentä¸­ï¼ŒSegmentå†…éƒ¨çš„åŒæ­¥æœºåˆ¶æ˜¯åŸºäºReentryLockæ“ä½œçš„ï¼Œæ¯ä¸€ä¸ªSegmentéƒ½ä¼šåˆ†é…ä¸€æŠŠé”ï¼Œå½“çº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€æ®µæ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œä¹Ÿå°±æ˜¯å®ç°å¹¶å‘è®¿é—®ã€‚ èƒ½è¯´ä¸€ä¸‹ConcurrentHashMapåœ¨JDK1.7å’ŒJDK1.8ä¸­çš„åŒºåˆ«å—ï¼Ÿ JDK1.8çš„å®ç°é™ä½é”çš„ç²’åº¦ï¼ŒJDK1.7ç‰ˆæœ¬é”çš„ç²’åº¦æ˜¯åŸºäºSegmentçš„ï¼ŒåŒ…å«å¤šä¸ªHashEntryï¼Œè€ŒJDK1.8é”çš„ç²’åº¦å°±æ˜¯HashEntryï¼ˆé¦–èŠ‚ç‚¹ï¼‰ JDK1.8ç‰ˆæœ¬çš„æ•°æ®ç»“æ„å˜å¾—æ›´åŠ ç®€å•ï¼Œä½¿å¾—æ“ä½œä¹Ÿæ›´åŠ æ¸…æ™°æµç•…ï¼Œå› ä¸ºå·²ç»ä½¿ç”¨synchronizedæ¥è¿›è¡ŒåŒæ­¥ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†æ®µé”çš„æ¦‚å¿µï¼Œä¹Ÿå°±ä¸éœ€è¦Segmentè¿™ç§æ•°æ®ç»“æ„äº†ï¼Œç”±äºç²’åº¦çš„é™ä½ï¼Œå®ç°çš„å¤æ‚åº¦ä¹Ÿå¢åŠ äº† JDK1.8ä½¿ç”¨çº¢é»‘æ ‘æ¥ä¼˜åŒ–é“¾è¡¨ï¼ŒåŸºäºé•¿åº¦å¾ˆé•¿çš„é“¾è¡¨çš„éå†æ˜¯ä¸€ä¸ªå¾ˆæ¼«é•¿çš„è¿‡ç¨‹ï¼Œè€Œçº¢é»‘æ ‘çš„éå†æ•ˆç‡æ˜¯å¾ˆå¿«çš„ï¼Œä»£æ›¿ä¸€å®šé˜ˆå€¼çš„é“¾è¡¨ï¼Œè¿™æ ·å½¢æˆä¸€ä¸ªæœ€ä½³æ‹æ¡£ synchronizedå®ç°åŸç†ä¸é”çš„å‡çº§è¿‡ç¨‹ã€‚ é”çš„å‡çº§è¿‡ç¨‹ å‡çº§è¿‡ç¨‹ç®€å•ç†è§£ä¸ºï¼š åå‘é” -> è½»é‡çº§é” -> é‡é‡çº§é” synchronizedå®ç°åŸç† synchronized åŒæ­¥è¯­å¥å—çš„å®ç°ä½¿ç”¨çš„æ˜¯ monitorenter å’Œ monitorexit æŒ‡ä»¤ï¼Œå…¶ä¸­ monitorenter æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œmonitorexit æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ã€‚ synchronized ä¿®é¥°çš„æ–¹æ³•å¹¶æ²¡æœ‰ monitorenter æŒ‡ä»¤å’Œ monitorexit æŒ‡ä»¤ï¼Œå–å¾—ä»£ä¹‹çš„ç¡®å®æ˜¯ ACC_SYNCHRONIZED æ ‡è¯†ï¼Œè¯¥æ ‡è¯†æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚ ä¸è¿‡ä¸¤è€…çš„æœ¬è´¨éƒ½æ˜¯å¯¹å¯¹è±¡ç›‘è§†å™¨ monitor çš„è·å–ã€‚ åœ¨æ‰§è¡Œmonitorenteræ—¶ï¼Œä¼šå°è¯•è·å–å¯¹è±¡çš„é”ï¼Œå¦‚æœé”çš„è®¡æ•°å™¨ä¸º 0 åˆ™è¡¨ç¤ºé”å¯ä»¥è¢«è·å–ï¼Œè·å–åå°†é”è®¡æ•°å™¨è®¾ä¸º 1 ä¹Ÿå°±æ˜¯åŠ  1ã€‚ åœ¨æ‰§è¡Œ monitorexit æŒ‡ä»¤åï¼Œå°†é”è®¡æ•°å™¨è®¾ä¸º 0ï¼Œè¡¨æ˜é”è¢«é‡Šæ”¾ã€‚å¦‚æœè·å–å¯¹è±¡é”å¤±è´¥ï¼Œé‚£å½“å‰çº¿ç¨‹å°±è¦é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°é”è¢«å¦å¤–ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ä¸ºæ­¢ã€‚ æ•°æ®åº“æ˜¯å¦ç”¨äº†ç´¢å¼•ï¼Ÿç”¨explainæ— æ³•çœ‹å‡ºç´¢å¼•ç”¨äº†å“ªä¸€éƒ¨åˆ†ï¼Ÿ é‡åˆ°éç­‰å€¼åˆ¤æ–­æ—¶åŒ¹é…åœæ­¢ a = ? and b = ? and c= ? a = ? and b = ? and c > ? a = ? and b > ? and c > ?ï¼Œ åªç”¨åˆ°ç´¢å¼•çš„ä¸€éƒ¨åˆ†(a,b)ï¼Œå› ä¸ºbæŠŠæ•°æ®é˜»æ–­äº†ï¼Œbä¸æ˜¯å®šæ¤æ—¶ï¼Œcæ—¶æ— åºçš„ï¼Œæ— æ³•ä½¿ç”¨(a,b,c)ç´¢å¼• springå¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼ŒA->B->Aé—®é¢˜,æ€ä¹ˆè§£å†³ Spring ä¸ºäº†è§£å†³å•ä¾‹çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œä½¿ç”¨äº†ä¸‰çº§ç¼“å­˜ã€‚å…¶ä¸­ä¸€çº§ç¼“å­˜ä¸ºå•ä¾‹æ± ï¼ˆsingletonObjectsï¼‰ï¼ŒäºŒçº§ç¼“å­˜ä¸ºæå‰æ›å…‰å¯¹è±¡ï¼ˆearlySingletonObjectsï¼‰ï¼Œä¸‰çº§ç¼“å­˜ä¸ºæå‰æ›å…‰å¯¹è±¡å·¥å‚ï¼ˆsingletonFactoriesï¼‰ã€‚ å‡è®¾Aã€Bå¾ªç¯å¼•ç”¨ï¼Œå®ä¾‹åŒ– A çš„æ—¶å€™å°±å°†å…¶æ”¾å…¥ä¸‰çº§ç¼“å­˜ä¸­ï¼Œæ¥ç€å¡«å……å±æ€§çš„æ—¶å€™ï¼Œå‘ç°ä¾èµ–äº† Bï¼ŒåŒæ ·çš„æµç¨‹ä¹Ÿæ˜¯å®ä¾‹åŒ–åæ”¾å…¥ä¸‰çº§ç¼“å­˜ï¼Œæ¥ç€å»å¡«å……å±æ€§æ—¶åˆå‘ç°è‡ªå·±ä¾èµ– Aï¼Œè¿™æ—¶å€™ä»ç¼“å­˜ä¸­æŸ¥æ‰¾åˆ°æ—©æœŸæš´éœ²çš„ Aï¼Œæ²¡æœ‰ AOP ä»£ç†çš„è¯ï¼Œç›´æ¥å°† A çš„åŸå§‹å¯¹è±¡æ³¨å…¥ Bï¼Œå®Œæˆ B çš„åˆå§‹åŒ–åï¼Œè¿›è¡Œå±æ€§å¡«å……å’Œåˆå§‹åŒ–ï¼Œè¿™æ—¶å€™ B å®Œæˆåï¼Œå°±å»å®Œæˆå‰©ä¸‹çš„ A çš„æ­¥éª¤ï¼Œå¦‚æœæœ‰ AOP ä»£ç†ï¼Œå°±è¿›è¡Œ AOP å¤„ç†è·å–ä»£ç†åçš„å¯¹è±¡ Aï¼Œæ³¨å…¥ Bï¼Œèµ°å‰©ä¸‹çš„æµç¨‹ã€‚ ä¸¾ä¸ªä¸ç”¨å›è¡¨çš„ä¾‹å­ å›è¡¨ï¼šæ•°æ®åº“æ ¹æ®ç´¢å¼•æ‰¾åˆ°äº†æŒ‡å®šçš„è®°å½•æ‰€åœ¨è¡Œåï¼Œè¿˜éœ€è¦æ ¹æ®rowidå†æ¬¡åˆ°æ•°æ®å—é‡Œå–æ•°æ®çš„æ“ä½œã€‚ æ¯”å¦‚ï¼šselect code from order where mcode = â€˜M001â€™;å› ä¸ºmcodeç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢mcodeçš„ç´¢å¼•ï¼ŒæŸ¥åˆ°ç¬¦åˆè¦æ±‚çš„æ•°æ®çš„rowid(ç´¢å¼•å†…æ˜¯ä¸ä¼šä¿å­˜å…·ä½“æ•°æ®çš„)ï¼Œå†æ ¹æ®rowidï¼ŒæŸ¥è¯¢åˆ°å…·ä½“çš„æ•°æ®ï¼Œæ‹¿åˆ°codeã€‚ å¦‚ä½•é¿å…å›è¡¨ ä½¿ç”¨è¦†ç›–ç´¢å¼•ã€‚ ä½¿ç”¨mcodeçš„ç´¢å¼•ï¼Œä½¿ç”¨(mcode,code)çš„è”åˆç´¢å¼•ã€‚ åœ¨æŸ¥æ‰¾åˆ°mcodeçš„ç´¢å¼•åï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°codeäº†ï¼Œä¸éœ€è¦å†å›è¡¨ã€‚ Mysqlä¸»é”®ç”¨uuidä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ ä¸»é”®ä¸€èˆ¬ä½¿ç”¨ mysqlçš„è‡ªå¢ä¸»é”®ã€uuidã€é›ªèŠ±ç®—æ³•ã€‚ è‡ªå¢ä¸»é”®ï¼šå‡å°‘äº†é¡µåˆ†è£‚å’Œç¢ç‰‡çš„äº§ç”Ÿ æ•ˆç‡æœ€é«˜ uuid: uuidæ¯«æ— è§„å¾‹ã€æ–°å¢çš„å€¼ä¸ä¸€å®šæ¯”ä¹‹å‰çš„ä¸»é”®å€¼å¤§ï¼Œæ‰€ä»¥innodbæ— æ³•æ€»æ•°å°†æ–°è¡Œæ’å…¥åˆ°ç´¢å¼•çš„æœ€å â‘  å†™å…¥çš„ç›®æ ‡é¡µå¾ˆå¯èƒ½å·²ç»åˆ·æ–°åˆ°ç£ç›˜ä¸Šå¹¶ä¸”ä»ç¼“å­˜ä¸Šç§»é™¤ï¼Œæˆ–è€…è¿˜æ²¡æœ‰è¢«åŠ è½½åˆ°ç¼“å­˜ä¸­ï¼Œinnodbåœ¨æ’å…¥ä¹‹å‰ä¸å¾—ä¸å…ˆæ‰¾åˆ°å¹¶ä»ç£ç›˜è¯»å–ç›®æ ‡é¡µåˆ°å†…å­˜ä¸­ï¼Œè¿™å°†å¯¼è‡´å¤§é‡çš„éšæœºIO â‘¡å› ä¸ºå†™å…¥æ˜¯ä¹±åºçš„ï¼Œinnodbä¸å¾—ä¸é¢‘ç¹çš„åšé¡µåˆ†è£‚æ“ä½œï¼Œä»¥ä¾¿ä¸ºæ–°çš„è¡Œåˆ†é…ç©ºé—´ï¼Œé¡µåˆ†è£‚å¯¼è‡´ç§»åŠ¨å¤§é‡çš„æ•°æ®ï¼Œä¸€æ¬¡æ’å…¥æœ€å°‘éœ€è¦ä¿®æ”¹ä¸‰ä¸ªé¡µä»¥ä¸Š â‘¢ç”±äºé¢‘ç¹çš„é¡µåˆ†è£‚ï¼Œé¡µä¼šå˜å¾—ç¨€ç–å¹¶è¢«ä¸è§„åˆ™çš„å¡«å……ï¼Œæœ€ç»ˆä¼šå¯¼è‡´æ•°æ®ä¼šæœ‰ç¢ç‰‡ èšè”Ÿç´¢å¼•å’Œéèšè”Ÿç´¢å¼•çš„åŒºåˆ«ï¼Œæ˜¯å¦åˆ†åˆ«å¯¹åº”ä¸»é”®ç´¢å¼•ã€è¾…åŠ©ç´¢å¼•ï¼Ÿ æ˜¯çš„ èšç°‡ç´¢å¼•ï¼šå°†æ•°æ®å­˜å‚¨ä¸ç´¢å¼•æ”¾åˆ°äº†ä¸€å—ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ®. éèšç°‡ç´¢å¼•ï¼šå°†æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹æŒ‡å‘äº†æ•°æ®å¯¹åº”çš„ä½ç½®. jvmåƒåœ¾å›æ”¶æ˜¯å¦‚ä½•åšçš„ï¼Ÿ æ ‡è®°æ¸…é™¤ç®—æ³• ï¼Œäº§ç”Ÿå†…å­˜ç¢ç‰‡ æ ‡è®°æ•´ç†ç®—æ³• ï¼ŒGCæš‚åœæ—¶é—´ä¼šåŠ é•¿ å¤åˆ¶ç®—æ³•ï¼Œ å†…å­˜ç©ºé—´ä½¿ç”¨ç‡åªæœ‰50%ï¼Œå¯åˆ†é…å†…å­˜å‡å°‘äº†ä¸€åŠ åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œåˆ†ä¸ºedenå’ŒsurvivoråŒºï¼Œ Survivor ç”± FromSpaceä¸ToSpaceç»„æˆï¼Œæ–°ç”Ÿä»£å¤åˆ¶ç®—æ³•æ¥å®Œæˆæ”¶é›†ï¼Œè€å¹´ä»£ä½¿ç”¨ç”¨â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•æ¥è¿›è¡Œå›æ”¶ã€‚ ç‰¹åˆ«åœ°ï¼Œåœ¨åˆ†ä»£æ”¶é›†ç®—æ³•ä¸­ï¼Œå¯¹è±¡çš„å­˜å‚¨å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åŒºåˆ†é…ã€‚ å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚ é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£ï¼Œé»˜è®¤ä¸º 15 å²ã€‚ jvmè¿è¡Œæ—¶æœ‰å“ªäº›æ•°æ®åŒº ç¨‹åºè®¡æ•°å™¨ï¼šè®°å½•ç¨‹åºæ‰§è¡Œçš„ä½ç½®ï¼Œæœ‰äº†ç¨‹åºè®¡æ•°å™¨ï¼Œå°±å¯ä»¥ä¿è¯åœ¨æ¶‰åŠçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç¨‹åºä¾ç„¶èƒ½å¤Ÿæ­£ç¡®æ— è¯¯åœ°è¿è¡Œä¸‹å»ã€‚ Javaè™šæ‹Ÿæœºæ ˆï¼šå­˜ç€ç¨‹åºè¿è¡Œæ—¶çš„å±€éƒ¨å˜é‡ï¼Œä¸»è¦åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼šä¸ºnativeæ–¹æ³•æœåŠ¡ æ–¹æ³•åŒºï¼šçº¿ç¨‹å…±äº«ï¼Œç”¨äºå­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ã€é™æ€å˜é‡ã€å¸¸é‡ã€å…¨å±€å˜é‡ã€æ™®é€šæ–¹æ³•çš„å­—èŠ‚ç ç­‰å†…å®¹ã€‚ å †ï¼šçº¿ç¨‹å…±äº«ã€å­˜å‚¨å®ä¾‹å¯¹è±¡å’Œæ•°ç»„ javaåƒåœ¾å›æ”¶å™¨æœ‰å“ªäº› Serial(ä¸²è¡ŒGC)æ”¶é›†å™¨ ... ParNew(å¹¶è¡ŒGC)æ”¶é›†å™¨ ... Parallel Scavenge(å¹¶è¡Œå›æ”¶GC)æ”¶é›†å™¨ ... Serial Old(ä¸²è¡ŒGC)æ”¶é›†å™¨ ... Parallel Old(å¹¶è¡ŒGC)æ”¶é›†å™¨ ... CMS(å¹¶å‘GC)æ”¶é›†å™¨ ... G1æ”¶é›†å™¨ å“ˆå¸Œå†²çªå¦‚ä½•è§£å†³ å¼€æ”¾å¯»å€æ³•ï¼Œå†²çªåˆ™æ ¹æ®æŒ‡å®šæ­¥é•¿å‘åå¯»æ‰¾ç›´åˆ°æ‰¾åˆ°ç©ºä½æˆ–æ²¡æœ‰ä½ç½®ã€‚ å†å“ˆå¸Œå‘ï¼Œæœ‰å¤šä¸ªä¸åŒçš„Hashå‡½æ•°ï¼Œå½“å‘ç”Ÿå†²çªæ—¶ï¼Œä½¿ç”¨ç¬¬äºŒä¸ªï¼Œç¬¬ä¸‰ä¸ªï¼Œç­‰å“ˆå¸Œå‡½æ•° ç›´åˆ°ä¸å†å†²çªã€‚ å»ºç«‹å…¬å…±æº¢å‡ºåŒºï¼Œ å°†å“ˆå¸Œè¡¨åˆ†ä¸ºåŸºæœ¬è¡¨å’Œæº¢å‡ºè¡¨ä¸¤éƒ¨åˆ†ï¼Œå‡¡æ˜¯å’ŒåŸºæœ¬è¡¨å‘ç”Ÿå†²çªçš„å…ƒç´ ï¼Œä¸€å¾‹å¡«å…¥æº¢å‡ºè¡¨ ï¼Œç¼ºç‚¹: å¦‚æœªèƒ½å‘½ä¸­å“ˆå¸Œè¡¨ éœ€è¦éå†æŸ¥æ‰¾æº¢å‡ºè¡¨ æŸ¥è¯¢æ•ˆç‡ä½ã€‚ æ‹‰é“¾æ³• ï¼Œå¦‚å‡ºç°å†²çªï¼Œå°†å…¶ä½œä¸ºé“¾è¡¨ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥å¤´æˆ–è€…å°¾å·´å¤„ã€‚ b+æ ‘å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯æŒ‡é’ˆå—ï¼Ÿå­˜çš„æ˜¯æ•°æ® Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“1.html":{"url":"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“1.html","title":"é¢è¯•æ€»ç»“1","keywords":"","body":"é¢ç»æ€»ç»“ hashmapçš„åº•å±‚æ•°æ®ç»“æ„ï¼Œputçš„è¿‡ç¨‹ã€‚ JDK1.7 ,HashMapåº•å±‚æ˜¯æ•°æ®å’Œé“¾è¡¨ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿå°±æ˜¯é“¾è¡¨æ•£åˆ— JDK1.8 ,HashMapåº•å±‚æ˜¯æ•°æ®å’Œé“¾è¡¨å’Œçº¢é»‘æ ‘ç»“åˆä¸€èµ·ä½¿ç”¨ jdk1.8åœ¨è§£å†³å“ˆå¸Œå†²çªæ—¶æœ‰äº†è¾ƒå¤§çš„å˜åŒ–ï¼Œå½“é“¾è¡¨é•¿åº¦å¤§äºé˜ˆå€¼ï¼ˆé»˜è®¤ä¸º8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬åŒ–ä¸ºçº¢é»‘æ ‘ï¼Œä»¥å‡å°‘æœç´¢æ—¶é—´ã€‚ putè¿‡ç¨‹ Hashmapæ˜¯å¦æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå¤šçº¿ç¨‹ä¸‹ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼ŸconcurrentHashMapåº•å±‚æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ã€‚ HashMapä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTable å’ŒconcurrentHashMapæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ŒHashTable æ˜¯å…¨å±€é”ï¼ŒHashTableå®¹å™¨ä½¿ç”¨synchronizedæ¥ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ŒconcurrentHashMapåˆ†æ®µé”ï¼Œæ€§èƒ½æ›´é«˜ã€‚ HashMapåœ¨å¤šçº¿ç¨‹ä¸‹ä¼šå‡ºç°æ­»å¾ªç¯é—®é¢˜ åŸå› ï¼šHashMapå‡ºç°æ­»å¾ªç¯çš„æ¡ä»¶æ˜¯ï¼Œå½“ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹åŸæœ‰çš„æ—§çš„Hashè¡¨æ‰©å®¹æ—¶ï¼Œå½“å…¶ä¸­ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨æ‰©å®¹æ—¶ï¼ˆéå†å•å‘é“¾è¡¨ï¼‰åˆ‡æ¢åˆ°å¦å¤–ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œæ‰©å®¹æ“ä½œï¼Œå¹¶ä¸”åœ¨çº¿ç¨‹äºŒä¸­å®Œæˆäº†æ‰€æœ‰çš„æ‰©å®¹æ“ä½œï¼Œæ­¤æ—¶å†åˆ‡æ¢åˆ°çº¿ç¨‹1ä¸­å°±å¯èƒ½é€ æˆå•å‘é“¾è¡¨å½¢æˆä¸€ä¸ªç¯ï¼Œä»è€Œåœ¨ä¸‹ä¸€æ¬¡æŸ¥è¯¢æ“ä½œæ—¶å°±å¯èƒ½å‘ç”Ÿæ­»å¾ªç¯ã€‚ concurrentHashMapåº•å±‚æ˜¯å¦‚ä½•å®ç°çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ ConcurrentHashMapé‡‡ç”¨çš„æ˜¯åˆ†æ®µå¼é”ï¼Œå¯ä»¥ç†è§£ä¸ºæŠŠä¸€ä¸ªå¤§çš„Mapæ‹†å°æˆNä¸ªå°çš„Segmentï¼Œåœ¨putæ•°æ®æ—¶ä¼šæ ¹æ®hashæ¥ç¡®å®šå…·ä½“å­˜æ”¾åœ¨å“ªä¸ªSegmentä¸­ï¼ŒSegmentå†…éƒ¨çš„åŒæ­¥æœºåˆ¶æ˜¯åŸºäºReentryLockæ“ä½œçš„ï¼Œæ¯ä¸€ä¸ªSegmentéƒ½ä¼šåˆ†é…ä¸€æŠŠé”ï¼Œå½“çº¿ç¨‹å ç”¨é”è®¿é—®å…¶ä¸­ä¸€æ®µæ•°æ®æ—¶ï¼Œå…¶ä»–æ®µçš„æ•°æ®ä¹Ÿèƒ½è¢«å…¶ä»–çº¿ç¨‹è®¿é—®ï¼Œä¹Ÿå°±æ˜¯å®ç°å¹¶å‘è®¿é—®ã€‚ èƒ½è¯´ä¸€ä¸‹ConcurrentHashMapåœ¨JDK1.7å’ŒJDK1.8ä¸­çš„åŒºåˆ«å—ï¼Ÿ JDK1.8çš„å®ç°é™ä½é”çš„ç²’åº¦ï¼ŒJDK1.7ç‰ˆæœ¬é”çš„ç²’åº¦æ˜¯åŸºäºSegmentçš„ï¼ŒåŒ…å«å¤šä¸ªHashEntryï¼Œè€ŒJDK1.8é”çš„ç²’åº¦å°±æ˜¯HashEntryï¼ˆé¦–èŠ‚ç‚¹ï¼‰ JDK1.8ç‰ˆæœ¬çš„æ•°æ®ç»“æ„å˜å¾—æ›´åŠ ç®€å•ï¼Œä½¿å¾—æ“ä½œä¹Ÿæ›´åŠ æ¸…æ™°æµç•…ï¼Œå› ä¸ºå·²ç»ä½¿ç”¨synchronizedæ¥è¿›è¡ŒåŒæ­¥ï¼Œæ‰€ä»¥ä¸éœ€è¦åˆ†æ®µé”çš„æ¦‚å¿µï¼Œä¹Ÿå°±ä¸éœ€è¦Segmentè¿™ç§æ•°æ®ç»“æ„äº†ï¼Œç”±äºç²’åº¦çš„é™ä½ï¼Œå®ç°çš„å¤æ‚åº¦ä¹Ÿå¢åŠ äº† JDK1.8ä½¿ç”¨çº¢é»‘æ ‘æ¥ä¼˜åŒ–é“¾è¡¨ï¼ŒåŸºäºé•¿åº¦å¾ˆé•¿çš„é“¾è¡¨çš„éå†æ˜¯ä¸€ä¸ªå¾ˆæ¼«é•¿çš„è¿‡ç¨‹ï¼Œè€Œçº¢é»‘æ ‘çš„éå†æ•ˆç‡æ˜¯å¾ˆå¿«çš„ï¼Œä»£æ›¿ä¸€å®šé˜ˆå€¼çš„é“¾è¡¨ï¼Œè¿™æ ·å½¢æˆä¸€ä¸ªæœ€ä½³æ‹æ¡£ synchronizedå®ç°åŸç†ä¸é”çš„å‡çº§è¿‡ç¨‹ã€‚ é”çš„å‡çº§è¿‡ç¨‹ å‡çº§è¿‡ç¨‹ç®€å•ç†è§£ä¸ºï¼š åå‘é” -> è½»é‡çº§é” -> é‡é‡çº§é” synchronizedå®ç°åŸç† synchronized åŒæ­¥è¯­å¥å—çš„å®ç°ä½¿ç”¨çš„æ˜¯ monitorenter å’Œ monitorexit æŒ‡ä»¤ï¼Œå…¶ä¸­ monitorenter æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œmonitorexit æŒ‡ä»¤åˆ™æŒ‡æ˜åŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ã€‚ synchronized ä¿®é¥°çš„æ–¹æ³•å¹¶æ²¡æœ‰ monitorenter æŒ‡ä»¤å’Œ monitorexit æŒ‡ä»¤ï¼Œå–å¾—ä»£ä¹‹çš„ç¡®å®æ˜¯ ACC_SYNCHRONIZED æ ‡è¯†ï¼Œè¯¥æ ‡è¯†æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚ ä¸è¿‡ä¸¤è€…çš„æœ¬è´¨éƒ½æ˜¯å¯¹å¯¹è±¡ç›‘è§†å™¨ monitor çš„è·å–ã€‚ åœ¨æ‰§è¡Œmonitorenteræ—¶ï¼Œä¼šå°è¯•è·å–å¯¹è±¡çš„é”ï¼Œå¦‚æœé”çš„è®¡æ•°å™¨ä¸º 0 åˆ™è¡¨ç¤ºé”å¯ä»¥è¢«è·å–ï¼Œè·å–åå°†é”è®¡æ•°å™¨è®¾ä¸º 1 ä¹Ÿå°±æ˜¯åŠ  1ã€‚ åœ¨æ‰§è¡Œ monitorexit æŒ‡ä»¤åï¼Œå°†é”è®¡æ•°å™¨è®¾ä¸º 0ï¼Œè¡¨æ˜é”è¢«é‡Šæ”¾ã€‚å¦‚æœè·å–å¯¹è±¡é”å¤±è´¥ï¼Œé‚£å½“å‰çº¿ç¨‹å°±è¦é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°é”è¢«å¦å¤–ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ä¸ºæ­¢ã€‚ æ•°æ®åº“æ˜¯å¦ç”¨äº†ç´¢å¼•ï¼Ÿç”¨explainæ— æ³•çœ‹å‡ºç´¢å¼•ç”¨äº†å“ªä¸€éƒ¨åˆ†ï¼Ÿ é‡åˆ°éç­‰å€¼åˆ¤æ–­æ—¶åŒ¹é…åœæ­¢ a = ? and b = ? and c= ? a = ? and b = ? and c > ? a = ? and b > ? and c > ?ï¼Œ åªç”¨åˆ°ç´¢å¼•çš„ä¸€éƒ¨åˆ†(a,b)ï¼Œå› ä¸ºbæŠŠæ•°æ®é˜»æ–­äº†ï¼Œbä¸æ˜¯å®šæ¤æ—¶ï¼Œcæ—¶æ— åºçš„ï¼Œæ— æ³•ä½¿ç”¨(a,b,c)ç´¢å¼• springå¾ªç¯å¼•ç”¨çš„é—®é¢˜ï¼ŒA->B->Aé—®é¢˜,æ€ä¹ˆè§£å†³ Spring ä¸ºäº†è§£å†³å•ä¾‹çš„å¾ªç¯ä¾èµ–é—®é¢˜ï¼Œä½¿ç”¨äº†ä¸‰çº§ç¼“å­˜ã€‚å…¶ä¸­ä¸€çº§ç¼“å­˜ä¸ºå•ä¾‹æ± ï¼ˆsingletonObjectsï¼‰ï¼ŒäºŒçº§ç¼“å­˜ä¸ºæå‰æ›å…‰å¯¹è±¡ï¼ˆearlySingletonObjectsï¼‰ï¼Œä¸‰çº§ç¼“å­˜ä¸ºæå‰æ›å…‰å¯¹è±¡å·¥å‚ï¼ˆsingletonFactoriesï¼‰ã€‚ å‡è®¾Aã€Bå¾ªç¯å¼•ç”¨ï¼Œå®ä¾‹åŒ– A çš„æ—¶å€™å°±å°†å…¶æ”¾å…¥ä¸‰çº§ç¼“å­˜ä¸­ï¼Œæ¥ç€å¡«å……å±æ€§çš„æ—¶å€™ï¼Œå‘ç°ä¾èµ–äº† Bï¼ŒåŒæ ·çš„æµç¨‹ä¹Ÿæ˜¯å®ä¾‹åŒ–åæ”¾å…¥ä¸‰çº§ç¼“å­˜ï¼Œæ¥ç€å»å¡«å……å±æ€§æ—¶åˆå‘ç°è‡ªå·±ä¾èµ– Aï¼Œè¿™æ—¶å€™ä»ç¼“å­˜ä¸­æŸ¥æ‰¾åˆ°æ—©æœŸæš´éœ²çš„ Aï¼Œæ²¡æœ‰ AOP ä»£ç†çš„è¯ï¼Œç›´æ¥å°† A çš„åŸå§‹å¯¹è±¡æ³¨å…¥ Bï¼Œå®Œæˆ B çš„åˆå§‹åŒ–åï¼Œè¿›è¡Œå±æ€§å¡«å……å’Œåˆå§‹åŒ–ï¼Œè¿™æ—¶å€™ B å®Œæˆåï¼Œå°±å»å®Œæˆå‰©ä¸‹çš„ A çš„æ­¥éª¤ï¼Œå¦‚æœæœ‰ AOP ä»£ç†ï¼Œå°±è¿›è¡Œ AOP å¤„ç†è·å–ä»£ç†åçš„å¯¹è±¡ Aï¼Œæ³¨å…¥ Bï¼Œèµ°å‰©ä¸‹çš„æµç¨‹ã€‚ ä¸¾ä¸ªä¸ç”¨å›è¡¨çš„ä¾‹å­ å›è¡¨ï¼šæ•°æ®åº“æ ¹æ®ç´¢å¼•æ‰¾åˆ°äº†æŒ‡å®šçš„è®°å½•æ‰€åœ¨è¡Œåï¼Œè¿˜éœ€è¦æ ¹æ®rowidå†æ¬¡åˆ°æ•°æ®å—é‡Œå–æ•°æ®çš„æ“ä½œã€‚ æ¯”å¦‚ï¼šselect code from order where mcode = â€˜M001â€™;å› ä¸ºmcodeç´¢å¼•ï¼Œæ‰€ä»¥æŸ¥è¯¢mcodeçš„ç´¢å¼•ï¼ŒæŸ¥åˆ°ç¬¦åˆè¦æ±‚çš„æ•°æ®çš„rowid(ç´¢å¼•å†…æ˜¯ä¸ä¼šä¿å­˜å…·ä½“æ•°æ®çš„)ï¼Œå†æ ¹æ®rowidï¼ŒæŸ¥è¯¢åˆ°å…·ä½“çš„æ•°æ®ï¼Œæ‹¿åˆ°codeã€‚ å¦‚ä½•é¿å…å›è¡¨ ä½¿ç”¨è¦†ç›–ç´¢å¼•ã€‚ ä½¿ç”¨mcodeçš„ç´¢å¼•ï¼Œä½¿ç”¨(mcode,code)çš„è”åˆç´¢å¼•ã€‚ åœ¨æŸ¥æ‰¾åˆ°mcodeçš„ç´¢å¼•åï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°codeäº†ï¼Œä¸éœ€è¦å†å›è¡¨ã€‚ Mysqlä¸»é”®ç”¨uuidä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ ä¸»é”®ä¸€èˆ¬ä½¿ç”¨ mysqlçš„è‡ªå¢ä¸»é”®ã€uuidã€é›ªèŠ±ç®—æ³•ã€‚ è‡ªå¢ä¸»é”®ï¼šå‡å°‘äº†é¡µåˆ†è£‚å’Œç¢ç‰‡çš„äº§ç”Ÿ æ•ˆç‡æœ€é«˜ uuid: uuidæ¯«æ— è§„å¾‹ã€æ–°å¢çš„å€¼ä¸ä¸€å®šæ¯”ä¹‹å‰çš„ä¸»é”®å€¼å¤§ï¼Œæ‰€ä»¥innodbæ— æ³•æ€»æ•°å°†æ–°è¡Œæ’å…¥åˆ°ç´¢å¼•çš„æœ€å â‘  å†™å…¥çš„ç›®æ ‡é¡µå¾ˆå¯èƒ½å·²ç»åˆ·æ–°åˆ°ç£ç›˜ä¸Šå¹¶ä¸”ä»ç¼“å­˜ä¸Šç§»é™¤ï¼Œæˆ–è€…è¿˜æ²¡æœ‰è¢«åŠ è½½åˆ°ç¼“å­˜ä¸­ï¼Œinnodbåœ¨æ’å…¥ä¹‹å‰ä¸å¾—ä¸å…ˆæ‰¾åˆ°å¹¶ä»ç£ç›˜è¯»å–ç›®æ ‡é¡µåˆ°å†…å­˜ä¸­ï¼Œè¿™å°†å¯¼è‡´å¤§é‡çš„éšæœºIO â‘¡å› ä¸ºå†™å…¥æ˜¯ä¹±åºçš„ï¼Œinnodbä¸å¾—ä¸é¢‘ç¹çš„åšé¡µåˆ†è£‚æ“ä½œï¼Œä»¥ä¾¿ä¸ºæ–°çš„è¡Œåˆ†é…ç©ºé—´ï¼Œé¡µåˆ†è£‚å¯¼è‡´ç§»åŠ¨å¤§é‡çš„æ•°æ®ï¼Œä¸€æ¬¡æ’å…¥æœ€å°‘éœ€è¦ä¿®æ”¹ä¸‰ä¸ªé¡µä»¥ä¸Š â‘¢ç”±äºé¢‘ç¹çš„é¡µåˆ†è£‚ï¼Œé¡µä¼šå˜å¾—ç¨€ç–å¹¶è¢«ä¸è§„åˆ™çš„å¡«å……ï¼Œæœ€ç»ˆä¼šå¯¼è‡´æ•°æ®ä¼šæœ‰ç¢ç‰‡ èšè”Ÿç´¢å¼•å’Œéèšè”Ÿç´¢å¼•çš„åŒºåˆ«ï¼Œæ˜¯å¦åˆ†åˆ«å¯¹åº”ä¸»é”®ç´¢å¼•ã€è¾…åŠ©ç´¢å¼•ï¼Ÿ æ˜¯çš„ èšç°‡ç´¢å¼•ï¼šå°†æ•°æ®å­˜å‚¨ä¸ç´¢å¼•æ”¾åˆ°äº†ä¸€å—ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ®. éèšç°‡ç´¢å¼•ï¼šå°†æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ï¼Œç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹æŒ‡å‘äº†æ•°æ®å¯¹åº”çš„ä½ç½®. jvmåƒåœ¾å›æ”¶æ˜¯å¦‚ä½•åšçš„ï¼Ÿ æ ‡è®°æ¸…é™¤ç®—æ³• ï¼Œäº§ç”Ÿå†…å­˜ç¢ç‰‡ æ ‡è®°æ•´ç†ç®—æ³• ï¼ŒGCæš‚åœæ—¶é—´ä¼šåŠ é•¿ å¤åˆ¶ç®—æ³•ï¼Œ å†…å­˜ç©ºé—´ä½¿ç”¨ç‡åªæœ‰50%ï¼Œå¯åˆ†é…å†…å­˜å‡å°‘äº†ä¸€åŠ åˆ†ä»£æ”¶é›†ç®—æ³•ï¼Œåˆ†ä¸ºedenå’ŒsurvivoråŒºï¼Œ Survivor ç”± FromSpaceä¸ToSpaceç»„æˆï¼Œæ–°ç”Ÿä»£å¤åˆ¶ç®—æ³•æ¥å®Œæˆæ”¶é›†ï¼Œè€å¹´ä»£ä½¿ç”¨ç”¨â€œæ ‡è®°-æ¸…é™¤â€ç®—æ³•æˆ–â€œæ ‡è®°-æ•´ç†â€ç®—æ³•æ¥è¿›è¡Œå›æ”¶ã€‚ ç‰¹åˆ«åœ°ï¼Œåœ¨åˆ†ä»£æ”¶é›†ç®—æ³•ä¸­ï¼Œå¯¹è±¡çš„å­˜å‚¨å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š å¯¹è±¡ä¼˜å…ˆåœ¨ Eden åŒºåˆ†é…ã€‚ å¤§å¯¹è±¡ç›´æ¥è¿›å…¥è€å¹´ä»£ã€‚ é•¿æœŸå­˜æ´»çš„å¯¹è±¡å°†è¿›å…¥è€å¹´ä»£ï¼Œé»˜è®¤ä¸º 15 å²ã€‚ jvmè¿è¡Œæ—¶æœ‰å“ªäº›æ•°æ®åŒº ç¨‹åºè®¡æ•°å™¨ï¼šè®°å½•ç¨‹åºæ‰§è¡Œçš„ä½ç½®ï¼Œæœ‰äº†ç¨‹åºè®¡æ•°å™¨ï¼Œå°±å¯ä»¥ä¿è¯åœ¨æ¶‰åŠçº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢çš„æƒ…æ™¯ä¸‹ï¼Œç¨‹åºä¾ç„¶èƒ½å¤Ÿæ­£ç¡®æ— è¯¯åœ°è¿è¡Œä¸‹å»ã€‚ Javaè™šæ‹Ÿæœºæ ˆï¼šå­˜ç€ç¨‹åºè¿è¡Œæ—¶çš„å±€éƒ¨å˜é‡ï¼Œä¸»è¦åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€‚ æœ¬åœ°æ–¹æ³•æ ˆï¼šä¸ºnativeæ–¹æ³•æœåŠ¡ æ–¹æ³•åŒºï¼šçº¿ç¨‹å…±äº«ï¼Œç”¨äºå­˜å‚¨ç±»çš„å…ƒä¿¡æ¯ã€é™æ€å˜é‡ã€å¸¸é‡ã€å…¨å±€å˜é‡ã€æ™®é€šæ–¹æ³•çš„å­—èŠ‚ç ç­‰å†…å®¹ã€‚ å †ï¼šçº¿ç¨‹å…±äº«ã€å­˜å‚¨å®ä¾‹å¯¹è±¡å’Œæ•°ç»„ javaåƒåœ¾å›æ”¶å™¨æœ‰å“ªäº› Serial(ä¸²è¡ŒGC)æ”¶é›†å™¨ ... ParNew(å¹¶è¡ŒGC)æ”¶é›†å™¨ ... Parallel Scavenge(å¹¶è¡Œå›æ”¶GC)æ”¶é›†å™¨ ... Serial Old(ä¸²è¡ŒGC)æ”¶é›†å™¨ ... Parallel Old(å¹¶è¡ŒGC)æ”¶é›†å™¨ ... CMS(å¹¶å‘GC)æ”¶é›†å™¨ ... G1æ”¶é›†å™¨ å“ˆå¸Œå†²çªå¦‚ä½•è§£å†³ å¼€æ”¾å¯»å€æ³•ï¼Œå†²çªåˆ™æ ¹æ®æŒ‡å®šæ­¥é•¿å‘åå¯»æ‰¾ç›´åˆ°æ‰¾åˆ°ç©ºä½æˆ–æ²¡æœ‰ä½ç½®ã€‚ å†å“ˆå¸Œå‘ï¼Œæœ‰å¤šä¸ªä¸åŒçš„Hashå‡½æ•°ï¼Œå½“å‘ç”Ÿå†²çªæ—¶ï¼Œä½¿ç”¨ç¬¬äºŒä¸ªï¼Œç¬¬ä¸‰ä¸ªï¼Œç­‰å“ˆå¸Œå‡½æ•° ç›´åˆ°ä¸å†å†²çªã€‚ å»ºç«‹å…¬å…±æº¢å‡ºåŒºï¼Œ å°†å“ˆå¸Œè¡¨åˆ†ä¸ºåŸºæœ¬è¡¨å’Œæº¢å‡ºè¡¨ä¸¤éƒ¨åˆ†ï¼Œå‡¡æ˜¯å’ŒåŸºæœ¬è¡¨å‘ç”Ÿå†²çªçš„å…ƒç´ ï¼Œä¸€å¾‹å¡«å…¥æº¢å‡ºè¡¨ ï¼Œç¼ºç‚¹: å¦‚æœªèƒ½å‘½ä¸­å“ˆå¸Œè¡¨ éœ€è¦éå†æŸ¥æ‰¾æº¢å‡ºè¡¨ æŸ¥è¯¢æ•ˆç‡ä½ã€‚ æ‹‰é“¾æ³• ï¼Œå¦‚å‡ºç°å†²çªï¼Œå°†å…¶ä½œä¸ºé“¾è¡¨ä¸€ä¸ªèŠ‚ç‚¹åŠ å…¥å¤´æˆ–è€…å°¾å·´å¤„ã€‚ b+æ ‘å¶å­èŠ‚ç‚¹å­˜çš„æ˜¯æŒ‡é’ˆå—ï¼Ÿå­˜çš„æ˜¯æ•°æ® Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“2.html":{"url":"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“2.html","title":"é¢è¯•æ€»ç»“2","keywords":"","body":"é¢è¯•æ€»ç»“2 cmsçš„åŸç†ï¼Œæ˜¯å¦å‘ç”Ÿstop the worldï¼Œæœ‰ä»€ä¹ˆç¼ºç‚¹ cms(Concurrent Mark Sweep) æ”¶é›†å™¨æ˜¯ä¸€ç§ä»¥è·å–æœ€çŸ­åœé¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼Œæ˜¯åŸºäºæ ‡è®°æ¸…é™¤çš„ç®—æ³•å®ç°çš„ã€‚ æ•´ä¸ªåƒåœ¾å›æ”¶è¿‡ç¨‹æœ‰å››æ­¥ åˆå§‹æ ‡è®°ï¼šæ ‡è®°ä¸€ä¸‹GC Roots èƒ½ç›´æ¥å…³è”çš„å¯¹è±¡ï¼Œé€Ÿåº¦å¾ˆå¿« ï¼ˆstop the worldï¼‰ å¹¶å‘æ ‡è®°ï¼šå¹¶å‘æ ‡è®°æ˜¯ä»GCRootå¼€å§‹ç»§ç»­å‘ä¸‹è¿›è¡Œæ ‡è®° é‡æ–°æ ‡è®°ï¼šä¿®æ­£åœ¨å¹¶å‘æ ‡è®°è¿‡ç¨‹ä¸­å‘ç”Ÿå˜åŒ–çš„æ ‡è®° (stop the world) å¹¶å‘æ¸…é™¤ï¼šæ ‡è®°æ¸…é™¤ç®—æ³•ï¼Œæ¸…é™¤è€å¹´ä»£ä¸­çš„åƒåœ¾ æ•´ä¸ªåƒåœ¾å›æ”¶è¿‡ç¨‹ä¸­è€—æ—¶æœ€é•¿çš„å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤è¿‡ç¨‹æ”¶é›†å™¨çº¿ç¨‹å’Œç”¨æˆ·çº¿ç¨‹ä¸€èµ·å·¥ä½œï¼Œå¹¶å‘æ‰§è¡Œã€‚ CMSæ”¶é›†å™¨çš„ä¼˜ç‚¹ï¼šå¹¶å‘æ”¶é›†ã€ä½åœé¡¿ã€‚ CMSæ”¶é›†å™¨çš„ç¼ºç‚¹ï¼š CMSæ”¶é›†å™¨å¯¹CPUèµ„æºéå¸¸æ•æ„Ÿï¼šç”±äºæ”¶é›†å™¨çº¿ç¨‹(æœ€è€—æ—¶çš„å¹¶å‘æ ‡è®°å’Œå¹¶å‘æ¸…é™¤)å’Œç”¨æˆ·çº¿ç¨‹å¹¶å‘æ‰§è¡Œï¼Œæ”¶é›†å™¨å ç”¨ä¸€éƒ¨åˆ†çº¿ç¨‹ã€cpuå¯¼è‡´åº”ç”¨ç¨‹åºå˜æ…¢ã€‚ CMSå¤„ç†å™¨æ— æ³•å¤„ç†æµ®åŠ¨åƒåœ¾ï¼š å¹¶å‘æ¸…ç†é˜¶æ®µç”¨æˆ·çº¿ç¨‹è¿˜åœ¨è¿è¡Œï¼Œæ”¶é›†å™¨æ ‡è®°åï¼Œç”¨æˆ·çº¿ç¨‹äº§ç”Ÿäº†æ–°çš„åƒåœ¾ï¼ŒCMSæ— æ³•åœ¨æœ¬æ¬¡è¿›è¡Œå¤„ç†ï¼Œåªèƒ½ç­‰å¾…ä¸‹ä¸€æ¬¡gcå¤„ç†ã€‚ CMSåŸºäºæ ‡è®°æ¸…é™¤ç®—æ³•ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼šç©ºé—´ç¢ç‰‡è¿‡å¤šä¼šç»™å¤§å¯¹è±¡åˆ†é…å¸¦æ¥éº»çƒ¦ï¼Œå¯èƒ½ä¼šæå‰è§¦å‘Full GC. è€å¹´ä»£åƒåœ¾å›æ”¶æ”¾ä¸ä¸‹äº†ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆã€‚ æ­¤æ—¶å°±ä¼šç›´æ¥è§¦å‘-æ¬¡\"FullGC\" , å°±æ˜¯å¯¹è€å¹´ä»£è¿›è¡Œåƒåœ¾å›æ”¶,å°½é‡è…¾å‡ºæ¥-äº›å†…å­˜ç©ºé—´,ç„¶åå†æ‰§è¡ŒMinor GC. Full GCå°±æ˜¯å¯¹è€å¹´ä»£è¿›è¡Œåƒåœ¾å›æ”¶,åŒæ—¶ä¹Ÿä¸€èˆ¬ä¼šå¯¹æ–°ç”Ÿä»£è¿›è¡Œåƒåœ¾å›æ”¶ å¦‚æœè¦æ˜¯Full GCè¿‡å, è€å¹´ä»£è¿˜æ˜¯æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´å­˜æ”¾Minor GCè¿‡åçš„å‰©ä½™å­˜æ´»å¯¹è±¡,é‚£ä¹ˆæ­¤æ—¶å°±ä¼šå¯¼è‡´æ‰€è°“çš„\"OOM\"å†…å­˜æº¢å‡ºäº† è€å¹´ä»£ç”¨æ ‡è®°çš„ä¸»è¦åŸå› æ˜¯ä»€ä¹ˆã€‚ æ ‡è®°åƒåœ¾ï¼Œå¦‚æœä½¿ç”¨å¤åˆ¶ç®—æ³•ï¼Œéœ€è¦ä¸¤å€çš„ç©ºé—´ï¼Œè€Œä¸”éœ€è¦å¤åˆ¶å¾ˆå¤šå­˜æ´»çš„å¯¹è±¡ï¼Œè€å¹´ä»£å¯¹è±¡å­˜æ´»æ—¶é—´ä¹…ã€‚ æ•°æ®åº“sqlçš„æ‰§è¡Œè¿‡ç¨‹ ä¸€æ¡æ›´æ–°è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ ä¸€æ¡æŸ¥è¯¢è¯­å¥çš„æ‰§è¡Œè¿‡ç¨‹ sqlæ‰§è¡Œé¡ºåº ç´¢å¼•ä¸ºä»€ä¹ˆç”¨b+æ ‘ï¼Œè€Œä¸æ˜¯ç”¨bæ ‘ï¼Œä¸ºä»€ä¹ˆä¸ç”¨çº¢é»‘æ ‘ã€‚ B+æ ‘åªæœ‰å¶å­èŠ‚ç‚¹å­˜å‚¨æ•°æ®ï¼Œå…¶ä½™èŠ‚ç‚¹ç”¨æ¥ç´¢å¼•ï¼ŒB-æ ‘æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰DataåŸŸï¼Œå¢åˆ°äº†èŠ‚ç‚¹å¤§å°ï¼Œå¢åŠ äº†ç£ç›˜IOæ¬¡æ•°ã€‚B+æ ‘ç›¸å¯¹äºBæ ‘ç£ç›˜IOæ¬¡æ•°å°‘ã€‚ B+æ ‘ç›¸å¯¹äºBæ ‘æŸ¥è¯¢æ€§èƒ½ç¨³å®šï¼Œæ‰€æœ‰æ•°æ®éƒ½åœ¨å¶å­èŠ‚ç‚¹ï¼ŒBæ ‘ä¸ç¨³å®šï¼Œæ•°æ®åœ¨æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹åˆ†æ•£ï¼Œæ•ˆç‡ä¼šä¸ä¸€æ ·ã€‚ B+æ ‘æ”¯æŒèŒƒå›´æŸ¥è¯¢ï¼ŒB+æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹ç”¨æŒ‡é’ˆä¸²èµ·æ¥äº†ï¼Œéå†èŠ‚ç‚¹å°±èƒ½è·å–æ‰€æœ‰æ•°æ®ï¼Œå¯ä»¥è¿›è¡ŒåŒºé—´æŸ¥è¯¢ã€‚ AVLæ ‘å’Œçº¢é»‘æ ‘åŸºæœ¬éƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­æ‰ä¼šä½¿ç”¨çš„æ•°æ®ç»“æ„ï¼Œmysqlæ•°æ®æ˜¯å­˜åœ¨ç£ç›˜çš„ï¼Œçº¢é»‘æ ‘æ˜¯äºŒå‰æœç´¢æ ‘ï¼Œæ·±åº¦å¤ªæ·±ï¼Œç£ç›˜IOæ¬¡æ•°å¤ªå¤šï¼Œæ•ˆç‡ä½ä¸‹ innodbå’Œmyisamä¸­ç´¢å¼•çš„åŒºåˆ«ã€‚ å­˜å‚¨ç»“æ„ï¼šInnoDBæ˜¯èšé›†ç´¢å¼•ï¼Œæ•°æ®æ–‡ä»¶æ˜¯å’Œï¼ˆä¸»é”®ï¼‰ç´¢å¼•ç»‘åœ¨ä¸€èµ·çš„ï¼Œå³ç´¢å¼• + æ•°æ® = æ•´ä¸ªè¡¨æ•°æ®æ–‡ä»¶ã€‚MyISAMæ˜¯éèšé›†ç´¢å¼•ï¼Œä¹Ÿæ˜¯ä½¿ç”¨B+Treeä½œä¸ºç´¢å¼•ç»“æ„ï¼Œç´¢å¼•å’Œæ•°æ®æ–‡ä»¶æ˜¯åˆ†ç¦»çš„ï¼Œç´¢å¼•ä¿å­˜çš„æ˜¯æ•°æ®æ–‡ä»¶çš„æŒ‡é’ˆ é”ï¼šmyisamä½¿ç”¨çš„æ˜¯è¡¨é”ã€innodbä½¿ç”¨çš„æ˜¯è¡Œé”ã€‚ äº‹åŠ¡ï¼šmyisamä¸æ”¯æŒäº‹åŠ¡ä¸MVVC,InnoDBæ”¯æŒäº‹åŠ¡ä¸MVVC ä¸»é”®ï¼šmyisamå…è®¸æ²¡æœ‰ä»»ä½•ç´¢å¼•å’Œä¸»é”®çš„è¡¨å­˜åœ¨ï¼ŒInnoDBå¦‚æœæ²¡æœ‰è®¾å®šä¸»é”®æˆ–éç©ºå”¯ä¸€ç´¢å¼•ï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆä¸»é”®ã€‚ å¤–é”®ï¼šmyisamä¸æ”¯æŒå¤–é”®ï¼Œinnodbæ”¯æŒã€‚ spring aopçš„åŸç†ã€‚cglibå’ŒjdkåŠ¨æ€ä»£ç†çš„åŸç†ï¼Œæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ä¸ºä»€ä¹ˆjdkåŠ¨æ€ä»£ç†ä¸ç»§æ‰¿ç±»ã€‚ æ•°æ®åº“çš„éš”ç¦»çº§åˆ«ï¼Œå¯é‡å¤è¯»æ˜¯å¦è§£å†³äº†å¹»è¯»çš„é—®é¢˜ï¼Œå‘ç”Ÿå¹»è¯»ä¸¾ä¸ªä¾‹å­ã€‚mysqlæ€ä¹ˆè§£å†³å¹»è¯»çš„é—®é¢˜ã€‚ è¯»æœªæäº¤ï¼šä¹Ÿå°±æ˜¯å…è®¸è¯»åˆ°æœªæäº¤çš„å†…å®¹ï¼Œè¿™ç§æƒ…å†µä¸‹æŸ¥è¯¢æ˜¯ä¸ä¼šä½¿ç”¨é”çš„ï¼Œå¯èƒ½ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»ç­‰æƒ…å†µã€‚ è¯»å·²æäº¤ï¼šè¯»å·²æäº¤å°±æ˜¯åªèƒ½è¯»åˆ°å·²ç»æäº¤çš„å†…å®¹ï¼Œå¯ä»¥é¿å…è„è¯»çš„äº§ç”Ÿï¼Œå±äºRDBMSä¸­å¸¸è§çš„é»˜è®¤éš”ç¦»çº§åˆ«ï¼ˆæ¯”å¦‚è¯´Oracleå’ŒSQL Serverï¼‰ï¼Œä½†å¦‚æœæƒ³è¦é¿å…ä¸å¯é‡å¤è¯»æˆ–è€…å¹»è¯»ï¼Œå°±éœ€è¦æˆ‘ä»¬åœ¨SQLæŸ¥è¯¢çš„æ—¶å€™ç¼–å†™å¸¦åŠ é”çš„SQLè¯­å¥ã€‚ å¯é‡å¤è¯»ï¼šä¿è¯ä¸€ä¸ªäº‹åŠ¡åœ¨ç›¸åŒæŸ¥è¯¢æ¡ä»¶ä¸‹ä¸¤æ¬¡æŸ¥è¯¢å¾—åˆ°çš„æ•°æ®ç»“æœæ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥é¿å…ä¸å¯é‡å¤è¯»å’Œè„è¯»ï¼Œä½†æ— æ³•é¿å…å¹»è¯»ã€‚MySQLé»˜è®¤çš„éš”ç¦»çº§åˆ«å°±æ˜¯å¯é‡å¤è¯»ã€‚ ä¸²è¡ŒåŒ–ï¼šå°†äº‹åŠ¡è¿›è¡Œä¸²è¡ŒåŒ–ï¼Œä¹Ÿå°±æ˜¯åœ¨ä¸€ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œå¯ä¸²è¡ŒåŒ–æ˜¯æœ€é«˜çº§åˆ«çš„éš”ç¦»ç­‰çº§ï¼Œå¯ä»¥è§£å†³äº‹åŠ¡è¯»å–ä¸­æ‰€æœ‰å¯èƒ½å‡ºç°çš„å¼‚å¸¸æƒ…å†µï¼Œä½†æ˜¯å®ƒç‰ºç‰²äº†ç³»ç»Ÿçš„å¹¶å‘æ€§ã€‚ å¯é‡å¤è¯»æ— æ³•è§£å†³å¹»è¯»é—®é¢˜ï¼Œä¸²è¡ŒåŒ–å¯ä»¥è§£å†³å¹»è¯»é—®é¢˜ã€‚ mysqlæœ‰å“ªäº›é”ã€‚mvccæ€ä¹ˆå®ç°ã€‚å½“å‰è¯»æ€ä¹ˆæ“ä½œã€‚ çº¿ç¨‹æ± æœ‰å“ªäº›å‚æ•°ã€‚é»˜è®¤çš„æ‹’ç»ç­–ç•¥æœ‰å“ªäº›ã€‚æœ€å¤§çº¿ç¨‹æ•°æœ‰ä»€ä¹ˆç”¨ã€‚ ThreadPoolExecutorç±»å¯è®¾ç½®çš„å‚æ•°ä¸»è¦æœ‰ï¼š int corePoolSize: çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•° int maximumPoolSize: çº¿ç¨‹æ± çš„æœ€å¤§çº¿ç¨‹æ•° long keepAliveTime: å½“çº¿ç¨‹æ•°å¤§äºæ ¸å¿ƒæ•°æ—¶ï¼Œå¤šä½™çš„ç©ºé—²çº¿ç¨‹ç­‰å¾…æ–°ä»»åŠ¡çš„å­˜æ´»æ—¶å€™ TimeUtil unit: keepAliveTime: çš„æ—¶é—´å•ä½ ThreadFactory threadFactory: çº¿ç¨‹å·¥å‚ BlockingQueue workQueueï¼š ç”¨æ¥å­˜å‚¨ç­‰å¾…æ‰§è¡Œä»»åŠ¡çš„é˜Ÿåˆ— RejectedExecutionHandler handlerï¼š æ‹’ç»ç­–ç•¥ æ‹’ç»ç­–ç•¥ï¼š AbortPolicy(é»˜è®¤) ï¼šä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡ºRejectedExecutionException CallerRunsPolicyï¼šç”±è°ƒç”¨çº¿ç¨‹å¤„ç†è¯¥ä»»åŠ¡ã€‚(ä¾‹å¦‚ioæ“ä½œï¼Œçº¿ç¨‹æ¶ˆè´¹é€Ÿåº¦æ²¡æœ‰NIOå¿«ï¼Œå¯èƒ½å¯¼è‡´é˜»å¡é˜Ÿåˆ—ä¸€ç›´å¢åŠ ï¼Œæ­¤æ—¶å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ¨¡å¼) DiscardPolicyï¼šä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸ã€‚ ï¼ˆå¯ä»¥é…åˆè¿™ç§æ¨¡å¼è¿›è¡Œè‡ªå®šä¹‰çš„å¤„ç†æ–¹å¼ï¼‰ iscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—æœ€æ—©çš„æœªå¤„ç†ä»»åŠ¡ï¼Œç„¶åé‡æ–°å°è¯•æ‰§è¡Œä»»åŠ¡ï¼ˆé‡å¤æ‰§è¡Œï¼‰ å¼ºå¼•ç”¨ã€è½¯å¼•ç”¨ã€å¼±å¼•ç”¨ã€è™šå¼•ç”¨æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚ å¼ºå¼•ç”¨ï¼š Object obj = new Object()ä¸­çš„objå°±æ˜¯å¼ºå¼•ç”¨ï¼Œåªè¦å¼ºå¼•ç”¨è¿˜å­˜åœ¨ï¼Œåƒåœ¾å›æ”¶å™¨å°±æ°¸è¿œä¸ä¼šå›æ”¶è°ƒæ­¤ç±»å¯¹è±¡ï¼ŒJVMå®æ„¿æŠ›å‡ºOutOfMemoryError. å¼±å¼•ç”¨ï¼šåªæœ‰å½“JVMè®¤ä¸ºå†…å­˜ä¸è¶³ï¼Œåœ¨å†…å­˜å³å°†å‘ç”Ÿå†…å­˜æº¢å‡ºä¹‹å‰ï¼Œæ‰ä¼šå›æ”¶ï¼Œè½¯å¼•ç”¨å¯ç”¨æ¥å®ç°å†…å­˜æ•æ„Ÿçš„é«˜é€Ÿç¼“å­˜ã€‚ è½¯å¼•ç”¨: è½¯å¼•ç”¨å…³è”çš„å¯¹è±¡åªèƒ½å­˜æ´»åˆ°ä¸‹ä¸€æ¬¡åƒåœ¾æ”¶é›†å‘ç”Ÿä¹‹å‰ï¼Œæ— è®ºå†…å­˜æ˜¯å¦è¶³å¤Ÿï¼Œéƒ½ä¼šå›æ”¶ã€‚ è™šå¼•ç”¨ï¼šåƒåœ¾å›æ”¶æ—¶æ”¶åˆ°ä¸€ä¸ªç³»ç»Ÿé€šçŸ¥ã€‚ threadlocalç”¨è¿‡ä¹ˆï¼ŒåŸç†æ˜¯ä»€ä¹ˆã€‚ Threadlocalåº•å±‚æ˜¯é€šè¿‡threadlocalMapè¿›è¡Œå­˜å‚¨é”®å€¼ æ¯ä¸ªThreadLocalç±»åˆ›å»ºä¸€ä¸ªMapï¼Œç„¶åç”¨çº¿ç¨‹çš„IDä½œä¸ºMapçš„keyï¼Œå®ä¾‹å¯¹è±¡ä½œä¸ºMapçš„valueï¼Œè¿™æ ·å°±èƒ½è¾¾åˆ°å„ä¸ªçº¿ç¨‹çš„å€¼éš”ç¦»çš„æ•ˆæœã€‚ ThreadLocalçš„ä½œç”¨æ˜¯æä¾›çº¿ç¨‹å†…çš„å±€éƒ¨å˜é‡ï¼Œè¿™ç§å˜é‡åœ¨çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå†…èµ·ä½œç”¨ï¼Œå‡å°‘åŒä¸€ä¸ªçº¿ç¨‹å†…å¤šä¸ªå‡½æ•°æˆ–è€…ç»„ä»¶ä¹‹é—´ä¸€äº›å…¬å…±å˜é‡çš„ä¼ é€’çš„å¤æ‚åº¦ã€‚ ThreadLocal å’ŒSynchonized ä¸¤è€…éƒ½æ˜¯è§£å†³å¤šçº¿ç¨‹å¹¶å‘è®¿é—®ï¼ŒSynchronizedç”¨äºçº¿ç¨‹é—´çš„æ•°æ®å…±äº«ï¼Œè€ŒThreadLocalåˆ™ç”¨äºçº¿ç¨‹é—´çš„æ•°æ®éš”ç¦»ï¼ŒSynchronizedæ˜¯åˆ©ç”¨é”çš„æœºåˆ¶ï¼Œä½¿å˜é‡æˆ–ä»£ç å—åœ¨æŸä¸€æ—¶è¯¥åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹è®¿é—®ã€‚è€ŒThreadLocalä¸ºæ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æä¾›äº†å˜é‡çš„å‰¯æœ¬ï¼Œä½¿å¾—æ¯ä¸ªçº¿ç¨‹åœ¨æŸä¸€æ—¶é—´è®¿é—®åˆ°çš„å¹¶ä¸æ˜¯åŒä¸€ä¸ªå¯¹è±¡ï¼Œè¿™æ ·å°±éš”ç¦»äº†å¤šä¸ªçº¿ç¨‹å¯¹æ•°æ®çš„æ•°æ®å…±äº«ã€‚è€ŒSynchronizedå´æ­£å¥½ç›¸åï¼Œå®ƒç”¨äºåœ¨å¤šä¸ªçº¿ç¨‹é—´é€šä¿¡æ—¶èƒ½å¤Ÿè·å¾—æ•°æ®å…±äº« ThreadLocalæä¾›äº†çº¿ç¨‹æœ¬åœ°å˜é‡ï¼ŒThreadLocalæä¾›äº†çº¿ç¨‹æœ¬åœ°å˜é‡ï¼Œå®ƒå¯ä»¥ä¿è¯è®¿é—®åˆ°çš„å˜é‡å±äºå½“å‰çº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¿å­˜æœ‰ä¸€ä¸ªå˜é‡å‰¯æœ¬ï¼Œæ¯ä¸ªçº¿ç¨‹çš„å˜é‡éƒ½ä¸åŒã€‚ThreadLocalç›¸å½“äºæä¾›äº†ä¸€ç§çº¿ç¨‹éš”ç¦»ï¼Œå°†å˜é‡ä¸çº¿ç¨‹ç›¸ç»‘å®šã€‚ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“3.html":{"url":"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“3.html","title":"é¢è¯•æ€»ç»“3","keywords":"","body":"é¢è¯•æ€»ç»“3 javaç±»åŠ è½½è¿‡ç¨‹æ˜¯æ€ä¹ˆæ ·çš„ åŠ è½½->éªŒè¯->å‡†å¤‡->è§£æ->åˆå§‹åŒ–->ä½¿ç”¨->å¸è½½ è¯´ä¸€ä¸‹volatile ä¿è¯å†…å­˜å¯è§æ€§ä¸ç¦æ­¢æŒ‡ä»¤é‡æ’åº ä½¿ç”¨ç¼“å­˜ä¸€è‡´æ€§åè®®ä¿è¯å†…å­˜å¯è§æ€§ï¼Œå½“CPUå¯¹å˜é‡è¿›è¡Œå†™æ“ä½œæ—¶å‘ç°ï¼Œå˜é‡æ˜¯å…±äº«å˜é‡ï¼Œé‚£ä¹ˆå°±ä¼šé€šçŸ¥å…¶ä»–CPUä¸­å°†è¯¥å˜é‡çš„ç¼“å­˜è¡Œè®¾ç½®ä¸ºæ— æ•ˆçŠ¶æ€ã€‚ å½“å…¶ä»–CPUåœ¨æ“ä½œå˜é‡æ—¶å‘ç°æ­¤å˜é‡åœ¨çš„ç¼“å­˜è¡Œå·²ç»æ— æ•ˆï¼Œé‚£ä¹ˆå°±ä¼šå»ä¸»å†…å­˜ä¸­é‡æ–°è¯»å–æœ€æ–°çš„å˜é‡ï¼Œé€šè¿‡å—…æ¢æ€»çº¿ä¼ æ’­æ•°æ®ã€‚ ä½¿ç”¨å†…å­˜å±éšœç¦æ­¢æŒ‡ä»¤é‡æ’åº æ•°æ®åº“æ…¢æŸ¥è¯¢ä¼˜åŒ–äº†è§£å“ªäº› å»ºç´¢å¼•çš„å‡ å¤§åŸåˆ™ï¼š æœ€å·¦å‰ç¼€åŒ¹é…åŸåˆ™ï¼šmysqlä¼šä¸€ç›´å‘å³åŒ¹é…ç›´åˆ°é‡åˆ°èŒƒå›´æŸ¥è¯¢(>ã€ =å’Œinå¯ä»¥ä¹±åºï¼Œæ¯”å¦‚a = 1 and b = 2 and c = 3 å»ºç«‹(a,b,c)ç´¢å¼•å¯ä»¥ä»»æ„é¡ºåº å°½é‡é€‰æ‹©åŒºåˆ†åº¦é«˜çš„åˆ—ä½œä¸ºç´¢å¼•ã€‚ ç´¢å¼•åˆ—ä¸èƒ½å‚ä¸è®¡ç®—ï¼Œä¿æŒåˆ—â€œå¹²å‡€ ï¼Œå‡½æ•°ä¸èµ°ç´¢å¼• å°½é‡çš„æ‰©å±•ç´¢å¼•ï¼Œä¸è¦æ–°å»ºç´¢å¼• æ…¢æŸ¥è¯¢ä¼˜åŒ–æ­¥éª¤ï¼š å…ˆè¿è¡Œçœ‹çœ‹æ˜¯å¦çœŸçš„å¾ˆæ…¢ï¼Œæ³¨æ„è®¾ç½®SQL_NO_CACHE whereæ¡ä»¶å•è¡¨æŸ¥ï¼Œé”å®šæœ€å°è¿”å›è®°å½•è¡¨ï¼Œè¿™å¥è¯çš„æ„æ€æ˜¯æŠŠæŸ¥è¯¢è¯­å¥çš„whereéƒ½åº”ç”¨åˆ°è¡¨ä¸­è¿”å›çš„è®°å½•æ•°æœ€å°çš„è¡¨å¼€å§‹æŸ¥èµ·ï¼Œå•è¡¨æ¯ä¸ªå­—æ®µåˆ†åˆ«æŸ¥è¯¢ï¼Œçœ‹å“ªä¸ªå­—æ®µçš„åŒºåˆ†åº¦æœ€é«˜ï¼Œæ‰¾å‡ºåŒºåˆ†åº¦æœ€é«˜çš„å­—æ®µã€‚ explainæŸ¥çœ‹æ‰§è¡Œè®¡åˆ’ï¼Œæ˜¯å¦ä¸1é¢„æœŸä¸€è‡´ï¼ˆä»é”å®šè®°å½•è¾ƒå°‘çš„è¡¨å¼€å§‹æŸ¥è¯¢ï¼‰ order by limit å½¢å¼çš„sqlè¯­å¥è®©æ’åºçš„è¡¨ä¼˜å…ˆæŸ¥ äº†è§£ä¸šåŠ¡æ–¹ä½¿ç”¨åœºæ™¯ åŠ ç´¢å¼•æ—¶å‚ç…§å»ºç´¢å¼•çš„å‡ å¤§åŸåˆ™ è§‚å¯Ÿç»“æœï¼Œä¸ç¬¦åˆé¢„æœŸç»§ç»­ä»0åˆ†æ æœ‰é‡åˆ°è¿‡å†…å­˜æ³„æ¼å—ï¼Ÿä½ ä»¬æ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "},"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“4.html":{"url":"é¢ç»æ€»ç»“/é¢è¯•æ€»ç»“4.html","title":"é¢è¯•æ€»ç»“4","keywords":"","body":"é¢è¯•æ€»ç»“4 Stringä¸ºä»€ä¹ˆè¦æ˜¯finalç±»å‹çš„ ç»™ä¸€ä¸ªå·²æœ‰å­—ç¬¦ä¸²\"abcd\"ç¬¬äºŒæ¬¡èµ‹å€¼æˆ\"abcedl\"ï¼Œä¸æ˜¯åœ¨åŸå†…å­˜åœ°å€ä¸Šä¿®æ”¹æ•°æ®ï¼Œè€Œæ˜¯é‡æ–°æŒ‡å‘ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œæ–°åœ°å€ Stringæœ¬è´¨æ˜¯ä¸ªcharæ•°ç»„ï¼Œè€Œä¸”ç”¨finalå…³é”®å­—ä¿®é¥°ï¼Œè¿™è¯´æ˜Stringä¸å¯ç»§æ‰¿ã€‚ åå°„æœºåˆ¶çš„åº•å±‚å®ç°æ˜¯ä»€ä¹ˆï¼ŸåŠ¨æ€å‘¢ï¼ŸåŠ¨æ€çš„å®ç°åŸç†ï¼Ÿ Â© gaohueric all right reservedï¼Œpowered by Gitbookæ–‡ä»¶ä¿®è®¢æ—¶é—´ï¼š 2021-12-08 23:22:22 "}}